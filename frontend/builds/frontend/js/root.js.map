{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/UserPreferencesPage.vue?003e","webpack:///./static/img/detective-working.gif","webpack:///./src/components/NavBar.vue?6586","webpack:///./src/views/PrintHistoryPage.vue?e767","webpack:///./src/components/LoadingPlaceholder.vue?7e92","webpack:///./src/components/print-shot-feedback/FocusedFeedbackConsent.vue?d7ba","webpack:///./src/lib/color-scheme-controller.js","webpack:///./src/components/FailureDetectionGauge.vue?582a","webpack:///./src/notifications/plugins lazy ^\\.\\/.*$ namespace object","webpack:///./static/img/octoprint-plugin-guide/moonraker_verification_code.png","webpack:///./src/lib/page-context.js","webpack:///./src/components/g-codes/RenameModal.vue?7119","webpack:///./src/components/prints/PrintHistoryItem.vue?f11b","webpack:///./static/img/mainsail_logo.png","webpack:///./static/img/octopod.webp","webpack:///./src/components/printers/PrinterCard.vue?a946","webpack:///./static/img/octoprint-plugin-guide/install_plugin.png","webpack:///./static/img/octoprint_logo.png","webpack:///./src/views/NewOctoPrintTunnelPage.vue?5b02","webpack:///./src/views/PrinterListPage.vue?5cd3","webpack:///./src/components/g-codes/NewFolderModal.vue?7e5e","webpack:///./src/views/OctoPrintTunnelPage.vue?45a1","webpack:///./static/img/polymer.webp","webpack:///./src/components/g-codes/MoveModal.vue?a119","webpack:///./static/img/printoid.webp","webpack:///./src/views/PrintShotFeedbackApp.vue?81c7","webpack:///./static/img/webpage-multiple.svg","webpack:///./static/img/octoprint-plugin-guide/plugin_wizard_websetup.png","webpack:///./src/components/g-codes/DeleteConfirmationModal.vue?dda4","webpack:///./src/lib/pref.js","webpack:///./src/lib/vue-swal.js","webpack:///./src/lib/filters.js","webpack:///./src/lib/sentry.js","webpack:///./src/components/LoadingPlaceholder.vue","webpack:///src/components/LoadingPlaceholder.vue","webpack:///./src/components/LoadingPlaceholder.vue?6b7e","webpack:///./src/components/LoadingPlaceholder.vue?e935","webpack:///./src/mount.js","webpack:///./src/notifications/plugins.js","webpack:///./src/config/user-preferences/routes.js","webpack:///./src/views/printer-wizard/wizard-routes.js","webpack:///./src/views/NewOctoPrintTunnelPage.vue","webpack:///./src/lib/normalizers.js","webpack:///src/views/NewOctoPrintTunnelPage.vue","webpack:///./src/views/NewOctoPrintTunnelPage.vue?74f1","webpack:///./src/views/NewOctoPrintTunnelPage.vue?183e","webpack:///./src/views/OctoPrintTunnelPage.vue","webpack:///src/views/OctoPrintTunnelPage.vue","webpack:///./src/views/OctoPrintTunnelPage.vue?0454","webpack:///./src/views/OctoPrintTunnelPage.vue?f879","webpack:///./src/views/PrintShotFeedbackApp.vue","webpack:///./src/components/print-shot-feedback/PrintShotCard.vue","webpack:///src/components/print-shot-feedback/PrintShotCard.vue","webpack:///./src/components/print-shot-feedback/PrintShotCard.vue?779c","webpack:///./src/components/print-shot-feedback/PrintShotCard.vue?e9e2","webpack:///./src/components/PageLayout.vue","webpack:///./src/config/layout/sections.js","webpack:///src/components/PageLayout.vue","webpack:///./src/components/PageLayout.vue?b5a4","webpack:///./src/components/PageLayout.vue?7327","webpack:///./src/components/print-shot-feedback/FocusedFeedbackConsent.vue","webpack:///./src/components/VideoBox.vue","webpack:///src/components/VideoBox.vue","webpack:///./src/components/VideoBox.vue?597a","webpack:///./src/components/VideoBox.vue?f9fb","webpack:///./src/components/DetectiveWorking.vue","webpack:///src/components/DetectiveWorking.vue","webpack:///./src/components/DetectiveWorking.vue?b8d3","webpack:///./src/components/DetectiveWorking.vue?6c85","webpack:///src/components/print-shot-feedback/FocusedFeedbackConsent.vue","webpack:///./src/components/print-shot-feedback/FocusedFeedbackConsent.vue?5645","webpack:///./src/components/print-shot-feedback/FocusedFeedbackConsent.vue?55b1","webpack:///src/views/PrintShotFeedbackApp.vue","webpack:///./src/views/PrintShotFeedbackApp.vue?4003","webpack:///./src/views/PrintShotFeedbackApp.vue?c1dc","webpack:///./src/views/PrintHistoryPage.vue","webpack:///./src/components/CascadedDropdown.vue","webpack:///src/components/CascadedDropdown.vue","webpack:///./src/components/CascadedDropdown.vue?77f8","webpack:///./src/components/CascadedDropdown.vue?182f","webpack:///./src/components/prints/PrintHistoryItem.vue","webpack:///src/components/prints/PrintHistoryItem.vue","webpack:///./src/components/prints/PrintHistoryItem.vue?73e1","webpack:///./src/components/prints/PrintHistoryItem.vue?a1f8","webpack:///src/views/PrintHistoryPage.vue","webpack:///./src/views/PrintHistoryPage.vue?7ee8","webpack:///./src/views/PrintHistoryPage.vue?850b","webpack:///./src/views/PrintsPage.vue","webpack:///./src/components/prints/PrintCard.vue","webpack:///./src/components/FailureDetectionGauge.vue","webpack:///src/components/FailureDetectionGauge.vue","webpack:///./src/components/FailureDetectionGauge.vue?61ad","webpack:///./src/components/FailureDetectionGauge.vue?3aec","webpack:///src/components/prints/PrintCard.vue","webpack:///./src/components/prints/PrintCard.vue?cf6f","webpack:///./src/components/prints/PrintCard.vue?37e3","webpack:///./src/components/prints/FullScreenPrintCard.vue","webpack:///src/components/prints/FullScreenPrintCard.vue","webpack:///./src/components/prints/FullScreenPrintCard.vue?6e57","webpack:///./src/components/prints/FullScreenPrintCard.vue?7223","webpack:///src/views/PrintsPage.vue","webpack:///./src/views/PrintsPage.vue?ebf0","webpack:///./src/views/PrintsPage.vue?fd79","webpack:///./src/views/PrintPage.vue","webpack:///./src/lib/printer-comm.js","webpack:///./src/lib/printer-local-comm.js","webpack:///./src/components/g-codes/sendToPrint.js","webpack:///src/views/PrintPage.vue","webpack:///./src/views/PrintPage.vue?25fb","webpack:///./src/views/PrintPage.vue?3139","webpack:///./src/views/UploadPrintPage.vue","webpack:///src/views/UploadPrintPage.vue","webpack:///./src/views/UploadPrintPage.vue?90e9","webpack:///./src/views/UploadPrintPage.vue?aa99","webpack:///./src/views/PrinterListPage.vue","webpack:///./src/components/printers/PrinterCard.vue","webpack:///./src/lib/janus.js","webpack:///./src/lib/webrtc.js","webpack:///./src/components/StreamingBox.vue","webpack:///./src/lib/viewing-throttle.js","webpack:///src/components/StreamingBox.vue","webpack:///./src/components/StreamingBox.vue?c6cb","webpack:///./src/components/StreamingBox.vue?674b","webpack:///./src/components/printers/DurationBlock.vue","webpack:///src/components/printers/DurationBlock.vue","webpack:///./src/components/printers/DurationBlock.vue?6128","webpack:///./src/components/printers/DurationBlock.vue?a08f","webpack:///./src/components/printers/PrinterActions.vue","webpack:///src/components/printers/PrinterActions.vue","webpack:///./src/components/printers/PrinterActions.vue?a548","webpack:///./src/components/printers/PrinterActions.vue?6439","webpack:///./src/components/printers/StatusTemp.vue","webpack:///src/components/printers/StatusTemp.vue","webpack:///./src/components/printers/StatusTemp.vue?4222","webpack:///./src/components/printers/StatusTemp.vue?b56c","webpack:///./src/components/printers/ConnectPrinter.vue","webpack:///src/components/printers/ConnectPrinter.vue","webpack:///./src/components/printers/ConnectPrinter.vue?8ff4","webpack:///./src/components/printers/ConnectPrinter.vue?2187","webpack:///./src/components/printers/TempTargetEditor.vue","webpack:///src/components/printers/TempTargetEditor.vue","webpack:///./src/components/printers/TempTargetEditor.vue?43fe","webpack:///./src/components/printers/TempTargetEditor.vue?5d73","webpack:///./src/components/printers/SharePrinter.vue","webpack:///src/components/printers/SharePrinter.vue","webpack:///./src/components/printers/SharePrinter.vue?3b36","webpack:///./src/components/printers/SharePrinter.vue?9250","webpack:///src/components/printers/PrinterCard.vue","webpack:///./src/components/printers/PrinterCard.vue?c939","webpack:///./src/components/printers/PrinterCard.vue?6a73","webpack:///./src/views/GCodeFoldersPage.vue","webpack:///./src/components/SearchInput.vue","webpack:///src/components/SearchInput.vue","webpack:///./src/components/SearchInput.vue?8cb6","webpack:///./src/components/SearchInput.vue?c4fb","webpack:///./src/components/g-codes/NewFolderModal.vue","webpack:///src/components/g-codes/NewFolderModal.vue","webpack:///./src/components/g-codes/NewFolderModal.vue?6d52","webpack:///./src/components/g-codes/NewFolderModal.vue?53ec","webpack:///./src/components/g-codes/RenameModal.vue","webpack:///src/components/g-codes/RenameModal.vue","webpack:///./src/components/g-codes/RenameModal.vue?5aa0","webpack:///./src/components/g-codes/RenameModal.vue?2362","webpack:///./src/components/g-codes/MoveModal.vue","webpack:///./src/components/g-codes/GCodeFileStructure.vue","webpack:///./src/components/g-codes/FileStructureItem.vue","webpack:///src/components/g-codes/FileStructureItem.vue","webpack:///./src/components/g-codes/FileStructureItem.vue?5ad0","webpack:///./src/components/g-codes/FileStructureItem.vue?314a","webpack:///src/components/g-codes/GCodeFileStructure.vue","webpack:///./src/components/g-codes/GCodeFileStructure.vue?3ab7","webpack:///./src/components/g-codes/GCodeFileStructure.vue?91e1","webpack:///src/components/g-codes/MoveModal.vue","webpack:///./src/components/g-codes/MoveModal.vue?83a9","webpack:///./src/components/g-codes/MoveModal.vue?95f8","webpack:///./src/components/g-codes/DeleteConfirmationModal.vue","webpack:///src/components/g-codes/DeleteConfirmationModal.vue","webpack:///./src/components/g-codes/DeleteConfirmationModal.vue?384b","webpack:///./src/components/g-codes/DeleteConfirmationModal.vue?7cfc","webpack:///src/views/GCodeFoldersPage.vue","webpack:///./src/views/GCodeFoldersPage.vue?aeba","webpack:///./src/views/GCodeFoldersPage.vue?1860","webpack:///./src/views/GCodeFilePage.vue","webpack:///./src/components/g-codes/AvailablePrinters.vue","webpack:///src/components/g-codes/AvailablePrinters.vue","webpack:///./src/components/g-codes/AvailablePrinters.vue?8eeb","webpack:///./src/components/g-codes/AvailablePrinters.vue?7f70","webpack:///src/views/GCodeFilePage.vue","webpack:///./src/views/GCodeFilePage.vue?3865","webpack:///./src/views/GCodeFilePage.vue?231b","webpack:///src/views/PrinterListPage.vue","webpack:///./src/views/PrinterListPage.vue?b402","webpack:///./src/views/PrinterListPage.vue?5799","webpack:///./src/views/SharedPrinterPage.vue","webpack:///./src/components/NavBar.vue","webpack:///src/components/NavBar.vue","webpack:///./src/components/NavBar.vue?29e7","webpack:///./src/components/NavBar.vue?5c6d","webpack:///src/views/SharedPrinterPage.vue","webpack:///./src/views/SharedPrinterPage.vue?ba3e","webpack:///./src/views/SharedPrinterPage.vue?efd5","webpack:///./src/views/PrinterSettingsPage.vue","webpack:///./src/components/NumberInput.vue","webpack:///src/components/NumberInput.vue","webpack:///./src/components/NumberInput.vue?f6fb","webpack:///./src/components/NumberInput.vue?8f60","webpack:///src/views/PrinterSettingsPage.vue","webpack:///./src/views/PrinterSettingsPage.vue?6beb","webpack:///./src/views/PrinterSettingsPage.vue?6820","webpack:///./src/views/printer-wizard/PrinterWizardPage.vue","webpack:///./src/components/printers/DiscoveredPrinter.vue","webpack:///src/components/printers/DiscoveredPrinter.vue","webpack:///./src/components/printers/DiscoveredPrinter.vue?223f","webpack:///./src/components/printers/DiscoveredPrinter.vue?a839","webpack:///./src/components/printers/AutoLinkPopup.vue","webpack:///src/components/printers/AutoLinkPopup.vue","webpack:///./src/components/printers/AutoLinkPopup.vue?7dde","webpack:///./src/components/printers/AutoLinkPopup.vue?608d","webpack:///src/views/printer-wizard/PrinterWizardPage.vue","webpack:///./src/views/printer-wizard/PrinterWizardPage.vue?21b8","webpack:///./src/views/printer-wizard/PrinterWizardPage.vue?e3df","webpack:///./src/views/PrinterControlPage.vue","webpack:///src/views/PrinterControlPage.vue","webpack:///./src/views/PrinterControlPage.vue?e17e","webpack:///./src/views/PrinterControlPage.vue?1081","webpack:///./src/views/UserPreferencesPage.vue","webpack:///./src/config/user-preferences/sections.js","webpack:///src/views/UserPreferencesPage.vue","webpack:///./src/views/UserPreferencesPage.vue?9ec7","webpack:///./src/views/UserPreferencesPage.vue?c574","webpack:///./src/views/PrinterEventsPage.vue","webpack:///./src/components/printer-events/PrinterEventCard.vue","webpack:///src/components/printer-events/PrinterEventCard.vue","webpack:///./src/components/printer-events/PrinterEventCard.vue?af32","webpack:///./src/components/printer-events/PrinterEventCard.vue?bdf2","webpack:///src/views/PrinterEventsPage.vue","webpack:///./src/views/PrinterEventsPage.vue?bfa3","webpack:///./src/views/PrinterEventsPage.vue?98b0","webpack:///./src/pages.js","webpack:///./src/main.js","webpack:///./src/components/NumberInput.vue?e1d0","webpack:///./src/components/VideoBox.vue?1758","webpack:///./static/js/color-scheme.js","webpack:///./src/views/UploadPrintPage.vue?7ae1","webpack:///./src/components/g-codes/FileStructureItem.vue?4687","webpack:///./src/views/GCodeFilePage.vue?b729","webpack:///./src/components/printers/DiscoveredPrinter.vue?d6a5","webpack:///./src/views/PrinterControlPage.vue?d2fa","webpack:///./src/components/prints/FullScreenPrintCard.vue?b191","webpack:///./src/components/StreamingBox.vue?b0e4","webpack:///./static/js/utils.js","webpack:///./src/styles/main.sass?967e","webpack:///./src/views/PrinterListPage.vue?17dd","webpack:///./src/views/PrintsPage.vue?1feb","webpack:///./src/views/OctoPrintTunnelPage.vue?b3c6","webpack:///./src/components/SavingAnimation.vue","webpack:///src/components/SavingAnimation.vue","webpack:///./src/components/SavingAnimation.vue?6e6a","webpack:///./src/components/SavingAnimation.vue?3c7d","webpack:///./src/components/printer-events/PrinterEventCard.vue?4fc9","webpack:///./static/img/klipper_logo.jpg","webpack:///./src/components/SavingAnimation.vue?a520","webpack:///./static/img/raspberry_pi.png","webpack:///./src/components/DetectiveWorking.vue?4a1d","webpack:///./src/views/GCodeFoldersPage.vue?b614","webpack:///./static/img/fluidd_logo.png","webpack:///./src/components/SearchInput.vue?dd46","webpack:///./src/components/g-codes/GCodeFileStructure.vue?8058","webpack:///./static/img/octoprint-plugin-guide/plugin_rerun_setup.png","webpack:///./src/lib/utils.js","webpack:///./src/components/g-codes/AvailablePrinters.vue?0870","webpack:///./src/views/printer-wizard/PrinterWizardPage.vue?196a","webpack:///./src/components/printers/AutoLinkPopup.vue?deaf","webpack:///./src/components/PageLayout.vue?1762","webpack:///./src/config/server-urls.js","webpack:///./static/img/octoapp.webp","webpack:///./src/components/prints/PrintCard.vue?fbd3","webpack:///./static/img/generic-app.png","webpack:///./src/components/PageLayout.vue?6bc1","webpack:///./src/views/SharedPrinterPage.vue?3843","webpack:///./src/components/printers/SharePrinter.vue?71bf","webpack:///./src/views/PrinterSettingsPage.vue?6e5f","webpack:///./src/views/PrintPage.vue?51d1","webpack:///./src/views/printer-wizard/PrinterWizardPage.vue?eeac","webpack:///./static/img/octoprint-plugin-guide/plugin_verification_code.png","webpack:///./static/img/vacation.gif"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","theme","Vue","observable","defaultTheme","currentThemeValue","themeValue","initTheme","init","setTheme","newTheme","isLocalStorageSupported","localStorage","setItem","map","webpackAsyncContext","req","ids","id","keys","mobilePlatform","JSON","parse","querySelector","text","inMobileWebView","user","settings","onlyNotifications","URLSearchParams","location","search","onlyName","getLocalPref","prefId","defaultValue","savedVal","getItem","val","setLocalPref","openModalWithComponent","C","props","modalOptions","wrapper","render","h","$mount","swal","customClass","container","html","onBeforeOpen","el","replaceWith","$el","onDestroy","$destroy","remove","openModalWithElement","element","install","options","use","VueSwal","Confirm","mixin","title","showCancelButton","confirmButtonText","cancelButtonText","Toast","toast","position","showConfirmButton","timer","Reject","icon","Prompt","DismissableToast","swalOpt","dismissKey","opt","log","$swal","filter","Math","floor","COMPONENT_NAME_REGEXP","ROOT_COMPONENT_NAME","ANONYMOUS_COMPONENT_NAME","splitPathRe","splitPath","filename","parts","exec","basename","path","ext","f","substr","getComponentName","vm","$root","$options","_componentTag","__file","unifiedFile","replace","_","toUpperCase","build","to","from","prefix","depth","maxDepth","maxKeys","setup","defaultErrorHandler","config","errorHandler","info","Sentry","metadata","obj","_original","componentName","stringify","propsData","_oO","lifecycleHook","getCurrentHub","withScope","scope","setContext","captureException","util","warn","toString","_vm","this","_c","_self","staticClass","staticRenderFns","router","components","setupSentry","VueRouter","BootstrapVue","Sticky","VueMoment","VuePluralize","OnoffToggle","LoadScript","methods","_showErrorPopup","userMessage","fire","component","LoadingPlaceholder","getElementById","email","displayName","twilio","pushbullet","discord","telegram","pushover","slack","defaultRoutes","ThemePreferences","ProfilePreferences","AuthorizedApps","GeneralNotifications","PushNotifications","notificationRoutes","notificationPlugins","reduce","assign","routes","printerWizard","printerWizardSetup","attrs","printersToShow","_v","isEnt","trialDaysLeft","_s","wizardUrl","_e","authorized","appName","is_pro","directives","rawName","printerToAuthorize","expression","on","$event","$$selectedVal","Array","selected","_value","multiple","domProps","_l","printer","staticStyle","performingAuthRequest","authorize","appLogo","require","loginUrl","signupUrl","toMomentOrNull","datetimeStr","moment","PrintStatus","Printing","Finished","Cancelled","normalizedPrint","print","started_at","uploaded_at","finished_at","cancelled_at","ended_at","duration","diff","hours","minutes","has_alerts","Boolean","alerted_at","printShotFeedbackEligible","printshotfeedback_set","status","normalizedPrinter","g_code_file","normalizedGcode","gcode","created_at","updated_at","deleted","filesize","num_bytes","print_set","sort","a","b","last_print","failedPrints","successPrints","totalPrints","normalizedGcodeFolder","folder","numItems","g_code_file_count","g_code_folder_count","newData","oldData","printerMixin","createdAt","isOffline","isPaused","isDisconnected","isActive","flags","operational","ready","paused","inTransientState","hasError","includes","inUserInteractionRequired","toLowerCase","isAgentMoonraker","agentDisplayName","basicStreamingInWebrtc","semverGte","alertUnacknowledged","isAfter","isPrintable","printabilityText","browsabilityMinPluginVersion","MIN_OCTOPRINT_PLUGIN_VERSION","MIN_MOONRAKER_PLUGIN_VERSION","isBrowsable","browsabilityText","normalizedPrinterEvent","printerEvent","printers","printerId","computed","created","IS_ENT","fetchPrinters","response","axios","post","app_name","target_printer_id","catch","isPro","usageFetched","showDetails","daysUntilReset","class","usageClass","usageMTD","humanizedUsageCap","overage","percentage","iframeUrl","bytesMTD","usageCap","mounted","input","inputPlaceholder","self","setInterval","fetchUsage","scopedSlots","_u","fn","access_consented_at","ref","onNextShot","page","pageClass","shots","shot","onShotChanged","consentBtnPressed","proxy","image_url","updateShot","model","answer","callback","$$v","_m","BFormGroup","BFormRadioGroup","required","put","instance","credited_dhs","collapsed","isPopup","active","hasUnseenPrinterEvents","unseenPrinterEventsDisplay","$slots","topBarLeft","topBarRight","_t","layoutSections","contentTop","default","allowSignUp","ACCOUNT_ALLOW_SIGN_UP","staticAlert","estimatedFeedbackTime","consentChecked","$emit","isArray","_i","$$a","$$el","$$c","checked","$$i","concat","fromNow","video_url","poster_url","playerOptions","onTimeUpdate","downloadBtn","fullscreenBtn","exitFullscreenBtn","videoPlayer","videoUrl","posterUrl","fluid","autoplay","defaultFullScreenToggle","muted","preload","language","playbackRates","fill","sources","controlBar","fullscreenToggle","poster","VideoBox","DetectiveWorking","FocusedFeedbackConsent","Loading","PrintShotCard","VueSlickCarousel","PageLayout","currentShot","fetchData","updatePrint","patch","menuOptions","menuSelections","menuSelectionChanged","shouldShowFilterWarning","preventDefault","onShowAllClicked","arguments","activeFiltering","prints","loading","fetchMoreData","noMoreData","menuExpanded","menu","stopPropagation","iconClass","activeItems","option","onSelected","style","visibility","items","openPrint","format","backgroundImage","LOCAL_PREF_NAMES","filtering","sorting","PAGE_SIZE","MugenScroll","CascadedDropdown","PrintHistoryItem","params","start","limit","refetchData","allPrintsSelected","selectedPrintIds","size","onDeleteBtnClick","visiblePrints","has","onSelectedChanged","onPrintDeleted","printDataChanged","openFullScreen","fullScreenClosed","fullScreenPrint","fullScreenPrintVideoUrl","isPublic","creator_name","hasSelectedChangedListener","isSelected","selectedCardView","canShowDetectiveView","video_archived_at","tagged_video_url","deleteVideo","posterSrc","showVideoArchivedDescription","hasFullscreenListener","cardView","modifiers","humanizedPrintedOrUploadedTime","longFormat","wasTimelapseUploaded","endStatus","_f","humanize","opacity","normalizedP","prediction_json_url","thumbedUp","onThumbUpClick","inflightAlertOverwrite","thumbedDown","onThumbDownClick","focusedFeedbackLink","need_print_shot_feedback","color","titleColor","titleText","computedOptions","RadialGauge","isWatching","highlight1","highlight2","highlight3","needle","valueDec","valueInt","width","height","units","box","minValue","maxValue","majorTicks","minorTicks","highlights","colorPlate","colorTitle","colorStrokeTicks","colorNeedleEnd","colorNeedle","colorNeedleShadowUp","valueBox","animationRule","animationDuration","animatedValue","startAngle","ticksAngle","borders","level","FailureDetectionGauge","ALERT_THRESHOLD","currentPosition","predictions","watch","alertOverwrite","alert_overwrite","fetchPredictions","showCloseButton","initialPosition","PrintCard","FullScreenPrintCard","set","selectedPrintIdsClone","print_ids","isLoading","onRepeatPrintClicked","isSending","absoluteDateFormat","fullscreenUrl","enterFullscreen","exitFullscreen","downloadFile","PrinterComm","wsUri","onPrinterUpdateReceived","onStatusReceived","ws","webrtc","passthruQueue","Map","ifvisible","closeWebSocket","connect","onPassThruReceived","msg","refId","delete","ret","printer_event","event_class","event_title","event_text","isDismissed","dismiss","onOpenCallback","WebSocket","protocol","host","onmessage","passthru","onopen","ensureWebsocketClosed","heartbeat","setWebRTC","parseJsonData","jsonData","setCallbacks","onData","maybeBin","String","toArrayBuffer","arrayBuffer","pako","ungzip","Uint8Array","passThruToPrinter","canSend","random","sendData","send","onclose","ev","close","readyState","listPrinterLocalGCodesOctoPrint","printerComm","searchKeyword","listRecoursively","fileObj","fileList","item","values","children","kwargs","recursive","func","folders","files","local","ObicoUpload","display","Date","date","listPrinterLocalGCodesMoonraker","pathPrefix","extended","dirsInServerFormat","dirname","startsWith","filesInServerFormat","modified","printPrinterLocalGCodeOctoPrint","args","printAfterSelect","printPrinterLocalGCodeMoonraker","verb","printCloudGCode","sendToPrint","isCloud","Swal","onCommandSent","onPrinterStatusChanged","urls","printerWebSocket","printerStatus","printGCode","checkPrinterStatus","async","REDIRECT_TIMER","showRedirectModal","onClose","timerInterval","round","onOpen","getHtmlContainer","textContent","getTimerLeft","toFixed","clearInterval","isConfirmed","printId","dropzoneOptions","printUploadSuccess","uploaded","vueDropzone","csrf","withCredentials","maxFilesize","acceptedFiles","url","headers","dhBadgeNum","visiblePrinters","onPrinterUpdated","targetPrinter","shouldShowArchiveWarning","archivedPrinterNum","resetGcodesModal","selectedGcodeId","fileId","selectedPrinterId","$bvModal","hide","scrollToTop","parentFolder","savedPath","hasCurrentPrintFilename","current_print","statusClass","statusText","onSharePrinter","octoPrintTunnelUrl","settingsUrl","isProAccount","onNotAFailureClicked","overlay","not_watching_reason","normalized_p","_b","onPrinterActionPauseClicked","onPrinterActionResumeClicked","onPrinterActionCancelClicked","onPrinterActionConnectClicked","onPrinterActionStartClicked","onPrinterActionControlClicked","actionsProps","pressed","section_toggles","onSettingsToggleClicked","time","onTimeToggleClicked","statusTemp","onStatusTempToggleClicked","watchForFailures","onWatchForFailuresToggled","pauseOnFailure","onPauseOnFailureToggled","timeRemaining","timeTotal","progressPct","tempProps","show","onTempEditClicked","Janus","sessions","isExtensionEnabled","navigator","mediaDevices","getDisplayMedia","userAgent","match","chromever","parseInt","maxver","extension","isInstalled","defaultExtension","extensionId","getScreen","pending","cache","postMessage","addEventListener","origin","sourceId","gatewayCallbacks","success","noop","wsopened","destroyed","initDone","isWebrtcSupported","server","websockets","wsHandlers","wsKeepaliveTimeoutId","servers","serversIndex","debug","indexOf","iceServers","iceTransportPolicy","bundlePolicy","ipv6Support","ipv6","maxev","max_poll_events","token","apisecret","destroyOnUnload","keepAlivePeriod","isNaN","longPollTimeout","getMaxBitrates","simulcastMaxBitrates","maxBitrates","high","medium","low","connected","sessionId","pluginHandles","that","retries","transactions","eventHandler","longpoll","getTime","encodeURIComponent","httpAPICall","handleEvent","textStatus","errorThrown","json","skipTimeout","session_id","sender","pluginHandle","candidate","webrtcStuff","pc","remoteSdp","completed","addIceCandidate","endOfCandidates","candidates","webrtcState","hangup","detached","ondetached","detach","mediaState","slowLink","reason","transaction","reportSuccess","plugindata","jsep","vdebug","keepAlive","randomString","createSession","callbacks","eventName","newWebSocket","body","getInfo","destroySession","unload","notifyDestroyed","cleanupHandles","handleId","destroyHandle","noRequest","sendBeacon","unbindWebSocket","removeEventListener","onUnbindMessage","onUnbindError","createHandle","consentDialog","iceState","onlocalstream","onremotestream","ondata","ondataopen","oncleanup","plugin","opaqueId","handleToken","session","started","myStream","streamExternal","remoteStream","mySdp","mediaConstraints","dataChannel","dtmfSender","trickle","iceDone","volume","bitrate","bsnow","bsbefore","tsnow","tsbefore","getId","getPlugin","getVolume","getRemoteVolume","getLocalVolume","isAudioMuted","isMuted","muteAudio","mute","unmuteAudio","isVideoMuted","muteVideo","unmuteVideo","getBitrate","sendMessage","dtmf","sendDtmf","createOffer","prepareWebrtc","createAnswer","handleRemoteJsep","prepareWebrtcPeer","ontrackmuted","ontrackunmuted","sendRequest","cleanupWebrtc","sdp","e2ee","rid_order","sendTrickleCandidate","createDataChannel","dclabel","dcprotocol","incoming","pendingData","onDataChannelMessage","label","onDataChannelStateChange","dcState","onDataChannelError","dcoptions","ordered","dataChanDefaultLabel","senders","getSenders","audioSender","find","track","kind","ontonechange","tone","tones","gap","insertDTMF","streamsDone","media","stream","stopAllTracks","getAudioTracks","getVideoTracks","addTracks","update","replaceAudio","replaceVideo","isAudioSendEnabled","addAudio","addTrack","unifiedPlan","audioTransceiver","transceivers","getTransceivers","receiver","replaceTrack","isVideoSendEnabled","addVideo","videoTransceiver","pc_config","webRTCAdapter","browserDetails","browser","version","pc_constraints","optional","rtcConstraints","RTCRtpSender","createEncodedStreams","createEncodedAudioStreams","createEncodedVideoStreams","senderTransforms","receiverTransforms","RTCPeerConnection","getStats","oniceconnectionstatechange","iceConnectionState","onicecandidate","sendSDP","sdpMid","sdpMLineIndex","ontrack","streams","onended","receiverStreams","createAudioEncodedStreams","readableStream","writableStream","pipeThrough","pipeTo","readable","writable","trackMutedTimeoutId","removeTrack","onmute","onunmute","simulcast2","getTracks","forEach","tr","addTransceiver","direction","sendEncodings","rid","maxBitrate","scaleResolutionDownBy","senderStreams","isDataEnabled","ondatachannel","channel","oldsdp","pattern","newsdp","setRemoteDescription","offer","webrtcError","audio","video","isTrickleEnabled","keepAudio","removeAudio","audioSend","keepVideo","removeVideo","videoSend","addData","at","stop","ra","asnd","vt","rv","vsnd","isGetUserMediaAvailable","constraints","mandatory","audioSupport","videoSupport","simulcast","screenshareFrameRate","frameRate","screenshareHeight","screenshareWidth","captureDesktopAudio","getUserMedia","audioStream","callbackUserMedia","getScreenMedia","gsmCallback","useAudio","googLeakyBucket","maxWidth","screen","maxHeight","minFrameRate","maxFrameRate","chromeMediaSource","googTemporalLayeredScreencast","chromeMediaSourceId","mozMediaSource","mediaSource","lastTime","currentTime","polly","enumerateDevices","devices","audioExist","some","device","videoExist","isScreenSendEnabled","needAudioDevice","isAudioSendRequired","needVideoDevice","isVideoSendRequired","haveAudioDevice","haveVideoDevice","gumConstraints","customizeSdp","audioRecv","isAudioRecvEnabled","setDirection","videoRecv","isVideoRecvEnabled","iceRestart","sendVideo","parameters","getParameters","encodings","setParameters","mungeSdpForSimulcasting","setLocalDescription","offerToReceiveAudio","offerToReceiveVideo","OfferToReceiveAudio","OfferToReceiveVideo","localDescription","sdpSent","remote","stats","res","remoteSource","audioLevel","enabled","inStats","mediaType","bytesReceived","googCodecName","fps","framesPerSecond","timestamp","timePassed","bitRate","hangupRequest","lines","split","ssrc","ssrc_fid","cname","msid","mslabel","insertAt","mline","sim","fid","join","endsWith","failIfNoAudio","failIfNoVideo","getServer","isConnected","reconnect","getSessionId","destroy","attach","useDefaultDependencies","deps","fetch","socketCls","proto","arr","adapter","fetchOptions","method","credentials","fetching","timerId","race","ok","parsed","useOldDependencies","jq","jQuery","payload","contentType","xhrFields","ajax","extend","dataType","xhr","tracks","mst","trace","usedDependencies","dependencies","listDevices","attachMediaStream","srcObject","URL","createObjectURL","reattachMediaStream","iOS","platform","oldOBF","safariVp8","getCapabilities","codecs","codec","mimeType","testpc","RTCRtpTransceiver","tempPc","len","charSet","randomPoz","substring","printerWebRTCUrl","printerSharedWebRTCUrl","authToken","turnServer","hostname","credential","username","WebRTCConnection","initialized","mainWebRTCConn","MainWebRTCConnection","mjpegWebRTCConn","MJpegtWebRTCConnection","openForShareToken","shareToken","openForPrinter","stopStream","startStream","streamId","streaming","bitrateInterval","connectJanusWebSocket","janus","onStreamAvailable","onMessage","rawData","onMJpegData","channelOpen","offer_video","streamIdToTest","videoStreamExisting","onRemoteStream","onTrackMuted","onTrackUnmuted","uplink","lost","onSlowLink","onDefaultStreamCleanup","clearBitrateInterval","onBitrateUpdated","slowLinkLoss","slowLinkClicked","fixSlowLinkTextWidth","slowLinkShowing","slowLinkHiding","showing","hiding","trackMuted","showMutedStatusDescription","isVideoAvailable","isBasicStreamingReadyToPlay","isBasicStreamingFrozen","onPlayBtnClicked","remainingSecondsUntilNextCycle","videoLoading","isBasicStreamingInProgress","currentBitrate","clickable","onInfoClicked","remainingSecondsCurrentVideoCycle","webcamRotateClass","webcamRatioClass","taggedSrc","printerStockImgSrc","flipH","webcam_flipH","flipV","webcam_flipV","showMJpeg","mjpgSrc","showVideo","webcamVideoHeight","onLoadStart","onCanPlay","ViewingThrottle","countDownCallback","localStorageItemId","remainingSeconds","countDownTimer","startOrResumeVideoCycle","countDown","resumeVideoCycle","updateRemainingSeconds","newValue","remainingViewableSeconds","tsNextVideoCycle","parseFloat","now","MJpegStreamDecoder","onFrame","contentLength","imageBuffer","bytesRead","originalJpgLength","stickyStreamingSrc","isVideoVisible","taggedImgAvailable","onWebRTCRemoteStream","valid","printing","showHours","showMinutes","showSeconds","seconds","state","onPauseToggled","connecting","onConnectClicked","connectBtnClicked","temperatures","temperatureDisplayName","actual","isEditable","onEditClicked","editable","selectedPort","connectionOptions","ports","port","selectedBaudrate","baudrates","baudrate","onPresetChanged","preset","allPresets","pre","maxTemp","onSliderChanged","composing","VueSlider","presets","curTarget","sharedResource","onSharingToggled","sharedLink","copyToClipboard","copyStatus","copyMessage","share","fetchSharedResources","printer_id","postSharedResources","deleteSharedResources","PAUSE_PRINT","RESUME_PRINT","CANCEL_PRINT","MUTE_CURRENT_PRINT","ACK_ALERT_NOT_FAILED","Show","Hide","LocalPrefNames","Settings","Time","StatusTemp","StreamingBox","DurationBlock","PrinterActions","secs","secondsLeft","secondsPrinted","updatedPrinter","ConnectPrinter","preConfirm","TempTargetEditor","updatePrinter","watching_enabled","action_on_failure","sendPrinterAction","toastHtml","shouldVideoBeFull","toDuration","SharePrinter","goBack","updateSearch","createFolder","switchToCloudStorage","switchToPrinterStorage","sortingOption","updateSorting","activeSorting","directions","sortingDirection","activeSortingDirection","gcodeUploadSuccess","gcodeUploadError","addParentFolderParam","maxTotalFilesize","searchStateIsActive","searchInProgress","nothingFound","scrollContainerId","noMoreFolders","noMoreFiles","localFilesLoading","openFolder","openFile","renameItem","moveItem","deleteItem","onPrintClicked","fetchFilesAndFolders","activeItem","verifyItemRename","onItemRenamed","onItemMoved","onItemDeleted","verifyNewFolder","onFolderCreated","handleOk","resetModal","focusInput","handleSubmit","newFolderName","errorMessage","parentFolderId","isOpen","bvModalEvent","parent_folder","newItemName","itemType","fullName","fileExt","nameWithoutExt","newNameWithExt","isSameDir","patchLoading","isMoveModal","isFolder","disabledItem","isFolderEmpty","disabled","isDisabled","cancelled","finished","FileStructureItem","GCodeFileStructure","currentFoldersPage","currentFilesPage","resetFiles","page_size","msgBoxConfirm","centered","okTitle","okVariant","autoFocusButton","SEARCH_API_CALL_DELAY","Sorting","file_query","folder_query","asc","query","desc","getSortingById","getSortingDirectionById","SearchInput","RenameModal","MoveModal","DeleteConfirmationModal","NewFolderModal","routeParams","searchQuery","searchTimeoutId","selectedPrinterComm","getRouteParam","listPrinterLocalGCodes","q","sortingChanged","formData","renameFile","deleteFile","gcodeNotFound","isDeleted","targetPrinterId","onRefresh","printersLoading","selectedPrinter","selectPrinter","availablePrinters","decodedPath","getPrinterLocalGCode","resident_printer","safe_filename","agent_signature","file","SortIconClass","StateFilter","SortFilter","PrinterCard","GCodeFoldersPage","GCodeFilePage","dontShowFilterWarning","hiddenPrinterCount","with_archived","insertPrinter","themes","Dark","Light","showMainMenu","viewName","first_name","hideDropdowns","accountDropdown","NavBar","videoAvailable","isWebrtcOpened","errorMessages","saving","$set","action_on_failure_NONE","_q","updateSetting","action_on_failure_PAUSE","tools_off_on_pause","bed_off_on_pause","retract_on_pause","retractFilamentByEnabled","retractOnPause","lift_z_on_pause","liftExtruderByEnabled","liftExtruderBy","detective_sensitivity","sensitivityTooltipFormatter","detectiveSensitivity","timelapseOnFinishEnabled","timelapseOnCancelEnabled","min_timelapse_secs_on_finish","minTimelapseMinutesOnFinish","min_timelapse_secs_on_cancel","minTimelapseMinutesOnCancel","printerWizardUrl","archivePrinter","deletePrinter","disable","inputValue","step","unit","SavingAnimation","NumberInput","delayedSubmit","delay","timeoutId","printerName","fetchPrinter","patchPrinter","errorAlert","getSettingsItemInput","setSavingStatus","changeRetractOnPause","changeLiftExtruderBy","verifiedPrinter","printer_name","updatePrinterName","redirectToTunnelCreation","editPrinterUrl","$route","activeTabIndex","nativeOn","prevTab","isLastStep","fillButtonStyle","nextTab","slot","targetMoonraker","printerIdToLink","targetOctoPrint","zoomIn","discoveryEnabled","chosenDeviceId","canStartLinking","discoveredPrinters","discoveredPrinter","device_id","autoLinkPrinter","discoveryCount","verificationCode","copied","timeToExpire","showVerificationCodeHelpModal","setTargetPlatform","rpi_model","machine_type","agent","host_or_ip","octopi_version","os","linking","cancel","switchToManualLinking","secretObtained","beforeDestroy","destUrl","switchToManual","closeDiscoveryPopup","gotWindowMessage","MAX_DISCOVERY_CALLS","FormWizard","TabContent","WizardButton","DiscoveredPrinter","onVerificationStep","gotSecret","obicoDiscoveryPopup","apiCallIntervalId","targetPlatform","expiryMoment","classList","ctrlKey","cmdKey","cKey","copyFunc","verificationCodeUrl","copyCode","textArea","callVerificationCodeApi","onPrinterLinked","getVerificationCode","callPrinterDiscoveryApi","discoverPrinter","AutoLinkPopup","allowOutsideClick","device_secret","control","axis","y","up","x","down","xy","home","z","ariaDescribedby","jogDistanceOptions","jogDistance","AXIS","DIRECTIONS","useMobileLayout","sections","isHidden","isSubcategory","route","faIcon","logout","currentSection","isNotificationChannel","availableNotificationPlugins","currentRouteComponent","createNotificationChannel","patchNotificationChannel","deleteNotificationChannel","clearErrorMessages","addErrorMessage","updateRoute","notification_enabled","defaultSections","importComponent","notificationSections","channelName","configuredNotificationChannels","last_name","combinedInputs","visibleSections","clientIsThemeable","checkMobileLayout","fetchUser","fetchNotificationPlugins","fetchNotificationChannels","section","opts","errors","propNames","propValues","patchUser","firstName","lastName","checkForCombinedValues","inputs","eventClassFiltering","eventClass","toggleEventFiltering","cssClassFromEventClass","eventTypeFiltering","eventType","printerEvents","tintBorderClass","link","info_url","onTextClick","tintClass","eventTitle","localPrefKey","localPref","PrinterEventCard","filter_by_classes","filter_by_types","UserPreferencesPage","wizardRoutes","PrinterWizardPage","NewOctoPrintTunnelPage","OctoPrintTunnelPage","PrintShotFeedbackApp","PrinterListPage","SharedPrinterPage","PrinterSettingsPage","PrinterControlPage","PrintsPage","PrintPage","PrintHistoryPage","UploadPrintPage","PrinterEventsPage","mountVue","Themes","System","colors","shadows","matchMedia","matches","documentElement","setProperty","meta","content","shadow","removeItem","savingClass","savingDoneClass","savingFailedClass","smallHeightClass","errorMsg","savingTimeout","savingDoneTimeout","clearSavingTimeout","getNotificationSettingKey","notificationChannel","startCase","toLower","getNormalizedP","num","propName","Blob","reader","FileReader","srcElement","readAsArrayBuffer","getCsrfFromDocument","getElementsByName","blob","aElement","click","revokeObjectURL","printShotFeedback","shotId","printsBulkDelete","printerAction","pubPrinter","tunnels","tunnel","tunnelUsage","sharedResources","paramsObj","entries","entry","resourceId","printerDiscovery","notificationChannels","updateNotificationChannel","testNotificationChannel","printerControl","printerSharedWebSocket","gcodeFile","gcodeFiles","gcodeFolder","gcodeFolders","gcodeId"],"mappings":"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A7c,OACA,OACA81C,wBACA7C,oBACA8C,kBACApC,qCACAN,kCACAG,oBACAhB,eACAG,mBACAC,kBACAG,cACAO,gBACAS,qCACAM,eAIA36B,UACAs8B,qBACA,iDAEA1B,YACA,+DAEAF,YACA,wDAEAR,oBACA,8CACA,OACA,uBACA,OACA,yBACA,QACA,2BAGAC,mBACA,uCACA,OACA,iBACA,OACA,gBACA,QACA,kBAGAU,oBACA,uCACA,OACA,WACA,OACA,WACA,QACA,aAGAT,YACA,iEAIAP,6BACA,OACA,qFAGAL,8BACA,OACA,sBACA,kBACA,oBACA,qFAGAC,yBACA,qEAGAx5B,UACA,uCACA,yCACA,mBAGA,cACA,0BACA43B,yCACAQ,yCACAM,kDACAD,2BACAJ,oCACAC,sCACAM,gDACAb,mDAGA,gBACA,4DAGA5nB,oBACA,aACA,2BAIAA,qBACA,4BACA,8BAMAhZ,SACA2jC,YACA,qBACA,eACA,2CAGAD,cACA,sBAEAjD,oBACA,iBACA,8BACA,CACA,0CACA,QAEA,gDACA,0BAEA,mCAEA,0BAEA0E,wBACAhiB,yCAEA,2BACA,mCAEA,uBAEA,wBAMA0gB,uBACA,gDACA,yBAEA,yCACA,uCAGAjB,gBACA,eAIA,wBACAroC,qCACAhB,k6BAaAke,sBAQA6qB,mBACA,2BAGAV,uBACA,+DACA,uCAGAN,cACA,sBAGAK,kBACA,wBACA,uBACA,oBAEA,wBACApnC,6BACAhB,6/BAMAke,sBAIAyqB,8BACAvvC,mBAEA,wBACA4H,gCACAhB,y5BAaAke,wBC1asV,MCQlV,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBXxe,GAAS,WAAkB,IAAI+F,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAAGF,EAAIomC,OAAUpmC,EAAIqmC,SAAmCrmC,EAAImD,KAA7BjD,EAAG,OAAO,CAACF,EAAI8C,GAAG,QAAkB9C,EAAIomC,OAASpmC,EAAIqmC,SAAUnmC,EAAG,YAAY,CAAC0C,MAAM,CAAC,MAAQ,GAAG,KAAO,OAAO,MAAQ,oBAAoB5C,EAAImD,KAAMnD,EAAIomC,OAASpmC,EAAIsmC,UAAWpmC,EAAG,OAAO,CAACF,EAAI8C,GAAG,IAAI9C,EAAIiD,GAAGjD,EAAI4F,QAAQ1F,EAAG,OAAO,CAACE,YAAY,6BAA6B,CAACJ,EAAI8C,GAAG,SAAS9C,EAAImD,KAAMnD,EAAIomC,OAASpmC,EAAIumC,YAAarmC,EAAG,OAAO,CAACF,EAAI8C,GAAG,IAAI9C,EAAIiD,GAAGjD,EAAI6F,UAAU3F,EAAG,OAAO,CAACE,YAAY,6BAA6B,CAACJ,EAAI8C,GAAG,SAAS9C,EAAImD,KAAMnD,EAAIomC,OAASpmC,EAAIwmC,YAAatmC,EAAG,OAAO,CAACF,EAAI8C,GAAG,IAAI9C,EAAIiD,GAAGjD,EAAIymC,UAAUvmC,EAAG,OAAO,CAACE,YAAY,6BAA6B,CAACJ,EAAI8C,GAAG,SAAS9C,EAAImD,MAAM,IAEhsB9C,GAAkB,GCeP,IACfhL,qBACAyE,OACAssC,OACA5yC,aACAuZ,aAEAs5B,UACA7yC,aACAuZ,aAEAnH,OACApS,YACAsa,UACA,WAGAw4B,WACA9yC,aACAsa,UACA,WAGAjI,SACArS,YACAsa,UACA,WAGAy4B,aACA/yC,aACAsa,UACA,WAGA24B,SACAjzC,YACAsa,UACA,WAGA04B,aACAhzC,aACAsa,UACA,aC7DsW,MCOlW,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX7T,GAAS,WAAkB,IAAI+F,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,EAAGF,EAAIoE,QAAQ0D,aAAe9H,EAAIoE,QAAQmE,WAAYrI,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,gCAAgC,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACJ,EAAI8C,GAAG9C,EAAIiD,GAAGjD,EAAIoE,QAAQwE,oBAAoB,YAAY1I,EAAG,MAAM,CAACF,EAAI8C,GAAG9C,EAAIiD,GAAGjD,EAAIoE,QAAQ+B,OAAOugC,MAAM3xC,cAAciL,EAAImD,KAAMnD,EAAIoE,QAAQqE,4BAA6BvI,EAAG,MAAM,CAACE,YAAY,YAAY,CAACJ,EAAI4M,GAAG,KAAK5M,EAAImD,KAAMnD,EAAIoE,QAAQkE,mBAAoBpI,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,YAAY,CAAC0C,MAAM,CAAC,MAAQ,mBAAmB1C,EAAG,MAAM,CAACF,EAAI8C,GAAG9C,EAAIiD,GAAGjD,EAAIoE,QAAQ+B,OAAOugC,MAAM9tC,MAAM,WAAW,KAAKsH,EAAG,MAAM,CAACE,YAAY,YAAY,CAAGJ,EAAIoE,QAAQ0D,aAAgB9H,EAAIoE,QAAQ4D,mBAAoBhI,EAAIoE,QAAQ6D,WAAufjI,EAAImD,KAA/ejD,EAAG,MAAM,CAACE,YAAY,YAAY,CAAGJ,EAAIoE,QAAQ2D,WAAkO7H,EAAG,SAAS,CAACE,YAAY,yCAAyCwC,MAAM,CAAC,KAAO,UAAUe,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5D,EAAI2mC,eAAe/iC,MAAW,CAAC1D,EAAG,IAAI,CAACE,YAAY,gBAAgBJ,EAAI8C,GAAG,cAA9Z5C,EAAG,SAAS,CAACE,YAAY,yCAAyCwC,MAAM,CAAC,KAAO,UAAUe,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5D,EAAI2mC,eAAe/iC,MAAW,CAAC1D,EAAG,IAAI,CAACE,YAAY,iBAAiBJ,EAAI8C,GAAG,eAAgP9C,EAAIoE,QAAQ0D,aAAgB9H,EAAIoE,QAAQ4D,mBAAoBhI,EAAIoE,QAAQ6D,WAAoTjI,EAAImD,KAA5SjD,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,SAAS,CAACE,YAAY,6CAA6CwC,MAAM,CAAC,GAAK,eAAe,KAAO,UAAUe,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5D,EAAIoO,MAAM,6BAA8BxK,MAAW,CAAC1D,EAAG,IAAI,CAACE,YAAY,gBAAgBJ,EAAI8C,GAAG,gBAA2B9C,EAAIoE,QAAQ0D,aAAgB9H,EAAIoE,QAAQ4D,kBAAqBhI,EAAIoE,QAAQ6D,WAAuTjI,EAAImD,KAA/SjD,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,SAAS,CAACE,YAAY,yCAAyCwC,MAAM,CAAC,GAAK,cAAc,KAAO,UAAUe,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5D,EAAIoO,MAAM,4BAA6BxK,MAAW,CAAC1D,EAAG,IAAI,CAACE,YAAY,gBAAgBJ,EAAI8C,GAAG,yBAAoC9C,EAAIoE,QAAQ0D,aAAgB9H,EAAIoE,QAAQ4D,kBAAqBhI,EAAIoE,QAAQ6D,WAA4SjI,EAAImD,KAApSjD,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,SAAS,CAACE,YAAY,gDAAgDwC,MAAM,CAAC,KAAO,UAAUe,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5D,EAAIoO,MAAM,8BAA+BxK,MAAW,CAAC1D,EAAG,IAAI,CAACE,YAAY,sBAAsBJ,EAAI8C,GAAG,qBAA+B9C,EAAIoE,QAAQ0D,aAAe9H,EAAIoE,QAAQ4D,iBAAkB9H,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACF,EAAG,MAAM,CAACF,EAAI8C,GAAG,+CAAiD9C,EAAIoE,QAAQuE,mBAA8W3I,EAAImD,KAA9VjD,EAAG,SAAS,CAACE,YAAY,yCAAyCwC,MAAM,CAAC,GAAK,kBAAkB,KAAO,SAAS,SAAW5C,EAAI4mC,YAAYjjC,GAAG,CAAC,MAAQ3D,EAAI6mC,mBAAmB,CAAE7mC,EAAI4mC,WAAY1mC,EAAG,YAAY,CAAC0C,MAAM,CAAC,MAAQ,MAAM1C,EAAG,IAAI,CAACE,YAAY,eAAeJ,EAAI8C,GAAG,MAAM9C,EAAIiD,GAAGjD,EAAI4mC,WAAa,uBAAyB,WAAW,MAAM,OAAgB5mC,EAAImD,KAAMnD,EAAIoE,QAAQ0D,YAAa5H,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACF,EAAG,MAAM,CAACF,EAAI8C,GAAG,cAAc9C,EAAIiD,GAAGjD,EAAIoE,QAAQuE,mBAAqB,UAAY,aAAa,iBAAiB3I,EAAI4M,GAAG,SAAS5M,EAAImD,QAE3zG9C,GAAkB,CAAC,WAAY,IAAIL,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACF,EAAG,MAAM,CAACF,EAAI8C,GAAG,qDAC9I,WAAY,IAAI9C,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAAC0C,MAAM,CAAC,OAAS,SAAS,KAAO,iFAAiF,CAAC5C,EAAI8C,GAAG,SAAS5C,EAAG,QAAQ,CAACA,EAAG,IAAI,CAACE,YAAY,mCCiH7M,IACf/K,sBAEAyE,OACAsK,SACA5Q,YACAuZ,cAIA7c,OACA,OACA42C,uBAIAl9B,UACAg9B,aACA,+DAIA5lC,SACA2lC,kBACA,wBACA,2CAEA,2CAGAE,oBACA,4CACA,0BACAtxC,gBACA,2BACA,QCvJuW,MCOnW,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX0E,GAAS,WAAkB,IAAI+F,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACJ,EAAI4M,GAAG,GAAG5M,EAAImE,GAAInE,EAAI+mC,cAAc,SAAS7pB,EAAKxmB,GAAK,OAAOwJ,EAAG,MAAM,CAACxJ,IAAIA,EAAI0J,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,OAAO,CAACE,YAAY,6BAA6B,CAACJ,EAAI8C,GAAG9C,EAAIiD,GAAGjD,EAAIgnC,uBAAuBtwC,SAAWwJ,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACJ,EAAI8C,GAAG,IAAI9C,EAAIiD,GAAGuiC,WAAWtoB,EAAK+pB,QAAQhnB,QAAQ,KAAK/f,EAAG,OAAO,CAACE,YAAY,6BAA6B,CAACJ,EAAI8C,GAAG,UAAW9C,EAAIknC,WAAWhqB,GAAOhd,EAAG,MAAM,CAACE,YAAY,gBAAgBuD,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5D,EAAImnC,cAAczwC,EAAKwmB,MAAS,CAACld,EAAI8C,GAAG,IAAI9C,EAAIiD,GAAGvG,KAAKkjB,MAAM1C,EAAKrpB,UAAUqM,EAAG,OAAO,CAACE,YAAY,6BAA6B,CAACJ,EAAI8C,GAAG,QAAS9C,EAAIonC,SAAUlnC,EAAG,OAAO,CAACF,EAAI8C,GAAG,KAAK5C,EAAG,IAAI,CAACE,YAAY,oBAAoBiE,YAAY,CAAC,YAAY,aAAarE,EAAImD,OAAOjD,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACJ,EAAI8C,GAAG,aAAY,IAEp6BzC,GAAkB,CAAC,WAAY,IAAIL,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,IAAI,CAACE,YAAY,oCAAoCF,EAAG,QAAQ,CAACE,YAAY,SAAS,CAACJ,EAAI8C,GAAG,cAAc5C,EAAG,QAAQ,CAACE,YAAY,SAAS,CAACJ,EAAI8C,GAAG,kBC4BzR,IACfzN,kBACAyE,OACAitC,cACAvzC,YACAuZ,aAEAq6B,UACA5zC,aACAuZ,cAGA/L,SACAmmC,mBACA,eACA,mCAGAD,cAEA,wBAEAF,iCCpDmW,MCO/V,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX/sC,GAAS,WAAkB,IAAI+F,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACF,EAAI4M,GAAG,GAAG1M,EAAG,MAAM,CAACA,EAAG,gBAAgB,CAAC0C,MAAM,CAAC,GAAK,gBAAgB4J,MAAM,CAACpW,MAAO4J,EAAIqnC,aAAc36B,SAAS,SAAUC,GAAM3M,EAAIqnC,aAAa16B,GAAKjJ,WAAW,iBAAiB1D,EAAImE,GAAInE,EAAIsnC,kBAAkBC,OAAO,SAASC,GAAM,OAAOtnC,EAAG,uBAAuB,CAACxJ,IAAI8wC,EAAK5kC,MAAM,CAAC,MAAQ4kC,IAAO,CAACxnC,EAAI8C,GAAG,IAAI9C,EAAIiD,GAAGukC,GAAM,UAAS,IAAI,GAAGtnC,EAAG,MAAMF,EAAI4M,GAAG,GAAG1M,EAAG,MAAM,CAACA,EAAG,gBAAgB,CAAC0C,MAAM,CAAC,GAAK,oBAAoB4J,MAAM,CAACpW,MAAO4J,EAAIynC,iBAAkB/6B,SAAS,SAAUC,GAAM3M,EAAIynC,iBAAiB96B,GAAKjJ,WAAW,qBAAqB,CAACxD,EAAG,uBAAuB,CAAC0C,MAAM,CAAC,MAAQ,KAAK,CAAC5C,EAAI8C,GAAG,YAAY9C,EAAImE,GAAInE,EAAIsnC,kBAAkBI,WAAW,SAASC,GAAU,OAAOznC,EAAG,uBAAuB,CAACxJ,IAAIixC,EAAS/kC,MAAM,CAAC,MAAQ+kC,IAAW,CAAC3nC,EAAI8C,GAAG,IAAI9C,EAAIiD,GAAG0kC,GAAU,WAAU,IAAI,MAEl1BtnC,GAAkB,CAAC,WAAY,IAAIL,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,KAAK,CAACF,EAAI8C,GAAG,qBAC/F,WAAY,IAAI9C,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,KAAK,CAACF,EAAI8C,GAAG,mBC6B7D,IACfzN,sBACAyE,OACAwtC,mBACA9zC,YACAuZ,cAIA7c,OACA,OACAm3C,6CACAI,uBC5CuW,MCOnW,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBXxtC,GAAS,WAAkB,IAAI+F,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,eAAe,CAAEJ,EAAI5J,MAAQ,EAAG8J,EAAG,KAAK,CAACE,YAAY,sBAAsB,CAACJ,EAAI8C,GAAG,IAAI9C,EAAIiD,GAAGjD,EAAI5J,OAAO,KAAK8J,EAAG,OAAO,CAACE,YAAY,6BAA6B,CAACJ,EAAI8C,GAAG,UAAU9C,EAAImD,KAAMnD,EAAI5J,MAAQ,EAAG8J,EAAG,KAAK,CAACE,YAAY,sBAAsB,CAACJ,EAAI8C,GAAG,SAAS9C,EAAImD,OAAOjD,EAAG,MAAMA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACJ,EAAI4M,GAAG,GAAG1M,EAAG,MAAM,CAACA,EAAG,gBAAgB,CAAC0C,MAAM,CAAC,GAAK,aAAae,GAAG,CAAC,OAAS3D,EAAI4nC,iBAAiBp7B,MAAM,CAACpW,MAAO4J,EAAI6nC,OAAQn7B,SAAS,SAAUC,GAAM3M,EAAI6nC,OAAOl7B,GAAKjJ,WAAW,WAAW1D,EAAImE,GAAInE,EAAI8nC,YAAY,SAASC,GAAK,OAAO7nC,EAAG,uBAAuB,CAACxJ,IAAIqxC,EAAI3xC,MAAMwM,MAAM,CAAC,MAAQgiB,SAASmjB,EAAI3xC,SAAS,CAAC4J,EAAI8C,GAAG,IAAI9C,EAAIiD,GAAG8kC,EAAIxsC,OAAO,UAAS,IAAI,GAAG2E,EAAG,MAAMA,EAAG,KAAK,CAACF,EAAI8C,GAAG,aAAa5C,EAAG,MAAM,CAACA,EAAG,aAAa,CAAC0C,MAAM,CAAC,IAAM,EAAE,IAAM5C,EAAIgoC,QAAQ,KAAO,EAAE,QAAU,QAAQrkC,GAAG,CAAC,OAAS3D,EAAIioC,iBAAiBz7B,MAAM,CAACpW,MAAO4J,EAAI5J,MAAOsW,SAAS,SAAUC,GAAM3M,EAAI5J,MAAMuW,GAAKjJ,WAAW,WAAWxD,EAAG,QAAQ,CAACqD,WAAW,CAAC,CAAClO,KAAK,QAAQmO,QAAQ,UAAUpN,MAAO4J,EAAI5J,MAAOsN,WAAW,UAAUd,MAAM,CAAC,GAAK,cAAc,KAAO,UAAUsB,SAAS,CAAC,MAASlE,EAAI5J,OAAQuN,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO/P,OAAOq0C,YAAiBloC,EAAI5J,MAAMwN,EAAO/P,OAAOuC,YAAW,QAEjwCiK,GAAkB,CAAC,WAAY,IAAIL,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,KAAK,CAACF,EAAI8C,GAAG,kB,wBC0ClF,IACfzN,wBACAkL,YACA4nC,gBAEAruC,OACAsuC,SACA50C,WACAuZ,aAEAi7B,SACAx0C,YACAuZ,aAEAs7B,WACA70C,YACAuZ,cAGA7c,OACA,uDACA2D,+BAEA,OAAAuC,qBAAAyxC,kBAEAj+B,UACAk+B,aACA,SAQA,OAPAM,QAAAhyC,SAAAmF,iBACA6sC,QAAAhyC,QAAAmF,cACA,yBACA,UACA6sC,QAAAhyC,eAAAmF,sCAGA,IAGAyF,SACA4mC,kBACA,iBACA,yBAGAK,kBACA,cACA,cAEA,kBC5FyW,MCOrW,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBXhuC,GAAS,WAAkB,IAAI+F,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,KAAK,CAACE,YAAY,eAAe,CAACJ,EAAI8C,GAAG,0BAA0B5C,EAAG,MAAQF,EAAIqiB,aAAmHniB,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,gCAAgC,CAACF,EAAG,QAAQ,CAACE,YAAY,sCAAsCwC,MAAM,CAAC,GAAK,0BAA4B5C,EAAIoE,QAAQ9L,GAAG,KAAO,YAAY4L,SAAS,CAAC,QAAUlE,EAAIsoC,gBAAgB3kC,GAAG,CAAC,MAAQ3D,EAAIuoC,oBAAoBroC,EAAG,QAAQ,CAACE,YAAY,uBAAuBiE,YAAY,CAAC,YAAY,QAAQzB,MAAM,CAAC,IAAM,0BAA4B5C,EAAIoE,QAAQ9L,KAAK,CAAC0H,EAAI8C,GAAG,iCAAkC5C,EAAG,IAAI,CAACF,EAAI8C,GAAG9C,EAAIiD,GAAGjD,EAAIoE,QAAQ/O,SAAS2K,EAAI8C,GAAG,SAAU5C,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACqD,WAAW,CAAC,CAAClO,KAAK,OAAOmO,QAAQ,SAASpN,MAAO4J,EAAIwoC,WAAY9kC,WAAW,gBAAgB,CAACxD,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,QAAQ,CAAC2L,IAAI,aAAazL,YAAY,gCAAgCwC,MAAM,CAAC,GAAK,qBAAqB,KAAO,OAAO,aAAa,eAAe,SAAW,IAAIsB,SAAS,CAAC,MAAQlE,EAAIwoC,cAActoC,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,MAAM,CAACE,YAAY,cAAcwC,MAAM,CAAC,GAAK,YAAY,wBAAwB,sBAAsB,aAAa,iCAAiCe,GAAG,CAAC,MAAQ3D,EAAIyoC,kBAAkB,CAACvoC,EAAG,IAAI,CAACE,YAAY,uBAAuBF,EAAG,YAAY,CAAC0C,MAAM,CAAC,KAAO5C,EAAI0oC,WAAW,OAAS,YAAY,SAAW,QAAQ,UAAY,UAAU/kC,GAAG,CAAC,cAAc,SAASC,GAAQ5D,EAAI0oC,WAAW9kC,KAAU,CAAC5D,EAAI8C,GAAG9C,EAAIiD,GAAGjD,EAAI2oC,iBAAiB,KAAKzoC,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACJ,EAAI8C,GAAG,2FAA2F5C,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACJ,EAAI8C,GAAG,uDAAuD5C,EAAG,IAAI,CAAC0C,MAAM,CAAC,KAAO5C,EAAIwoC,aAAa,CAACxoC,EAAI8C,GAAG,UAAU9C,EAAI8C,GAAG,mDAAqD5C,EAAG,MAAMF,EAAI4M,GAAG,OAAO1M,EAAG,UAA51DA,EAAG,MAAM,CAACF,EAAI4M,GAAG,GAAG1M,EAAG,IAAI,CAACF,EAAI8C,GAAG,4CAA4C9C,EAAI4M,GAAG,GAAG5M,EAAI4M,GAAG,QAE5QvM,GAAkB,CAAC,WAAY,IAAIL,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACJ,EAAI8C,GAAG,uBAAuB5C,EAAG,IAAI,CAAC0C,MAAM,CAAC,KAAO,sBAAsB,CAAC5C,EAAI8C,GAAG,6BAA6B9C,EAAI8C,GAAG,gCACzN,WAAY,IAAI9C,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACA,EAAG,IAAI,CAAC0C,MAAM,CAAC,KAAO,6HAA6H,CAAC5C,EAAI8C,GAAG,8DAA8D9C,EAAI8C,GAAG,+HACxR,WAAY,IAAI9C,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACA,EAAG,IAAI,CAAC0C,MAAM,CAAC,KAAO,sBAAsB,CAAC5C,EAAI8C,GAAG,kCAC5G,WAAY,IAAI9C,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACA,EAAG,MAAM,CAACF,EAAI8C,GAAG,YAAY5C,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAI8C,GAAG,6IAA6I5C,EAAG,KAAK,CAACF,EAAI8C,GAAG,4EAA4E5C,EAAG,IAAI,CAAC0C,MAAM,CAAC,KAAO,gEAAgE,CAAC5C,EAAI8C,GAAG,mDCoGhd,IACfhJ,OACAuoB,cACA7uB,aACAsa,YAEA1J,SACA5Q,YACAuZ,cAIA7c,OACA,OACA04C,SACAN,oBACAI,cACAC,iBAIA/+B,UACA4+B,aACA,wBACA,wBACA,0FAGA,WAIA3+B,UACA,6BAGA7I,SACA6nC,uBACA,uCAAAC,8BAAA,SACA,kBACA,kCAIAC,sBACA,wCAAAD,8BAAA,SACA,kBACA,kCAIAE,wBACA,2EACA,4BAGAT,mBACA,oBACA,6BAEA,4BAIAE,kBACA,mBAEA,8BACA,+BACA,IACA11C,6BACA,2BACA,SACAiE,kDACA,+BCnLqW,MCQjW,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QC0Nf,MAAMiyC,GAAc,gBACdC,GAAe,iBACfC,GAAe,iBACfC,GAAqB,uCACrBC,GAAuB,iDAEvBC,IAAO,EACPC,IAAO,EAEPC,GAAiB,CACvBC,0BACAC,kBACAC,gCAGe,QACft0C,mBACAkL,YACAqpC,gBACA3xB,yBACA4xB,iBACAC,kBACAH,eAGA7vC,OACAsK,SACA5Q,YACAuZ,aAEAsV,cACA7uB,aACAuZ,cAGA7c,OACA,OACAizB,iBACApqB,mDACAsqB,2CACAE,wDAEA1J,cAGAjQ,UACAuM,aACA,yCAEA0N,gBACA,kEAEAC,YACA,WAIA,OAHA,wCACAimB,wCAEA,4CAEAC,cACA,2DAEAC,iBACA,uDAEAxmB,mBACA,sCAEAE,iBACA,+CAEA7B,0BACA,4EAKAmB,eACA,OACA7e,uBAGA2f,cACA,2DAEAC,YAEA,0DACA,WACA,6EACA,sCAEA+iB,QAGA,OACAA,eACA9iB,6BACAmjB,aAGAnlB,aACA,yDAEAD,cACA,+BACA,cAGA,0BACA,+BACA,gCAEA,eAEA,iBAGAnY,UACA,oBACA,gBACAqV,yCACAhvB,IACA,qDAEAkvB,IAEA,mCACA,iDAAAjZ,cAGA,2BAEA,oEACA,yCAGAnF,SACAkpC,kBACA,2BAEA9nB,cACA,uCAEAD,qBACA,sCAEAiB,0BACA,6DACAzpB,sEAEA2pB,sBACA,qDACA3pB,8DAEA6pB,4BACA,iEACA7pB,EACA6vC,sCACA,kCAGAlnB,0BACA,yBACA/mB,eACAhB,uNACAkB,wBACAC,wBACA,SACA,qBAEAnG,gBACA,+CACA,KAEA,EACA,8CAEA,gDAIAknB,oBAEAiH,4BAGA,6DACA,kCAEAE,0BAGA,sFACA,kCAEAjB,8BACA,yBACApoB,uXACA,SACA,SACA,iDAIAqoB,gCACA,mCACA,gCAEA,+CAGAC,+BACA,yBACAjqB,6DACA,SACA,SAEA,iDAIAkqB,gCACA,mCACA,CAAAvF,8BAAA1pB,mBACA,QACA,EACA,uBACAoI,aACAV,6BAGA,iBACA,uBACAU,aACAV,yDAGA,WACA3B,uBACAuwC,GACA,CACA7C,qBAEA,CACA7rC,4BACAD,oBACA4uC,gBACA,CACA5C,mDACAG,+DAKArzC,SACA,YACA,sCACA,oCACAipB,eACA1pB,kBACA2qB,eASAuE,8BACA,+BACA,sCAGAC,gCACA9rB,wDAGAgtB,uBACA,IACA,EADA,iDAEA,MAEA,6BACA8jB,OAIAI,EAFA,oBAEAA,UACA,CAAA/yC,YAAAxB,wBAGAu0C,UACA,CAAA/yC,YAAAxB,eAIA,WACA+F,uBACAywC,GACA,CACAjC,UACAJ,UACAK,oBAEA,CACA9sC,+CACAE,4BACAD,oBACA4uC,gBACA,CACAv2C,kEAKAS,SACA,YACA,qBACA,oCACAipB,uBACA1pB,kBACA2qB,iBAMA8rB,iBACA,WACAx5B,4BACAy5B,oCACAC,wCAEAl2C,SACA,qBAGA,QAFA,+DAKA+V,UACA,sDAIAogC,yBACAxgC,8CACA,SACA,IACAygC,GACA,yGAGA,OACA,uBACAzuC,eACA1B,YAMAowC,qBACA,4BACA,6BACA,UAGAC,gBACA,iBACA,OACAxE,SACAC,YAGA,gCACA,0BACA,cACA,cACA,OACAD,SACAC,WACAzgC,QACA0gC,cACAzgC,UACA0gC,qBACAE,UACAD,yBAKAtkB,iBACA,kCACA2oB,GACA,CACAxoB,+BACAje,sBAEA,CACA3I,+BC/nBoW,MCQhW,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBXx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,WACA,OAIa,M,QC8Bf,MAAM,GAAY,GAEH,QACfh5C,iBAEAkL,YACAsuC,uBAGA/0C,OACAojB,MACA1pB,YACAsa,cAEAoT,eACA1tB,YACAsa,cAEAk+B,mBACAx4C,YACAsa,cAEAu9B,eACA73C,YACAuZ,aAEAy+B,wBACAh4C,YACAuZ,cAIA7c,OACA,OACAmN,QACAowC,UACAj8B,WACA28B,gBACA3wB,WACAC,SACAwuB,iBACAC,eACA4C,qBACAC,qBAIAnlC,UACAikC,WACA,2CAEAjsB,eACA,4DAEAssB,YAAA,UACA,wFAEA,wIAOAltC,SACA8pC,SACA,gBACA,+BAEAsB,cACA,qBACA,+BAEA4C,aACA,gBACA,cACA,sBACA,oBACA,0BACA,yBAEA,iCACA,gBACA,OAOA,GAJA,GACA,kBAGA,qCACA,OAGA,gBACA,SACA,KAEA,wBACA,YACA,2CACAj8B,QACA46B,wCACA5hC,6BACAkjC,aACAv8B,qFAGA1I,SACA,mEACAwT,kDACA,SACA,gBACA,wBAGA,sCACA,2BAGA,mCACA,YACA,yCACAzK,QACA46B,wCACA5hC,2BACAkjC,aACAv8B,mFAGA1I,SACA,iEACAyT,kDACA,SACA,gBACA,wBAGA,oCACA,yBAGA,iBAGAwG,OACA,eACA,4BAEA1uB,gBACA,UAIA,mCAHA,gBAIA,MAEAmnB,QACA,mCACA,mBAEAywB,aACA,eACA,aACA,mBAEAD,YACAQ,mBACA,qBAEA,qBACA,qBAEA,qBAEA,IACA,+EACA,sDACA,SACA,wBAGA,qBACA,oBACA,gBCzOkW,MCQ9V,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBXzzC,GAAS,WAAkB,IAAI+F,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,QAElEG,GAAkB,GCOP,IACfhL,mBAEAyE,OACAojB,MACA1pB,YACAsa,eAIA5d,OACA,OACAu9C,YAIA5jC,YAEAsB,YAEAnK,SACAijB,OACA,eACA,cACAirB,+BACA52C,4BACA62C,YACAC,iBACAC,mBACAh8B,UACAi8B,uBAEAh7C,eAEA,GADA,eACA,GAEA,IACA,2BACA4qB,+BACAA,uCACA,cACA,SAEA,YADAloB,eAIA,yBAEAqT,UACA,6BC1DgX,MCQ5W,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,M,QCuNf,MAAMklC,GAAwB,IAExB,GAAY,GAEZC,GAAU,CAChBt0C,SACA7F,MACAiD,KACAiD,aACAk0C,sBACAC,qBAEAr8B,MACA/a,KACAiD,aACAk0C,wBAEAjpC,YACAlO,KACAiD,gBACAk0C,wBACAC,4BAGApE,YACAqE,KACAr3C,KACAiD,kBACAq0C,aAEAC,MACAv3C,KACAiD,mBACAq0C,gBAIM,GAAmB,CACzBl9B,mCACA64B,uDAEMuE,GAAiB,GACvB,4CAEMC,GAA0B,GAChC,+CAGe,QACf16C,wBAEAkL,YACAmQ,cACAs/B,eACAxvB,iBACAquB,sBACAoB,eACAC,aACAC,2BACAC,mBAGAt2C,OACAsT,SACA5Z,aACAsa,YAEA4R,SACAlsB,cACAsa,cAEAk+B,mBACAx4C,YACAsa,cAEAoT,eACA1tB,YACAsa,cAEA+T,WACAruB,WACAsa,gBAEAuiC,aACA78C,YACAsa,aACA,CACAnE,eACAiY,sBAMA1xB,OACA,OACA6U,eACA0b,UACA3nB,UACA0Y,WACAoQ,kBACAvkB,QACAogB,SACAD,WACAyuB,iBACAC,eACA4C,qBACAC,mBAEAr8B,WACA24B,iBACAhyC,wCAEAmyC,0BACAnyC,8CAGAi3C,iBACAzE,uBACA0E,qBAEA5D,gBAGAjjC,YACA8X,yBACAgvB,2BACArE,uBAIAviC,UACAjB,mBACA,6DACA,gCAEAmW,UACA,+BAEAitB,eACA,4EAEAD,mBACA,yDAEAnrB,cACA,gCAEAirB,mBACA,8BAEAvrB,kBACA,OACAK,mBACAC,6BACA/rB,aACAgsB,+BACAC,wBACAC,SAAA,4BAKA,gBACA,4BACA,4BAEA,0CACA,wCACA,2DAEA,2DAGA,qEAEA,cACA,YACA,uBACA,QACA,uCACA,qEACA,sCAKA,qBACA,+BAGA9f,SACAiqC,uBACA,uBACA,aACA,4BACA,8BACA,aACA,8BAEA,6CACA,gDAIAC,0BACA,iBAYA,uBACA,aACA,4BACA,8BACA,aACA,8BAEA,gDACA,wDAnBA,wBACA3vC,qFACAhB,uDACkB6J,EAAQwE,wHACoBxE,EAAQwE,sDAC1BxE,EAAQwE,2DAA2DxE,EAAQ+E,oEAkBvGsnC,iBACA,+DAEA3F,SACA,mBAGA,kCACA,gCAEAkE,aACA,gBACA,cACA,sBACA,oBACA,0BACA,yBAEA,sBACA,MACA,IACAtlC,mCACAA,SACA,SACA1S,iBAEA,IAGA0S,kBAEAA,iEACA,iCACAA,0CACAA,IAEA,wBACA,6BACA,OAEA,0BACA,8BACAqU,GACAnB,GAEA8zB,EACA,yBACA,6DACA,kBACA,SAEA,GADA,0BACA,GACA,cAAAlzB,QAAAC,GAAA,EACA,eACA,iBAIA,iCACA,gBACA,OAQA,GALA,GACA,kBAIA,uBA2BA,OA1BA,sDACA,wBACAliB,cACA3C,0CACA,UACA,2BACA,eAEA1B,mDAKA,+BAEA,yBASA,wBARA,4BACA,uBACAgoB,gDACAhvB,MACAkvB,OAEA,yDAWA,GAJA,mBACA,uBAGA,qCACA,OAGA,gBACA,SACA,KAEA,wBACA,YACA,2CACArM,QACA46B,wCACA5hC,6BACAkjC,aACAv8B,qFAGA1I,SACA,mEACAwT,kDACA,SACA,gBACA,wBAGA,sCACA,2BAGA,mCACA,YACA,yCAGAsD,SACA,4BAEA/N,QACA46B,wCACA5hC,2BACAkjC,aACAv8B,gFACAi+B,sBAGA3mC,SACA,iEACAyT,kDACA,SACA,gBACA,wBAGA,oCACA,yBAGA,iBAEAstB,gBAKA,GAJA/1C,mCACA,0BAEA,8BACA,yBAGA,OAFA,2BACA,8BAIA,0CACA,mBACA,8BACA,2BACA,KAEAo2C,+CACA,SAEA,+BACA,qBACAzxC,mBACAi3C,MAGA,wCACA,8BACAj3C,4BACAi3C,MAGA,GACA,+BAGAjF,4BACAkF,4BACA,0BACAA,6CAGApF,qBACA,2CACA,cACA,+BAEAC,sBACA,wBACAnxC,0CAGA+xC,cACA,kBACA,+BAEAM,oBACA,sEACA,wCAIAC,iB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A5tB,IACAlV,kCACApD,iBACAuY,qBACAnW,yDACAoW,gBACAC,mBACA,cACA,sCAGAC,4BACA,cACAQ,yCAGA,kBACA,4BC7J0W,MCQtW,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCuIA,IACfpqB,qBAEAkL,YACAmQ,cACAu/B,eACAE,2BACAoB,qBACAz+B,qBAGAhZ,OACAsT,SACA5Z,aACAsa,YAEAojC,iBACA19C,YACAsa,cAEA4R,SACAlsB,cACAsa,cAEAuiC,aACA78C,YACAsa,aACA,CACAyT,YACA5X,mBAMAzZ,OACA,OACAqW,WACAnC,aACAoN,WACAw/B,mBAIApnC,UACAkV,UACA,+BAEAmyB,YAAA,MACA,yDAIA,gBACA,qEACA,8BACA,oBAEA,0CACA,mBAGAjwC,SACAyvC,iBACA,+DAEA3F,SACA,sBAEA,qBACA,WACA90C,4CACA1B,SACA,0BAEA+V,UACA,mEAGA,uBACA,qBACA,OAEA,gBAEA,yCACA,sBACA,EACApN,MACA,GACAu0C,+BAEA,kCACAzzB,GACAnB,GAEA60B,2BACAn9C,SACA,CAAAmpB,mDAEAnpB,eAAA,MAEA,GADA,gBACA,2EAEA,YADA,uBAIA,+CAKA,GAJA,eACA,EACAuS,cAEA,iDACA,sCACA,IACA,oBACAqY,mBACAwyB,iDACAC,gBACAC,iCAGA,kCACA,IACA,qCAEA,SACA56C,qBAIAqT,UACA,yBAGA,2BACA,0BAQA,OAPA,oBACA,uBACA6U,gDACAhvB,MACAkvB,YAEA,8CAIA,gBACA,qCACA,MAEA,IACAyyB,qCACA,SACA,gBACA76C,iBAGA,qCAGA,OAFA,qBACA,uBAIA66C,yCACA,iBACA,iBAEAf,aACA,+BAEAjE,iBACA,uBAEAkE,aACA,2CAEAhE,gBACA,aAGA,qBAFA71C,mDAKAi6C,YACA,qBCnVuV,MCQnV,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCuIf,MAAMW,GAAgB,CACtBnC,+BACAE,mCAGM,GAAiB,CACvBkC,gCACAC,8BAGe,QACf38C,uBACAkL,YACA0xC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2BAEA,iBACA,cACA,wBACA0G,aACAV,0BACAhB,+GAE2D0F,KAAKm3C,kBAAkBY,cAAc/3C,KAAKm3C,kBAAkB5P,0KAGvH/rC,0BACAD,oBACAE,4CACA,SACA,qCACA,iCAIA,MAGA88C,UACA,qEACA,qDACA,4CACA,yEAGAC,iBACA,cACA,8BAGAC,sBACA,2BACA,iCACA,gCAIAC,oBACA,uDACA,mEAKA,iBACA,sEACA,eANA3hD,kCASAohD,SACA,2BACA,sBC3JsW,MCQlW,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCsXf,MAAMQ,GAAsB,GAEb,QACfr4C,YACAs4C,4BACAC,4BACAC,gCACAxoC,aACAG,cACAwkC,wBACA8D,sBAEA9oD,OACA,OACAmH,WACAmgD,sBACAzB,qBACAkD,sBACAxB,UACArE,UACAD,iBACAiC,eAEAY,cACAX,UACAC,iBAGA0B,oBACAO,iBACAJ,sBACAF,oBACAiC,eACAC,yBACAC,uBACAC,oBACA52C,WAGAmH,UACAitC,kBACA,kFAEAt7C,QACA,8DAEA46C,iBACA,+CAEAmD,eACA,6BACA,sCAEA,MAGA5B,eACA,yBACA,uDAEA,KAGAR,kBAAA,QACA,wIAEAhB,2BACA,oFAEAY,kBACA,yCAEAF,kBACA,0CAGA/sC,UACA,uBAEA,0BAEA,2BAGA,oCACA,+DAGA7I,SACA42C,qBACA,sBACA,kBACA,0BAGA,oEAEAhC,qBACA,UACA,sBAEA,4BAEAK,oBACA,6DACA,2CAkBA,OAjBA,gBACAjhD,kCAEA,gEACA,wCAEA,IACA8b,+CACAzb,iCAEAf,UACA,0CAEA+V,UACA,2DAEA,aAEA,CACA,2CACA,gBACArV,+BASAuhD,UACAxjD,SACA4F,4EACA4gD,4BACA,4BAEA7C,WAQA,GAPA3jD,SACA4F,4EACA4gD,yBACA,6BACA,qDACA,uBAEA,yBACA,sBACA,SACAC,KACAC,KACAC,KACA3mD,iDACA,sCAEAA,+CACA,sCAEAA,iDACA,iBACA4mD,SAKAC,sBACA,kCACA,6BAQA,mCAIA,kCAFA,mCAOA,EAfA,qBACA,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EU,IACfpnD,2BAEAkL,YACAmQ,iBACA,8BACA,6CACA,KAGA5W,OACA8E,QACAkP,UACA,UAEAta,cAIAtD,OACA,OACAorD,YACAQ,kCACAa,oCACA3jD,0BACAF,UACAs6C,UACAD,iBACAiC,eAEAvC,YACAwC,UACAC,gBAEAsH,WACAvH,UACAC,iBAGAuH,kBACAxB,qBAIAzxC,UACAkzC,kBACA,iDAEAf,wBACA,mCACA,wBACA,SAGA,aAEAH,iBACA,4CACA,8BACA,SAGA,aAEA/iD,kBACA,0BAEAkkD,oBACA,OACA,mBACA,wEAKAlzC,UACA,gCACA,iCACA,kBAGAsB,UACA,yBACAjU,uCACA,uBACAnE,wDAIAiO,SACAq7C,eACA,+CACA,sBAAAh/C,gBAEAs+C,SACA,yBACApgD,qBACAhB,0EACAkB,2BACAC,4BACA,SACA,eACAxE,gDAIA8lD,oBACA,+EACA,gDAEAC,YACA,uCACA,oBAGAC,2BACA,sDACA,2BACA,oCACA,+CACA,0BACA,iDAKAC,4BACA,uDACA,eACA,sCACA,+CACA,0BACA,oCACAloB,+BAMA+mB,mCAAAoB,SAAAx+C,OAAAy+C,OACA,SACAvkD,kBACAzD,mBACAuJ,YACA,GAGA,8BAGA,OAFA,2BAEA,IACAsL,sCACA5V,UACA,2BACA,oBAEA+V,UAEA,GADA,2BACA,gEACA,SACA,8CACA,uBACA,gCACAizC,cAEA,oBACAA,WAEAtmD,iDACAA,yBAGA,oCACA,uCAEA,6DAIAilD,kCAAAmB,YAAAG,aAAAC,SACA,OAEAA,kBACA,aACA,gDAIA,OACAnoD,oBAGA,iBACAnF,sBAGA,kBACA,6BACA,2BAGA,WACA4gB,4DACAxc,UACA,kBACA,6BACA,8BAGA+V,UACA,kBACA,6BACA,2BAEA,mEACA,SACA,8CACA,uBACA,gCACAizC,cAEA,oBACAA,WAEAtmD,iDACAA,yBAGA,kBACA,6BACA,wCAGA,6DAIAklD,6BACA,WACA5hC,2DACAhmB,UACA,oBAEA+V,UACA,6DAGA8xC,sBACA,0BAEAC,qBACA,sBACA,8BACA,2BAEAqB,eACA,SACA,IACA,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","file":"js/root.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"root\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"root\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-09213160\":1,\"chunk-125ed81f\":1,\"chunk-21022300\":1,\"chunk-2c90e8a6\":1,\"chunk-3b71be8a\":1,\"chunk-4238a0c5\":1,\"chunk-715feb0c\":1,\"chunk-ba8543c0\":1,\"chunk-ca3d59de\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/frontend/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPreferencesPage.vue?vue&type=style&index=0&id=2b214f19&prod&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/detective-working.gif\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavBar.vue?vue&type=style&index=0&id=064f4e89&prod&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintHistoryPage.vue?vue&type=style&index=0&id=1be933eb&prod&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingPlaceholder.vue?vue&type=style&index=0&id=26c9d5fe&prod&lang=sass&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FocusedFeedbackConsent.vue?vue&type=style&index=0&id=1bb94a58&prod&lang=sass&scoped=true&\"","import Vue from 'vue'\nimport { isLocalStorageSupported } from '@static/js/utils'\nimport {\n  currentThemeValue as themeValue,\n  defaultTheme,\n  initTheme as init,\n} from '@static/js/color-scheme'\n\nexport const theme = Vue.observable({\n  value: defaultTheme,\n})\n\nexport function currentThemeValue() {\n  return themeValue(theme)\n}\n\nexport function initTheme() {\n  return init(currentThemeValue())\n}\n\nexport function setTheme(newTheme) {\n  theme.value = newTheme\n  if (isLocalStorageSupported()) {\n    localStorage.setItem('colorTheme', theme.value)\n  }\n  initTheme()\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FailureDetectionGauge.vue?vue&type=style&index=0&id=c291e2d4&prod&lang=sass&scoped=true&\"","var map = {\n\t\"./DiscordPlugin\": [\n\t\t\"0f1e\",\n\t\t\"chunk-3b71be8a\"\n\t],\n\t\"./DiscordPlugin.vue\": [\n\t\t\"0f1e\",\n\t\t\"chunk-3b71be8a\"\n\t],\n\t\"./EmailPlugin\": [\n\t\t\"c308\",\n\t\t\"chunk-2c90e8a6\"\n\t],\n\t\"./EmailPlugin.vue\": [\n\t\t\"c308\",\n\t\t\"chunk-2c90e8a6\"\n\t],\n\t\"./PushbulletPlugin\": [\n\t\t\"1cfc\",\n\t\t\"chunk-21022300\"\n\t],\n\t\"./PushbulletPlugin.vue\": [\n\t\t\"1cfc\",\n\t\t\"chunk-21022300\"\n\t],\n\t\"./PushoverPlugin\": [\n\t\t\"46f8\",\n\t\t\"chunk-4238a0c5\"\n\t],\n\t\"./PushoverPlugin.vue\": [\n\t\t\"46f8\",\n\t\t\"chunk-4238a0c5\"\n\t],\n\t\"./SlackPlugin\": [\n\t\t\"ff58\",\n\t\t\"chunk-ca3d59de\"\n\t],\n\t\"./SlackPlugin.vue\": [\n\t\t\"ff58\",\n\t\t\"chunk-ca3d59de\"\n\t],\n\t\"./TelegramPlugin\": [\n\t\t\"814e\",\n\t\t\"chunk-715feb0c\"\n\t],\n\t\"./TelegramPlugin.vue\": [\n\t\t\"814e\",\n\t\t\"chunk-715feb0c\"\n\t],\n\t\"./TwilioPlugin\": [\n\t\t\"e2bc\",\n\t\t\"chunk-125ed81f\"\n\t],\n\t\"./TwilioPlugin.vue\": [\n\t\t\"e2bc\",\n\t\t\"chunk-125ed81f\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"17ae\";\nmodule.exports = webpackAsyncContext;","module.exports = __webpack_public_path__ + \"img/moonraker_verification_code.png\";","export const mobilePlatform = () => {\n  return JSON.parse(document.querySelector('#app-platform-json').text)['platform']\n}\n\nexport const inMobileWebView = () => {\n  return mobilePlatform() !== ''\n}\n\nexport const user = () => {\n  return JSON.parse(document.querySelector('#user-json').text)\n}\n\nexport const settings = () => {\n  return JSON.parse(document.querySelector('#settings-json').text)\n}\n\nexport const onlyNotifications = () => {\n  return new URLSearchParams(window.location.search).get('onlyNotifications') === 'true'\n}\n\nexport const onlyName = () => {\n  return new URLSearchParams(window.location.search).get('onlyName') === 'true'\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RenameModal.vue?vue&type=style&index=0&id=1e293016&prod&lang=sass&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintHistoryItem.vue?vue&type=style&index=0&id=015dd8a7&prod&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/mainsail_logo.png\";","module.exports = __webpack_public_path__ + \"img/octopod.webp\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterCard.vue?vue&type=style&index=0&id=259aab4e&prod&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/install_plugin.png\";","module.exports = __webpack_public_path__ + \"img/octoprint_logo.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewOctoPrintTunnelPage.vue?vue&type=style&index=0&id=13e9a02f&prod&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterListPage.vue?vue&type=style&index=0&id=0f0bbe55&prod&lang=sass&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewFolderModal.vue?vue&type=style&index=0&id=2d1af6c9&prod&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OctoPrintTunnelPage.vue?vue&type=style&index=0&id=6f68f84f&prod&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/polymer.webp\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveModal.vue?vue&type=style&index=0&id=6e01625d&prod&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/printoid.webp\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintShotFeedbackApp.vue?vue&type=style&index=0&id=798e9044&prod&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/webpage-multiple.svg\";","module.exports = __webpack_public_path__ + \"img/plugin_wizard_websetup.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteConfirmationModal.vue?vue&type=style&index=0&id=c0a030bc&prod&lang=sass&\"","import { isLocalStorageSupported } from '@static/js/utils'\n\nexport const getLocalPref = (prefId, defaultValue) => {\n  var savedVal = isLocalStorageSupported() ? localStorage.getItem(prefId) : null\n  var val = savedVal || defaultValue\n  // Hack to deal with data type such as boolean and number\n  try {\n    return JSON.parse(val)\n  } catch (e) {\n    return val\n  }\n}\n\nexport const setLocalPref = (prefId, value) => {\n  if (isLocalStorageSupported()) {\n    localStorage.setItem(prefId, value)\n  }\n}\n","import Vue from 'vue'\nimport VueSwal from 'vue-sweetalert2'\n\nimport { getLocalPref, setLocalPref } from '@src/lib/pref'\n\nconst openModalWithComponent = (C, props, modalOptions) => {\n  let wrapper = document.createElement('div')\n  const c = new Vue({\n    render: (h) => h(C, { props: props }),\n  }).$mount(wrapper)\n\n  return Vue.swal({\n    ...modalOptions,\n    customClass: {\n      container: 'dark-backdrop',\n    },\n    html: '<div id=\"replace-here\">Placeholder</div>',\n    onBeforeOpen: (el) => {\n      el.querySelector('#replace-here').replaceWith(c.$el)\n    },\n    onDestroy: () => {\n      c.$destroy()\n      wrapper.remove()\n    },\n  })\n}\n\nconst openModalWithElement = (element, props, modalOptions) => {\n  return Vue.swal({\n    ...modalOptions,\n    customClass: {\n      container: 'dark-backdrop',\n    },\n    html: '<div id=\"replace-here\">Placeholder</div>',\n    onBeforeOpen: (el) => {\n      el.querySelector('#replace-here').replaceWith(element)\n    },\n  })\n}\n\nconst install = (Vue, options) => {\n  Vue.use(VueSwal, options)\n\n  const Confirm = Vue.swal.mixin({\n    title: 'Are you sure?',\n    showCancelButton: true,\n    confirmButtonText: 'Yes',\n    cancelButtonText: 'No',\n    customClass: {\n      container: 'dark-backdrop',\n    },\n  })\n\n  const Toast = Vue.swal.mixin({\n    toast: true,\n    position: 'top-end',\n    showConfirmButton: false,\n    timer: 5000,\n  })\n\n  const Reject = Vue.swal.mixin({\n    icon: 'error',\n    customClass: {\n      container: 'dark-backdrop error-alert',\n    },\n  })\n\n  const Prompt = Vue.swal.mixin({\n    customClass: {\n      container: 'dark-backdrop',\n    },\n  })\n\n  const DismissableToast = (swalOpt, dismissKey) => {\n    if (!getLocalPref(dismissKey, false)) {\n      const opt = {\n        ...swalOpt,\n        position: 'top-end',\n        confirmButtonText: \"Gotcha! Don't show this again.\",\n      }\n      return Vue.swal(opt).then(function (result) {\n        if (result.value) {\n          setLocalPref(dismissKey, true)\n          console.log(result)\n        }\n      })\n    }\n  }\n\n  Vue.prototype.$swal['openModalWithComponent'] = openModalWithComponent\n  Vue.prototype.$swal['openModalWithElement'] = openModalWithElement\n  Vue.prototype.$swal['Confirm'] = Confirm\n  Vue.prototype.$swal['Toast'] = Toast\n  Vue.prototype.$swal['DismissableToast'] = DismissableToast\n  Vue.prototype.$swal['Reject'] = Reject\n  Vue.prototype.$swal['Prompt'] = Prompt\n}\n\nexport default { install: install }\n","import Vue from 'vue'\n\nVue.filter('floor', (value) => Math.floor(value))\n","// extract from @sentry/vue package\n\nconst COMPONENT_NAME_REGEXP = /(?:^|[-_/])(\\w)/g\nconst ROOT_COMPONENT_NAME = 'root'\nconst ANONYMOUS_COMPONENT_NAME = 'anonymous component'\n\nconst splitPathRe = /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^/]+?|)(\\.[^./]*|))(?:[/]*)$/\nconst splitPath = (filename) => {\n  const parts = splitPathRe.exec(filename)\n  return parts ? parts.slice(1) : []\n}\n\nconst basename = (path, ext) => {\n  let f = splitPath(path)[2]\n  if (ext && f.substr(ext.length * -1) === ext) {\n    f = f.substr(0, f.length - ext.length)\n  }\n  return f\n}\n\nconst getComponentName = (vm) => {\n  if (!vm) {\n    return ANONYMOUS_COMPONENT_NAME\n  }\n\n  if (vm.$root === vm) {\n    return ROOT_COMPONENT_NAME\n  }\n\n  if (!vm.$options) {\n    return ANONYMOUS_COMPONENT_NAME\n  }\n\n  if (vm.$options.name) {\n    return vm.$options.name\n  }\n\n  if (vm.$options._componentTag) {\n    return vm.$options._componentTag\n  }\n\n  // injected by vue-loader\n  if (vm.$options.__file) {\n    const unifiedFile = vm.$options.__file.replace(/^[a-zA-Z]:/, '').replace(/\\\\/g, '/')\n    const filename = basename(unifiedFile, '.vue')\n    return filename.replace(COMPONENT_NAME_REGEXP, (_, c) =>\n      c ? c.toUpperCase() : '',\n    )\n  }\n\n  return ANONYMOUS_COMPONENT_NAME\n}\n\nconst build = (to, from, prefix, depth, maxDepth, maxKeys) => {\n  let c = 0\n  for (let key in from) {\n    c += 1\n    if (c > maxKeys) {\n      break\n    }\n    if (typeof from[key] == 'object') {\n      if (maxDepth > depth) {\n        build(to, from[key], prefix + '.' + key, depth + 1, maxDepth, maxKeys)\n      }\n    } else {\n      to[prefix + '.' + key] = from[key]\n    }\n  }\n}\n\nconst setup = (Vue) => {\n  const defaultErrorHandler = Vue.config.errorHandler\n\n  Vue.config.errorHandler = (error, vm, info) => {\n    if (window.Sentry) {\n      const metadata = {}\n\n      let obj = vm\n      if (vm._original) {\n        obj = vm._original\n      }\n\n      if (obj) {\n\n        try {\n          metadata.componentName = getComponentName(obj)\n          build(metadata, JSON.parse(JSON.stringify(obj.$options.propsData)), 'props', 0, 2, 10)\n        } catch (_oO) {\n          console.log('Unable to extract metadata from Vue component.')\n        }\n      }\n\n      if (info) {\n        metadata.lifecycleHook = info\n      }\n\n      // Capture exception in the next event loop, to make sure that all breadcrumbs are recorded in time.\n      setTimeout(() => {\n        window.Sentry.getCurrentHub().withScope(scope => {\n          scope.setContext('vue', metadata)\n          window.Sentry.getCurrentHub().captureException(error)\n        })\n      })\n    }\n\n    if (typeof defaultErrorHandler === 'function') {\n      defaultErrorHandler.call(Vue, error, vm, info)\n    }\n\n    if (Vue.util) {\n      Vue.util.warn(`Error in ${info}: \"${error.toString()}\"`, vm)\n    }\n    console.error(error)\n  }\n}\n\nexport default setup\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wrapper\"},[_c('b-spinner')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"wrapper\">\n    <b-spinner />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'LoadingPlaceholder',\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.wrapper\n  margin: 5rem\n  text-align: center\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingPlaceholder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingPlaceholder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoadingPlaceholder.vue?vue&type=template&id=26c9d5fe&scoped=true&\"\nimport script from \"./LoadingPlaceholder.vue?vue&type=script&lang=js&\"\nexport * from \"./LoadingPlaceholder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LoadingPlaceholder.vue?vue&type=style&index=0&id=26c9d5fe&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26c9d5fe\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport VueSwal from '@src/lib/vue-swal'\nimport { BootstrapVue } from 'bootstrap-vue'\nimport Sticky from 'vue-sticky-directive'\nimport VueMoment from 'vue-moment'\nimport '@src/lib/filters'\nimport setupSentry from '@src/lib/sentry'\nimport { initTheme } from '@src/lib/color-scheme-controller'\nimport VuePluralize from 'vue-pluralize'\nimport OnoffToggle from 'vue-onoff-toggle'\nimport LoadScript from 'vue-plugin-load-script'\nimport LoadingPlaceholder from '@src/components/LoadingPlaceholder.vue'\n\nexport default (router, components) => {\n  initTheme()\n  setupSentry(Vue)\n  Vue.use(VueRouter)\n  Vue.use(BootstrapVue)\n  Vue.use(VueSwal)\n  Vue.use(Sticky)\n  Vue.use(VueMoment)\n  Vue.use(VuePluralize)\n  Vue.use(OnoffToggle)\n  Vue.use(LoadScript)\n\n  Vue.mixin({\n    methods: {\n      _showErrorPopup: function (error, userMessage) {\n        console.error(error)\n        this.$swal.Reject.fire({\n          title: 'Error',\n          html: `<p style=\"line-height: 1.5; max-width: 400px; margin: 0 auto;\">\n            ${userMessage || error?.message || 'Error occured'}.\n            Get help from <a href=\"https://obico.io/discord\">the Obico app discussion forum</a> if this error persists.\n          </p>`,\n          showConfirmButton: false,\n          showCancelButton: true,\n          cancelButtonText: 'Close',\n        })\n      },\n    },\n  })\n\n  Vue.component('LoadingPlaceholder', LoadingPlaceholder)\n\n  if (document.getElementById('app')) {\n    new Vue({\n      router,\n      components,\n    }).$mount('#app')\n  }\n}\n","export default {\n  email: {\n    displayName: 'Email',\n    componentName: 'EmailPlugin',\n  },\n  twilio: {\n    displayName: 'SMS',\n    componentName: 'TwilioPlugin',\n  },\n  pushbullet: {\n    displayName: 'Pushbullet',\n    componentName: 'PushbulletPlugin',\n  },\n  discord: {\n    displayName: 'Discord',\n    componentName: 'DiscordPlugin',\n  },\n  telegram: {\n    displayName: 'Telegram',\n    componentName: 'TelegramPlugin',\n  },\n  pushover: {\n    displayName: 'Pushover',\n    componentName: 'PushoverPlugin',\n  },\n  slack: {\n    displayName: 'Slack',\n    componentName: 'SlackPlugin',\n  },\n}\n","import notificationPlugins from '@src/notifications/plugins'\n\nconst defaultRoutes = {\n  ThemePreferences: '/user_preferences/personalization/',\n  ProfilePreferences: '/user_preferences/profile/',\n  AuthorizedApps: '/user_preferences/authorized_apps/',\n  GeneralNotifications: '/user_preferences/general_notifications/',\n  PushNotifications: '/user_preferences/mobile_push_notifications/',\n}\n\nconst notificationRoutes = Object.keys(notificationPlugins).reduce((obj, name) => {\n  return Object.assign(obj, { [name]: `/user_preferences/notification_${name}/` })\n}, {})\n\nexport default {\n  ...defaultRoutes,\n  ...notificationRoutes,\n}\n","const routes = {\n  printerWizard: '/printers/wizard/',\n  printerWizardSetup: '/printers/wizard/setup/',\n}\n\nexport default routes\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-container',[_c('b-row',{staticClass:\"justify-content-center\"},[(_vm.user)?_c('b-col',{staticClass:\"mt-3\",attrs:{\"lg\":\"8\"}},[(_vm.printersToShow.length === 0)?_c('div',{staticClass:\"wizard-container full-on-mobile\"},[_c('b-container',[_c('b-row',[_c('div',{staticClass:\"col-sm-12 col-md-8 offset-md-2 col-lg-6 offset-lg-3\"},[_c('svg',{staticClass:\"logo-img\",attrs:{\"viewBox\":\"0 0 1965 240\"}},[_c('use',{attrs:{\"href\":\"#svg-logo-compact\"}})])])]),_c('b-row',[_c('h1',{staticClass:\"mx-auto\"},[_vm._v(\"Welcome To Obico\")])]),_c('b-row',[_c('b-col',[_c('hr')])],1),(_vm.isEnt && _vm.trialDaysLeft > 0)?_c('b-row',[_c('b-col',[(_vm.trialDaysLeft >= 29)?_c('h3',{staticClass:\"py-3\"},[_vm._v(\" Your 30-Day \"),_c('a',{staticClass:\"link\",attrs:{\"target\":\"_blank\",\"href\":\"https://www.obico.io/docs/user-guides/upgrade-to-pro/\"}},[_vm._v(\"Pro Plan\")]),_vm._v(\" Free Trial Has Started! \")]):_c('h3',{staticClass:\"py-3\"},[_vm._v(\" \"+_vm._s(_vm.trialDaysLeft)+\" Days Left on Your \"),_c('a',{staticClass:\"link\",attrs:{\"target\":\"_blank\",\"href\":\"https://www.obico.io/docs/user-guides/upgrade-to-pro/\"}},[_vm._v(\"Pro Plan \")]),_vm._v(\"Free Trial! \")]),_c('div',{staticClass:\"pb-1\"},[_c('i',{staticClass:\"feature-check fas fa-check-circle\"}),_c('span',{staticClass:\"feature-text\"},[_vm._v(\"Unlimited Secure Tunneling to your OctoPrint\")])]),_c('div',{staticClass:\"pb-1\"},[_c('i',{staticClass:\"feature-check fas fa-check-circle\"}),_c('span',{staticClass:\"feature-text\"},[_vm._v(\"Premium 25 FPS Webcam Streaming\")])]),_c('div',{staticClass:\"pb-1\"},[_c('i',{staticClass:\"feature-check fas fa-check-circle\"}),_c('span',{staticClass:\"feature-text\"},[_vm._v(\"250 AI Failure Detection Hours\")])]),_c('div',{staticClass:\"pb-1\"},[_c('i',{staticClass:\"feature-check fas fa-check-circle\"}),_c('span',{staticClass:\"feature-text\"},[_vm._v(\"G-Code Remote Upload and Printing\")])]),_c('div',{staticClass:\"lead py-4\"},[_vm._v(\"OctoPrint has not been linked to your Obico account.\")]),_c('div',{staticClass:\"d-flex flex-column align-center justify-content-center\"},[_c('div',[_c('a',{staticClass:\"btn btn-primary btn-block mx-auto btn-lg\",attrs:{\"href\":_vm.wizardUrl}},[_vm._v(\"Link OctoPrint Now\")])]),_c('div',[_c('div',{staticClass:\"text-muted mx-auto text-center font-weight-light\"},[_vm._v(\" It's as easy as 1-2-3. \")])])])])],1):_vm._e(),_c('div',{staticClass:\"footer-note small\"},[_vm._v(\" Not ready to start yet? \"),_c('a',{attrs:{\"href\":\"mailto:support@obico.io?subject=Please%20pause%20my%20free%20trial\"}},[_vm._v(\"Email us\")]),_vm._v(\" to pause your free trial. \")])],1)],1):_c('div',[_c('div',{staticClass:\"text-center\"},[_c('svg',{attrs:{\"width\":\"100\",\"height\":\"30\"}},[_c('use',{attrs:{\"href\":\"#svg-logo-full\"}})])]),(_vm.authorized)?_c('div',{staticClass:\"authorization-successful\"},[_c('h4',{staticClass:\"title\"},[_vm._v(\"Authorization Successful!\")]),_c('p',[_vm._v(\"You can close this page\")])]):_c('div',[_c('div',[_c('div',{staticClass:\"lead text-center mt-3 mb-5\"},[_vm._v(\"Tunnel Access Authorization\")]),_c('h4',{staticClass:\"my-4\"},[_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(_vm.appName))]),_vm._v(\" is requesting to access you OctoPrint Tunnel. \")]),_c('p',{staticClass:\"text-muted\"},[_c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/octoprint-tunneling/\",\"target\":\"_blank\"}},[_vm._v(\"OctoPrint Tunnel\")]),_vm._v(\" is a secure way provided by \"),_c('a',{attrs:{\"href\":\"https://www.obico.io/\",\"target\":\"_blank\"}},[_vm._v(\"Obico\")]),_vm._v(\" to remotely access your OctoPrint. With the OctoPrint Tunnel, you can use \"+_vm._s(_vm.appName)+\" to access your OctoPrint from anywhere. \")]),(!_vm.user.is_pro)?_c('b-alert',{staticClass:\"my-3\",attrs:{\"variant\":\"warning\",\"dismissible\":\"\",\"show\":\"\"}},[_c('div',[_c('i',{staticClass:\"fas fa-exclamation-triangle\"}),_vm._v(\" Tunnel usage of a free account is \"),_c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/octoprint-tunneling/#why-is-the-limit-on-free-account-only-100mb\",\"target\":\"_blank\"}},[_vm._v(\"capped at 300MB per month\")]),_vm._v(\". You can \"),_c('a',{attrs:{\"href\":\"http://app.obico.io/ent_pub/pricing/\",\"target\":\"_blank\"}},[_vm._v(\"upgrade to the Obico app Pro plan for 1 Starbucks a month\")]),_vm._v(\" to enjoy unlimited tunnel usage. \")])]):_vm._e(),(_vm.user.is_pro && _vm.trialDaysLeft > 0)?_c('b-alert',{staticClass:\"my-3\",attrs:{\"variant\":\"warning\",\"dismissible\":\"\",\"show\":\"\"}},[_c('div',[_c('i',{staticClass:\"fas fa-exclamation-triangle\"}),_vm._v(\" After the Free trial expires, tunnel data usage will be \"),_c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/octoprint-tunneling/#why-is-the-limit-on-free-account-only-100mb\",\"target\":\"_blank\"}},[_vm._v(\"capped at 300MB per month\")]),_vm._v(\". You can \"),_c('a',{attrs:{\"href\":\"http://app.obico.io/ent_pub/pricing/\",\"target\":\"_blank\"}},[_vm._v(\"upgrade to the Obico app Pro plan for 1 Starbucks a month\")]),_vm._v(\" to continue enjoying unlimited tunnel usage. \")])]):_vm._e(),_c('div',{staticClass:\"mt-5\"},[_c('p',{staticClass:\"lead\"},[_vm._v(\" Tunnel access by \"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(_vm.appName))]),_vm._v(\" (make sure you trust it): \")]),(_vm.printersToShow.length === 0)?_c('h5',[_vm._v(\"You have 0 active printers\")]):(_vm.printersToShow.length === 1)?_c('h5',{staticClass:\"font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm.printersToShow[0].name)+\" \")]):(_vm.printersToShow.length > 1)?_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.printerToAuthorize),expression:\"printerToAuthorize\"}],staticClass:\"custom-select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.printerToAuthorize=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"selected\":\"\",\"disabled\":\"\"},domProps:{\"value\":null}},[_vm._v(\"Please select a printer\")]),_vm._l((_vm.printersToShow),function(printer){return _c('option',{key:printer.id,domProps:{\"value\":printer.id}},[_vm._v(\" \"+_vm._s(printer.name)+\" \")])})],2):_vm._e(),(_vm.printersToShow.length)?_c('div',{staticClass:\"d-flex mt-4 mb-3\"},[_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"flex\":\"1\"},attrs:{\"disabled\":!_vm.printerToAuthorize || _vm.performingAuthRequest},on:{\"click\":_vm.authorize}},[(_vm.performingAuthRequest)?_c('b-spinner',{attrs:{\"small\":\"\",\"label\":\"Loading...\"}}):_c('span',[_vm._v(\"Authorize\")])],1),_c('a',{staticClass:\"btn btn-outline-secondary ml-2\",staticStyle:{\"flex\":\"1\"},attrs:{\"href\":\"/user_preferences/authorized_apps\"}},[_vm._v(\"Manage Apps\")])]):_vm._e()])],1),_c('div',{staticClass:\"mt-4\"},[_c('p',{staticClass:\"text-muted small mb-1\"},[_vm._v(\"Security notes:\")]),_c('ul',{staticClass:\"text-muted small pl-4\"},[_c('li',[_vm._v(\" The app can only access the tunnel, not your Obico account info such as your email address. \")]),_c('li',[_vm._v(\" The access remains valid until explicitly revoked. You can revoke the access by going to Preferences -> Authorized Apps. \")])])])])])]):_c('b-col',{staticClass:\"mt-5\"},[_c('div',[_c('b-container',[_c('div',{staticClass:\"d-flex justify-content-center align-items-center\"},[_c('img',{staticClass:\"logo-icon\",attrs:{\"src\":_vm.appLogo}}),_c('h3',[_vm._v(\"⇄\")]),_c('svg',{staticClass:\"logo-icon obico\"},[_c('use',{attrs:{\"href\":\"#svg-logo-compact\"}})]),_c('h3',[_vm._v(\"⇄\")]),_c('img',{staticClass:\"logo-icon\",attrs:{\"src\":require('@static/img/octoprint_logo.png')}})]),_c('div',{staticClass:\"my-4\"},[_c('div',{staticClass:\"mx-auto text-center\"},[_c('h4',[_vm._v(\"OctoPrint Tunnel\")]),_c('div',{staticClass:\"lead\"},[_vm._v(\"Powered by Obico\")])])]),_c('div',{staticClass:\"account-details\"},[_c('p',[_vm._v(\" With the OctoPrint Tunnel by Obico, you can now use \"+_vm._s(_vm.appName)+\" to \"),_c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/octoprint-tunneling/\",\"target\":\"_blank\"}},[_vm._v(\"securely control and monitor your printer from anywhere\")]),_vm._v(\". \")]),_c('div',{staticClass:\"text-muted\"},[_vm._v(\"Obico Free Account:\")]),_c('ul',{staticClass:\"text-muted\"},[_c('li',[_vm._v(\"Unlimited realtime webcam at 0.1FPS.\")]),_c('li',[_vm._v(\"300MB monthly tunnel data cap (excluding webcam streaming).\")]),_c('li',[_vm._v(\"10 hours/mo AI failure detection.\")])]),_c('div',{staticClass:\"text-muted\"},[_vm._v(\" Obico Pro Account (\"),_c('a',{attrs:{\"href\":\"https://app.obico.io/ent_pub/pricing/\",\"target\":\"_blank\"}},[_vm._v(\"from $4/mo\")]),_vm._v(\"): \")]),_c('ul',{staticClass:\"text-muted\"},[_c('li',[_vm._v(\"Unlimited realtime webcam streaming.\")]),_c('li',[_vm._v(\"Unlimited tunnel data usage.\")]),_c('li',[_vm._v(\"50 hours/mo AI failure detection.\")]),_c('li',[_c('a',{attrs:{\"href\":\"https://app.obico.io/ent_pub/pricing/\",\"target\":\"_blank\"}},[_vm._v(\"And much more...\")])])])]),_c('div',[_c('div',{staticClass:\"my-5 w-100\"},[_c('a',{staticClass:\"btn btn-primary btn-block\",attrs:{\"href\":_vm.loginUrl}},[_vm._v(\"SIGN IN \")]),_c('div',{staticClass:\"text-center pt-3 w-100\"},[_c('div',{staticClass:\"font-weight-light text-muted\"},[_vm._v(\"- OR -\")]),_c('a',{staticClass:\"btn\",attrs:{\"href\":_vm.signupUrl}},[_vm._v(\"SIGN UP\")])])])])])],1)])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import moment from 'moment'\nimport get from 'lodash/get'\nimport filesize from 'filesize'\nimport semverGte from 'semver/functions/gte'\n\nexport const toMomentOrNull = (datetimeStr) => {\n  if (!datetimeStr) {\n    return null\n  }\n  return moment(datetimeStr)\n}\n\nexport const PrintStatus = {\n  Printing: { key: 'printing', title: 'Printing...' },\n  Finished: { key: 'finished', title: 'Finished' },\n  Cancelled: { key: 'cancelled', title: 'Cancelled' },\n}\n\n// ––––––––––––––––––––––\n\nexport const normalizedPrint = (print) => {\n  print.started_at = toMomentOrNull(print.started_at)\n  print.uploaded_at = toMomentOrNull(print.uploaded_at)\n  print.finished_at = toMomentOrNull(print.finished_at)\n  print.cancelled_at = toMomentOrNull(print.cancelled_at)\n  print.ended_at = toMomentOrNull(print.ended_at)\n  if (print.ended_at) {\n    const duration = moment.duration(print.ended_at.diff(print.started_at))\n    print.duration = duration.hours() ? `${duration.hours()}h ` : ''\n    print.duration += `${duration.minutes()}m`\n  }\n  print.has_alerts = Boolean(print.alerted_at)\n  print.printShotFeedbackEligible =\n    print.printshotfeedback_set && print.printshotfeedback_set.length > 0\n  print.status = print.ended_at\n    ? print.cancelled_at\n      ? PrintStatus.Cancelled\n      : PrintStatus.Finished\n    : PrintStatus.Printing\n  if (print.printer) {\n    print.printer = normalizedPrinter(print.printer)\n  }\n  if (print.g_code_file) {\n    print.g_code_file = normalizedGcode(print.g_code_file)\n  }\n  return print\n}\n\nexport const normalizedGcode = (gcode) => {\n  gcode.created_at = toMomentOrNull(gcode.created_at)\n  gcode.updated_at = toMomentOrNull(gcode.updated_at)\n  gcode.deleted = toMomentOrNull(gcode.deleted)\n  gcode.filesize = filesize(gcode.num_bytes)\n\n  if (gcode.print_set) {\n    gcode.print_set.map((p) => normalizedPrint(p))\n    gcode.print_set.sort((a, b) => {\n      if (!a.ended_at && !b.ended_at) {\n        // if both in progress, sort by started_at\n        if (a.started_at > b.started_at) {\n          return -1\n        } else if (a.started_at < b.started_at) {\n          return 1\n        } else {\n          return 0\n        }\n      } else if (!a.ended_at) {\n        return -1\n      } else if (!b.ended_at) {\n        return 1\n      } else {\n        if (a.ended_at > b.ended_at) {\n          return -1\n        } else if (a.ended_at < b.ended_at) {\n          return 1\n        } else {\n          return 0\n        }\n      }\n    })\n    gcode.last_print = gcode.print_set[0]\n\n    gcode.failedPrints = gcode.print_set.filter((p) => p.cancelled_at).length\n    gcode.successPrints = gcode.print_set.filter((p) => p.finished_at).length\n    gcode.totalPrints = gcode.print_set.length\n  }\n\n  return gcode\n}\n\nexport const normalizedGcodeFolder = (folder) => {\n  folder.created_at = toMomentOrNull(folder.created_at)\n  folder.updated_at = toMomentOrNull(folder.updated_at)\n  folder.numItems = folder.g_code_file_count + folder.g_code_folder_count\n  return folder\n}\n\nexport const normalizedPrinter = (newData, oldData) => {\n  const printerMixin = {\n    createdAt: function () {\n      return toMomentOrNull(this.created_at)\n    },\n    isOffline: function () {\n      return get(this, 'status', null) === null\n    },\n    isPaused: function () {\n      return get(this, 'status.state.flags.paused', false)\n    },\n    isDisconnected: function () {\n      return get(this, 'status.state.flags.closedOrError', true)\n    },\n    isActive: function () {\n      const flags = get(this, 'status.state.flags')\n      // https://discord.com/channels/704958479194128507/705047010641838211/1013193281280159875\n      return Boolean(flags && flags.operational && (!flags.ready || flags.paused))\n    },\n    inTransientState: function () {\n      return (\n        !this.hasError() &&\n        get(this, 'status.state.text', '').includes('ing') &&\n        !get(this, 'status.state.text', '').includes('Printing')\n      )\n    },\n    inUserInteractionRequired: function () {\n      return get(this, 'status.user_interaction_required', false)\n    },\n    hasError: function () {\n      return (\n        get(this, 'status.state.flags.error') ||\n        get(this, 'status.state.text', '').toLowerCase().includes('error')\n      )\n    },\n    isAgentMoonraker: function () {\n      return get(this, 'agent_name', '') === 'moonraker_obico'\n    },\n    agentDisplayName: function () {\n      return this.isAgentMoonraker() ? 'Klipper' : 'OctoPrint'\n    },\n    basicStreamingInWebrtc: function () {\n      return (\n        (get(this, 'settings.agent_name', '') === 'octoprint_obico' &&\n          semverGte(get(this, 'settings.agent_version', '0.0.0'), '2.1.0')) ||\n        (get(this, 'settings.agent_name', '') === 'moonraker_obico' &&\n          semverGte(get(this, 'settings.agent_version', '0.0.0'), '0.3.0'))\n      )\n    },\n    alertUnacknowledged: function () {\n      return (\n        get(this, 'current_print.alerted_at') &&\n        moment(get(this, 'current_print.alerted_at')).isAfter(\n          moment(get(this, 'current_print.alert_acknowledged_at') || 0)\n        )\n      )\n    },\n    // Printing availability\n    isPrintable: function () {\n      return !this.isOffline() && !this.isDisconnected() && !this.isActive()\n    },\n    printabilityText: function () {\n      return this.isPrintable() ? 'Ready' : 'Unavailable'\n    },\n    // Storage availability\n    browsabilityMinPluginVersion: function () {\n      const MIN_OCTOPRINT_PLUGIN_VERSION = '2.3.0'\n      const MIN_MOONRAKER_PLUGIN_VERSION = '1.2.0'\n      return this.isAgentMoonraker() ? MIN_MOONRAKER_PLUGIN_VERSION : MIN_OCTOPRINT_PLUGIN_VERSION\n    },\n    isBrowsable: function () {\n      return !(\n        this.isOffline() ||\n        !semverGte(\n          get(this, 'settings.agent_version', '0.0.0'),\n          this.browsabilityMinPluginVersion()\n        )\n      )\n    },\n    browsabilityText: function () {\n      return this.isBrowsable() ? 'Available to browse files' : 'Unable to browse files'\n    },\n  }\n  if (oldData) {\n    if (\n      get(oldData, 'status._ts', -1) > get(newData, 'status._ts', get(oldData, 'status._ts', 0))\n    ) {\n      delete newData.status\n    }\n    return {\n      ...oldData,\n      ...newData,\n      ...printerMixin,\n    }\n  } else {\n    return {\n      ...newData,\n      ...printerMixin,\n    }\n  }\n}\n\nexport const normalizedPrinterEvent = (printerEvent) => {\n  printerEvent.created_at = toMomentOrNull(printerEvent.created_at)\n  return printerEvent\n}\n","<template>\n  <b-container>\n    <b-row class=\"justify-content-center\">\n      <b-col v-if=\"user\" lg=\"8\" class=\"mt-3\">\n        <div v-if=\"printersToShow.length === 0\" class=\"wizard-container full-on-mobile\">\n          <b-container>\n            <b-row>\n              <div class=\"col-sm-12 col-md-8 offset-md-2 col-lg-6 offset-lg-3\">\n                <svg viewBox=\"0 0 1965 240\" class=\"logo-img\">\n                  <use href=\"#svg-logo-compact\" />\n                </svg>\n              </div>\n            </b-row>\n            <b-row>\n              <h1 class=\"mx-auto\">Welcome To Obico</h1>\n            </b-row>\n            <b-row>\n              <b-col>\n                <hr />\n              </b-col>\n            </b-row>\n            <b-row v-if=\"isEnt && trialDaysLeft > 0\">\n              <b-col>\n                <h3 v-if=\"trialDaysLeft >= 29\" class=\"py-3\">\n                  Your 30-Day\n                  <a\n                    class=\"link\"\n                    target=\"_blank\"\n                    href=\"https://www.obico.io/docs/user-guides/upgrade-to-pro/\"\n                    >Pro Plan</a\n                  >\n                  Free Trial Has Started!\n                </h3>\n                <h3 v-else class=\"py-3\">\n                  {{ trialDaysLeft }} Days Left on Your\n                  <a\n                    class=\"link\"\n                    target=\"_blank\"\n                    href=\"https://www.obico.io/docs/user-guides/upgrade-to-pro/\"\n                    >Pro Plan </a\n                  >Free Trial!\n                </h3>\n                <div class=\"pb-1\">\n                  <i class=\"feature-check fas fa-check-circle\"></i\n                  ><span class=\"feature-text\">Unlimited Secure Tunneling to your OctoPrint</span>\n                </div>\n                <div class=\"pb-1\">\n                  <i class=\"feature-check fas fa-check-circle\"></i\n                  ><span class=\"feature-text\">Premium 25 FPS Webcam Streaming</span>\n                </div>\n                <div class=\"pb-1\">\n                  <i class=\"feature-check fas fa-check-circle\"></i\n                  ><span class=\"feature-text\">250 AI Failure Detection Hours</span>\n                </div>\n                <div class=\"pb-1\">\n                  <i class=\"feature-check fas fa-check-circle\"></i\n                  ><span class=\"feature-text\">G-Code Remote Upload and Printing</span>\n                </div>\n                <div class=\"lead py-4\">OctoPrint has not been linked to your Obico account.</div>\n                <div class=\"d-flex flex-column align-center justify-content-center\">\n                  <div>\n                    <a :href=\"wizardUrl\" class=\"btn btn-primary btn-block mx-auto btn-lg\"\n                      >Link OctoPrint Now</a\n                    >\n                  </div>\n                  <div>\n                    <div class=\"text-muted mx-auto text-center font-weight-light\">\n                      It's as easy as 1-2-3.\n                    </div>\n                  </div>\n                </div>\n              </b-col>\n            </b-row>\n            <div class=\"footer-note small\">\n              Not ready to start yet?\n              <a href=\"mailto:support@obico.io?subject=Please%20pause%20my%20free%20trial\"\n                >Email us</a\n              >\n              to pause your free trial.\n            </div>\n          </b-container>\n        </div>\n        <div v-else>\n          <div class=\"text-center\">\n            <svg width=\"100\" height=\"30\">\n              <use href=\"#svg-logo-full\" />\n            </svg>\n          </div>\n\n          <div v-if=\"authorized\" class=\"authorization-successful\">\n            <h4 class=\"title\">Authorization Successful!</h4>\n            <p>You can close this page</p>\n          </div>\n          <div v-else>\n            <div>\n              <div class=\"lead text-center mt-3 mb-5\">Tunnel Access Authorization</div>\n              <h4 class=\"my-4\">\n                <span class=\"font-weight-bold\">{{ appName }}</span> is requesting to access you\n                OctoPrint Tunnel.\n              </h4>\n              <p class=\"text-muted\">\n                <a href=\"https://www.obico.io/docs/user-guides/octoprint-tunneling/\" target=\"_blank\"\n                  >OctoPrint Tunnel</a\n                >\n                is a secure way provided by\n                <a href=\"https://www.obico.io/\" target=\"_blank\">Obico</a> to remotely access your\n                OctoPrint. With the OctoPrint Tunnel, you can use {{ appName }} to access your\n                OctoPrint from anywhere.\n              </p>\n\n              <b-alert v-if=\"!user.is_pro\" variant=\"warning\" dismissible class=\"my-3\" show>\n                <div>\n                  <i class=\"fas fa-exclamation-triangle\"></i> Tunnel usage of a free account is\n                  <a\n                    href=\"https://www.obico.io/docs/user-guides/octoprint-tunneling/#why-is-the-limit-on-free-account-only-100mb\"\n                    target=\"_blank\"\n                    >capped at 300MB per month</a\n                  >. You can\n                  <a href=\"http://app.obico.io/ent_pub/pricing/\" target=\"_blank\"\n                    >upgrade to the Obico app Pro plan for 1 Starbucks a month</a\n                  >\n                  to enjoy unlimited tunnel usage.\n                </div>\n              </b-alert>\n              <b-alert\n                v-if=\"user.is_pro && trialDaysLeft > 0\"\n                variant=\"warning\"\n                dismissible\n                class=\"my-3\"\n                show\n              >\n                <div>\n                  <i class=\"fas fa-exclamation-triangle\"></i> After the Free trial expires, tunnel\n                  data usage will be\n                  <a\n                    href=\"https://www.obico.io/docs/user-guides/octoprint-tunneling/#why-is-the-limit-on-free-account-only-100mb\"\n                    target=\"_blank\"\n                    >capped at 300MB per month</a\n                  >. You can\n                  <a href=\"http://app.obico.io/ent_pub/pricing/\" target=\"_blank\"\n                    >upgrade to the Obico app Pro plan for 1 Starbucks a month</a\n                  >\n                  to continue enjoying unlimited tunnel usage.\n                </div>\n              </b-alert>\n\n              <div class=\"mt-5\">\n                <p class=\"lead\">\n                  Tunnel access by <span class=\"font-weight-bold\">{{ appName }}</span> (make sure\n                  you trust it):\n                </p>\n                <h5 v-if=\"printersToShow.length === 0\">You have 0 active printers</h5>\n                <h5 v-else-if=\"printersToShow.length === 1\" class=\"font-weight-bold\">\n                  {{ printersToShow[0].name }}\n                </h5>\n                <select\n                  v-else-if=\"printersToShow.length > 1\"\n                  v-model=\"printerToAuthorize\"\n                  class=\"custom-select\"\n                >\n                  <option :value=\"null\" selected disabled>Please select a printer</option>\n                  <option v-for=\"printer in printersToShow\" :key=\"printer.id\" :value=\"printer.id\">\n                    {{ printer.name }}\n                  </option>\n                </select>\n                <div v-if=\"printersToShow.length\" class=\"d-flex mt-4 mb-3\">\n                  <button\n                    class=\"btn btn-primary\"\n                    style=\"flex: 1\"\n                    :disabled=\"!printerToAuthorize || performingAuthRequest\"\n                    @click=\"authorize\"\n                  >\n                    <b-spinner v-if=\"performingAuthRequest\" small label=\"Loading...\"></b-spinner>\n                    <span v-else>Authorize</span>\n                  </button>\n                  <a\n                    class=\"btn btn-outline-secondary ml-2\"\n                    style=\"flex: 1\"\n                    href=\"/user_preferences/authorized_apps\"\n                    >Manage Apps</a\n                  >\n                </div>\n              </div>\n            </div>\n            <div class=\"mt-4\">\n              <p class=\"text-muted small mb-1\">Security notes:</p>\n              <ul class=\"text-muted small pl-4\">\n                <li>\n                  The app can only access the tunnel, not your Obico account info such as your email\n                  address.\n                </li>\n                <li>\n                  The access remains valid until explicitly revoked. You can revoke the access by\n                  going to Preferences -> Authorized Apps.\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </b-col>\n      <b-col v-else class=\"mt-5\">\n        <div>\n          <b-container>\n            <div class=\"d-flex justify-content-center align-items-center\">\n              <img class=\"logo-icon\" :src=\"appLogo\" />\n              <h3>&#8644;</h3>\n              <svg class=\"logo-icon obico\">\n                <use href=\"#svg-logo-compact\" />\n              </svg>\n              <h3>&#8644;</h3>\n              <img class=\"logo-icon\" :src=\"require('@static/img/octoprint_logo.png')\" />\n            </div>\n            <div class=\"my-4\">\n              <div class=\"mx-auto text-center\">\n                <h4>OctoPrint Tunnel</h4>\n                <div class=\"lead\">Powered by Obico</div>\n              </div>\n            </div>\n            <div class=\"account-details\">\n              <p>\n                With the OctoPrint Tunnel by Obico, you can now use {{ appName }} to\n                <a href=\"https://www.obico.io/docs/user-guides/octoprint-tunneling/\" target=\"_blank\"\n                  >securely control and monitor your printer from anywhere</a\n                >.\n              </p>\n              <div class=\"text-muted\">Obico Free Account:</div>\n              <ul class=\"text-muted\">\n                <li>Unlimited realtime webcam at 0.1FPS.</li>\n                <li>300MB monthly tunnel data cap (excluding webcam streaming).</li>\n                <li>10 hours/mo AI failure detection.</li>\n              </ul>\n              <div class=\"text-muted\">\n                Obico Pro Account (<a href=\"https://app.obico.io/ent_pub/pricing/\" target=\"_blank\"\n                  >from $4/mo</a\n                >):\n              </div>\n              <ul class=\"text-muted\">\n                <li>Unlimited realtime webcam streaming.</li>\n                <li>Unlimited tunnel data usage.</li>\n                <li>50 hours/mo AI failure detection.</li>\n                <li>\n                  <a href=\"https://app.obico.io/ent_pub/pricing/\" target=\"_blank\"\n                    >And much more...</a\n                  >\n                </li>\n              </ul>\n            </div>\n            <div>\n              <div class=\"my-5 w-100\">\n                <a class=\"btn btn-primary btn-block\" :href=\"loginUrl\">SIGN IN </a>\n                <div class=\"text-center pt-3 w-100\">\n                  <div class=\"font-weight-light text-muted\">- OR -</div>\n                  <a class=\"btn\" :href=\"signupUrl\">SIGN UP</a>\n                </div>\n              </div>\n            </div>\n          </b-container>\n        </div>\n      </b-col>\n    </b-row>\n  </b-container>\n</template>\n\n<script>\nimport axios from 'axios'\nimport moment from 'moment'\nimport urls from '@config/server-urls'\nimport { normalizedPrinter } from '@src/lib/normalizers'\nimport { user, settings } from '@src/lib/page-context'\nimport octopodLogo from '@static/img/octopod.webp'\nimport octoappLogo from '@static/img/octoapp.webp'\nimport polymerLogo from '@static/img/polymer.webp'\nimport printoidLogo from '@static/img/printoid.webp'\nimport genericAppLogo from '@static/img/generic-app.png'\n\nexport default {\n  name: 'NewOctoPrintTunnelPage',\n\n  components: {},\n\n  data() {\n    return {\n      user: null,\n      printers: [],\n      printerId: null,\n      printerToAuthorize: null,\n      performingAuthRequest: false,\n      authorized: false,\n    }\n  },\n\n  computed: {\n    printersToShow() {\n      return this.printerId\n        ? this.printers.filter((printer) => printer.id == this.printerId)\n        : this.printers\n    },\n    loginUrl() {\n      return `/accounts/login/?hide_navbar=true&next=${encodeURIComponent(\n        window.location.pathname + window.location.search\n      )}`\n    },\n    signupUrl() {\n      return `/accounts/signup/?hide_navbar=true&next=${encodeURIComponent(\n        window.location.pathname + window.location.search\n      )}`\n    },\n    wizardUrl() {\n      return `/printers/wizard/?redirectToTunnelCreation=${encodeURIComponent(\n        window.location.pathname + window.location.search\n      )}`\n    },\n    appName() {\n      return new URLSearchParams(window.location.search).get('app') || 'Unknown App'\n    },\n    trialDaysLeft() {\n      if (this.user?.subscription?.plan_id !== 'pro-trial') {\n        return -1\n      }\n      return moment(this.user.subscription.expired_at).diff(moment(), 'days') + 1\n    },\n    appLogo() {\n      switch (this.appName.toLowerCase()) {\n        case 'octopod':\n          return octopodLogo\n        case 'printoid':\n          return printoidLogo\n        case 'polymer':\n          return polymerLogo\n        case 'octoapp':\n          return octoappLogo\n        default:\n          return genericAppLogo\n      }\n    },\n  },\n\n  created() {\n    this.user = user()\n    const { IS_ENT } = settings()\n    this.isEnt = !!IS_ENT\n    this.printerId = new URLSearchParams(window.location.search).get('printer_id')\n    if (this.user) {\n      this.fetchPrinters()\n    }\n  },\n\n  methods: {\n    fetchPrinters() {\n      return axios.get(urls.printers()).then((response) => {\n        response.data.forEach((p) => {\n          this.printers.push(normalizedPrinter(p))\n        })\n        if (this.printersToShow.length == 1) {\n          this.printerToAuthorize = this.printersToShow[0].id\n        }\n      })\n    },\n\n    authorize() {\n      if (this.printersToShow.length) {\n        this.performingAuthRequest = true\n        axios\n          .post(urls.tunnels(), {\n            app_name: this.appName,\n            target_printer_id: this.printerToAuthorize || this.printersToShow[0].id,\n          })\n          .then((response) => {\n            this.authorized = true\n            const tunnelEndpoint = response.data.tunnel_endpoint\n            const redirectUrl =\n              new URLSearchParams(window.location.search).get('success_redirect_url') ||\n              '/tunnels/succeeded/'\n            window.location.replace(`${redirectUrl}?tunnel_endpoint=${tunnelEndpoint}`)\n          })\n          .catch((error) => {\n            this.performingAuthRequest = false\n            this._showErrorPopup(error)\n          })\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\nbody\n  padding-bottom: 0\n\n.wizard-container\n  padding: 1.5rem 0.6rem 3rem\n\n.feature-check\n  color: var(--color-primary)\n\n.feature-text\n  margin-left: 0.5em\n\n.authorization-successful\n  padding-top: 6rem\n  text-align: center\n\n.logo-img\n  max-height: 4em\n  margin-bottom: 2em\n\n.logo-icon\n  max-height: 50px\n  object-fit: contain\n  border-radius: 8px\n  margin: 0px 15px\n\n  &.obico\n    max-width: 46px\n    color: var(--color-primary)\n\n.account-details\n  background: var(--color-surface-secondary)\n  border-radius: var(--border-radius-sm)\n  padding: 15px\n  margin-left: -15px\n  margin-right: -15px\n\n.footer-note\n  margin: 3rem 0 -1.5rem\n  text-align: right\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewOctoPrintTunnelPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewOctoPrintTunnelPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewOctoPrintTunnelPage.vue?vue&type=template&id=13e9a02f&scoped=true&\"\nimport script from \"./NewOctoPrintTunnelPage.vue?vue&type=script&lang=js&\"\nexport * from \"./NewOctoPrintTunnelPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NewOctoPrintTunnelPage.vue?vue&type=style&index=0&id=13e9a02f&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"13e9a02f\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(!_vm.isPro && _vm.usageFetched)?_c('div',{staticClass:\"floating-panel\"},[(_vm.showDetails)?_c('div',{on:{\"click\":function($event){_vm.showDetails = false},\"mouseover\":function($event){_vm.showDetails = true},\"mouseleave\":function($event){_vm.showDetails = false}}},[_c('div',{staticClass:\"text-muted\"},[_vm._v(\" Monthly data usage (\"),_c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/octoprint-tunneling/#is-octoprint-tunneling-free-to-all-users\",\"target\":\"_blank\"}},[_vm._v(\"Resets in \"+_vm._s(_vm.daysUntilReset)+\" days\")]),_vm._v(\") \")]),_c('div',{class:_vm.usageClass},[_vm._v(\"Used \"+_vm._s(_vm.usageMTD)+\" of \"+_vm._s(_vm.humanizedUsageCap)+\".\")]),(_vm.overage)?_c('div',[_vm._v(\" Your month-to-date tunneling usage is over the Free plan limit. \"),_c('a',{staticClass:\"btn btn-sm btn-primary\",attrs:{\"type\":\"button\",\"href\":\"/ent_pub/pricing/\"}},[_vm._v(\"Get Unlimited Tunneling\")])]):_vm._e()]):_c('div',{class:_vm.usageClass,on:{\"click\":function($event){_vm.showDetails = true},\"mouseover\":function($event){_vm.showDetails = true},\"mouseleave\":function($event){_vm.showDetails = false}}},[_vm._v(\" \"+_vm._s(_vm.percentage)+\"% \")])]):_vm._e(),_c('div',[(_vm.printerId)?_c('iframe',{staticClass:\"tunnel-iframe\",attrs:{\"src\":_vm.iframeUrl() + '#temp'}}):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-if=\"!isPro && usageFetched\" class=\"floating-panel\">\n      <div\n        v-if=\"showDetails\"\n        @click=\"showDetails = false\"\n        @mouseover=\"showDetails = true\"\n        @mouseleave=\"showDetails = false\"\n      >\n        <div class=\"text-muted\">\n          Monthly data usage (<a\n            href=\"https://www.obico.io/docs/user-guides/octoprint-tunneling/#is-octoprint-tunneling-free-to-all-users\"\n            target=\"_blank\"\n            >Resets in {{ daysUntilReset }} days</a\n          >)\n        </div>\n        <div :class=\"usageClass\">Used {{ usageMTD }} of {{ humanizedUsageCap }}.</div>\n        <div v-if=\"overage\">\n          Your month-to-date tunneling usage is over the Free plan limit.\n          <a type=\"button\" class=\"btn btn-sm btn-primary\" href=\"/ent_pub/pricing/\"\n            >Get Unlimited Tunneling</a\n          >\n        </div>\n      </div>\n      <div\n        v-else\n        :class=\"usageClass\"\n        @click=\"showDetails = true\"\n        @mouseover=\"showDetails = true\"\n        @mouseleave=\"showDetails = false\"\n      >\n        {{ percentage }}%\n      </div>\n    </div>\n    <div>\n      <iframe v-if=\"printerId\" :src=\"iframeUrl() + '#temp'\" class=\"tunnel-iframe\"></iframe>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport moment from 'moment'\nimport split from 'lodash/split'\nimport filesize from 'filesize'\nimport urls from '@config/server-urls'\nimport { user } from '@src/lib/page-context'\nimport { isLocalStorageSupported } from '@static/js/utils'\n\nexport default {\n  name: 'OctoPrintTunnelPage',\n\n  components: {},\n\n  props: {},\n  data: function () {\n    return {\n      bytesMTD: null,\n      usageCap: null,\n      usageFetched: false,\n      isPro: true,\n      printerId: null,\n      showDetails: false,\n    }\n  },\n\n  computed: {\n    usageClass() {\n      return {\n        'text-success': this.bytesMTD < this.usageCap * 0.8,\n        'text-warning': this.bytesMTD >= this.usageCap * 0.8 && this.bytesMTD < this.usageCap,\n        'text-danger': this.bytesMTD >= this.usageCap,\n      }\n    },\n    usageMTD() {\n      return filesize(this.bytesMTD)\n    },\n    humanizedUsageCap() {\n      return filesize(this.usageCap)\n    },\n    overage() {\n      return this.bytesMTD >= this.usageCap\n    },\n    percentage() {\n      return Math.round((this.bytesMTD / this.usageCap) * 100)\n    },\n    daysUntilReset() {\n      const endOfMonth = moment().endOf('month')\n      return endOfMonth.diff(moment(), 'days') + 1\n    },\n  },\n\n  created() {\n    this.isPro = user().is_pro\n    this.printerId = split(window.location.pathname, '/').slice(-2, -1).pop()\n  },\n\n  mounted() {\n    const skipWarning = isLocalStorageSupported()\n      ? localStorage.getItem('skip-tunneling-warning')\n      : null\n    if (skipWarning !== 'yes') {\n      this.$swal.Prompt.fire(\n        {\n          html: `\n          <h4 class=\"text-center p-2\">\n            <svg class=\"menu-icon\" style=\"height: 1.1em; width: 1em; margin-right: 0.75em;\">\n              <use href=\"#svg-octoprint-tunneling\" />\n            </svg>\n            OctoPrint Secure Tunnel\n          </h4>\n          <div class=\"p-1\">\n            It may take long time for OctoPrint page to load as it is securely tunneled via the Obico app server.\n          </div>\n          <div class=\"p-1\">\n            <a target=\"_blank\" href=\"https://www.obico.io/docs/user-guides/octoprint-tunneling/#is-octoprint-tunneling-free-to-all-users\">\n            Learn more about OctoPrint Tunneling's security and page load speed.\n            <i class=\"fas fa-external-link-alt\"></i>\n          </a>\n        </div>\n        `,\n          input: 'checkbox',\n          inputPlaceholder: \"Don't show again\",\n        },\n        'octoprint-tunnel.warning'\n      ).then((result) => {\n        if (result.isConfirmed) {\n          if (result.value && isLocalStorageSupported()) {\n            localStorage.setItem('skip-tunneling-warning', 'yes')\n          }\n        }\n      })\n\n      // Scale up popup on mobiles, otherwise it's too small (because of disabled meta viewport tag)\n      if (window.matchMedia('(pointer:none), (pointer:coarse)')) {\n        document.querySelector('.swal2-popup').classList.add('x150')\n      }\n    }\n\n    const self = this\n    const fetchUsage = (firstFetch = false) => {\n      axios.get(urls.tunnelUsage()).then((resp) => {\n        self.bytesMTD = resp.data.total\n        self.usageCap = resp.data.monthly_cap\n        if (firstFetch) {\n          self.usageFetched = true\n        }\n      })\n    }\n    setInterval(fetchUsage, 15 * 1000)\n    setTimeout(() => {\n      fetchUsage(true)\n    }, 4000)\n  },\n\n  methods: {\n    iframeUrl() {\n      return `/octoprint/${this.printerId}/`\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.tunnel-iframe\n    width: 100%\n    height: 100vh\n    background: var(--color-background)\n    position: absolute\n    top: 0\n    left: 0\n\n.floating-panel\n  position: fixed\n  bottom: 0px\n  right: 0px\n  box-shadow: 2px 2px 10px rgba(0,0,0,.3)\n  background-color: var(--color-surface-primary)\n  padding: 10px\n  max-width: 300px\n  z-index: 10\n  display: flex\n  align-items: center\n</style>\n\n<style lang=\"sass\">\n@media (pointer:none), (pointer:coarse)\n  .swal2-popup.x150\n    transform: scale(1.5)\n  .floating-panel\n    transform: scale(2)\n    transform-origin: right bottom\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OctoPrintTunnelPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OctoPrintTunnelPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OctoPrintTunnelPage.vue?vue&type=template&id=6f68f84f&scoped=true&\"\nimport script from \"./OctoPrintTunnelPage.vue?vue&type=script&lang=js&\"\nexport * from \"./OctoPrintTunnelPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OctoPrintTunnelPage.vue?vue&type=style&index=0&id=6f68f84f&prod&lang=sass&scoped=true&\"\nimport style1 from \"./OctoPrintTunnelPage.vue?vue&type=style&index=1&id=6f68f84f&prod&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6f68f84f\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('page-layout',{scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('b-container',[_c('b-row',{staticClass:\"justify-content-center\"},[_c('b-col',{attrs:{\"lg\":\"8\"}},[_c('div',{staticClass:\"card\"},[_c('h5',{staticClass:\"card-header text-center\"},[_vm._v(\" F \"),_c('i',{staticClass:\"fas fa-search focused-feedback-icon\"}),_vm._v(\"CUSED FEEDBACK \")]),_c('loading',{attrs:{\"active\":_vm.print === null,\"is-full-page\":true}}),(_vm.print !== null)?_c('div',[(!_vm.print.access_consented_at)?_c('focused-feedback-consent',{attrs:{\"print\":_vm.print},on:{\"continue-btn-pressed\":_vm.consentBtnPressed}}):_c('div',[_c('div',[_c('vue-slick-carousel',{ref:\"carousel\",attrs:{\"arrows\":true,\"dots\":true},on:{\"afterChange\":_vm.onNextShot},scopedSlots:_vm._u([{key:\"customPaging\",fn:function(page){return [_c('div',{class:_vm.pageClass(page)},[_vm._v(\"•\")])]}}],null,false,3226812120)},_vm._l((_vm.shots),function(shot,i){return _c('print-shot-card',{key:i,attrs:{\"shot\":shot},on:{\"shotChanged\":_vm.onShotChanged}})}),1)],1)])],1):_vm._e()],1)])],1)],1)]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('img',{staticClass:\"card-img-top\",attrs:{\"src\":_vm.shot.image_url}}),_c('div',{staticClass:\"px-3 pt-4\"},[_c('b-form-group',{attrs:{\"label\":\"Do you see any spaghetti in this picture?\"}},[_c('b-form-radio-group',{attrs:{\"options\":_vm.options},on:{\"change\":_vm.updateShot},model:{value:(_vm.answer),callback:function ($$v) {_vm.answer=$$v},expression:\"answer\"}})],1),_vm._m(0)],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('small',{staticClass:\"text-muted\"},[_vm._v(\" Not sure? Look at \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://www.obico.io/docs/user-guides/how-does-credits-work#spaghetti-examples\"}},[_vm._v(\"some examples. \"),_c('small',[_c('i',{staticClass:\"fas fa-external-link-alt\"})])])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <img class=\"card-img-top\" :src=\"shot.image_url\" />\n    <div class=\"px-3 pt-4\">\n      <b-form-group label=\"Do you see any spaghetti in this picture?\">\n        <b-form-radio-group\n          v-model=\"answer\"\n          :options=\"options\"\n          @change=\"updateShot\"\n        ></b-form-radio-group>\n      </b-form-group>\n      <small class=\"text-muted\">\n        Not sure? Look at\n        <a\n          target=\"_blank\"\n          href=\"https://www.obico.io/docs/user-guides/how-does-credits-work#spaghetti-examples\"\n          >some examples. <small><i class=\"fas fa-external-link-alt\"></i></small\n        ></a>\n      </small>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nimport urls from '@config/server-urls'\nimport { BFormGroup, BFormRadioGroup } from 'bootstrap-vue'\n\nexport default {\n  name: 'PrintShotCard',\n\n  components: {\n    BFormGroup,\n    BFormRadioGroup,\n  },\n\n  props: {\n    shot: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      answer: this.shot.answer,\n      options: [\n        { text: 'Yes', value: 'LOOKS_BAD' },\n        { text: 'No', value: 'LOOKS_OK' },\n        { text: 'I am not sure', value: 'UNDECIDED' },\n      ],\n    }\n  },\n\n  methods: {\n    updateShot: function (answer) {\n      axios\n        .put(urls.printShotFeedback(this.shot.id, this.shot.print_id), {\n          answer: answer,\n        })\n\n        .then((response) => {\n          const { instance, credited_dhs } = response.data\n\n          if (credited_dhs > 0) {\n            this.$swal.Prompt.fire({\n              title: 'You are awesome!',\n              html: '<p>The AI failure detection just got a little better because of your feedback!</p><p>You just earned 2 non-expirable AI Detection Hours - Yay!</p>',\n              confirmButtonText: \"I'm done!\",\n              showCancelButton: true,\n              cancelButtonText: 'Change feedback',\n            }).then((result) => {\n              if (result.isConfirmed) {\n                window.location.href = '/print_history/'\n              } else {\n                this.$emit('shotChanged', instance)\n              }\n            })\n          } else {\n            this.$emit('shotChanged', instance)\n          }\n        })\n    },\n  },\n}\n</script>\n\n<style></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintShotCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintShotCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrintShotCard.vue?vue&type=template&id=460fb6d3&\"\nimport script from \"./PrintShotCard.vue?vue&type=script&lang=js&\"\nexport * from \"./PrintShotCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"page-wrapper\",class:{ collapsed: _vm.collapsed, 'is-in-mobile': _vm.inMobileWebView, 'is-in-popup': _vm.isPopup }},[_c('nav',{staticClass:\"side-nav\"},[_c('a',{staticClass:\"sidebar-header\",attrs:{\"href\":\"/\"}},[_c('svg',{staticClass:\"logo-small\"},[_c('use',{attrs:{\"href\":\"#svg-logo-compact\"}})])]),_c('ul',{staticClass:\"list-unstyled m-0\"},[(_vm.isEnt && !_vm.user.is_pro)?_c('li',{class:{ active: _vm.path === '/ent_pub/pricing/' }},[_vm._m(0)]):_vm._e(),(_vm.user)?_c('li',{class:{ active: _vm.path === '/printers/' }},[_c('a',{attrs:{\"href\":\"/printers/\"}},[_c('svg',{staticStyle:{\"margin-bottom\":\"5px\"},attrs:{\"width\":\"1.4em\",\"height\":\"1.4em\"}},[_c('use',{attrs:{\"href\":\"#svg-3d-printer\"}})]),_c('br'),_vm._v(\" Printers \")])]):_vm._e(),(_vm.user)?_c('li',{class:{ active: _vm.path.includes('/print_history/') || _vm.path.includes('/prints/') }},[_vm._m(1)]):_vm._e(),(_vm.user)?_c('li',{class:{ active: _vm.path.includes('/g_code_') }},[_vm._m(2)]):_vm._e()]),_c('div',{staticClass:\"side-nav-footer\"},[_c('ul',{staticClass:\"list-unstyled m-0\"},[(_vm.isEnt)?_c('li',{class:{ active: _vm.path === '/ent_pub/pricing/' }},[_vm._m(3)]):_vm._e(),_vm._m(4),_vm._m(5),_vm._m(6),(_vm.user)?_c('li',{class:{ active: _vm.path === '/printer_events/' }},[_c('a',{attrs:{\"href\":\"/printer_events/\"}},[_c('i',{staticClass:\"fas fa-bell position-relative\"},[(_vm.hasUnseenPrinterEvents)?_c('span',{staticClass:\"badge\"},[_vm._v(_vm._s(_vm.unseenPrinterEventsDisplay))]):_vm._e()]),_c('span',{staticClass:\"trim-text\"},[_vm._v(\"Notifications\")])])]):_vm._e(),(_vm.user)?_c('li',{class:{ active: _vm.path === '/user_preferences/' }},[_vm._m(7)]):_vm._e()])])]),_c('div',{staticClass:\"content-wrapper\",class:{\n      'hide-top-nav': !_vm.$slots.topBarLeft && !_vm.$slots.topBarRight,\n    }},[_c('b-navbar',{staticClass:\"top-nav\"},[_c('div',{staticClass:\"d-flex align-items-center\"},[_c('b-button',{staticClass:\"shadow-none p-0 mr-3 position-relative toggle-sidebar\",attrs:{\"variant\":\"_\"},on:{\"click\":function($event){_vm.collapsed = !_vm.collapsed}}},[_c('i',{staticClass:\"fas fa-bars position-relative\"},[(_vm.hasUnseenPrinterEvents)?_c('div',{staticClass:\"notification-dot\"},[_c('svg',{attrs:{\"width\":\"8px\",\"height\":\"8px\"}},[_c('use',{attrs:{\"href\":\"#svg-circle-icon\"}})])]):_vm._e()])]),_vm._t(\"topBarLeft\")],2),_vm._t(\"topBarRight\")],2),_c('div',{staticClass:\"page-content\"},[(_vm.layoutSections.contentTop)?_c('content-top'):_vm._e(),_vm._t(\"content\")],2)],1),_c('div',{staticClass:\"content-overlay\",on:{\"click\":function($event){_vm.collapsed = true}}})])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('a',{staticClass:\"primary\",attrs:{\"href\":\"/ent_pub/pricing/\"}},[_c('i',{staticClass:\"fas fa-star\"}),_vm._v(\" Upgrade to Pro \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('a',{attrs:{\"href\":\"/print_history/\"}},[_c('i',{staticClass:\"fas fa-history\"}),_vm._v(\" Print History \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('a',{attrs:{\"href\":\"/g_code_folders/cloud/\"}},[_c('i',{staticClass:\"fas fa-file-code\"}),_vm._v(\" G-Codes \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('a',{attrs:{\"href\":\"/ent_pub/pricing/\"}},[_c('i',{staticClass:\"fas fa-dollar-sign\"}),_vm._v(\" Pricing \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('li',[_c('a',{attrs:{\"href\":\"https://www.obico.io/help/\",\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-question\"}),_vm._v(\" Help \")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('li',[_c('a',{attrs:{\"href\":\"https://obico.io/discord\",\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-comments\"}),_vm._v(\" Community \")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('li',[_c('hr',{staticClass:\"my-0 mx-2\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('a',{attrs:{\"href\":\"/user_preferences/\"}},[_c('i',{staticClass:\"fas fa-cog\"}),_c('span',{staticClass:\"trim-text\"},[_vm._v(\"Preferences\")])])\n}]\n\nexport { render, staticRenderFns }","export default {}\n","<template>\n  <div\n    class=\"page-wrapper\"\n    :class=\"{ collapsed: collapsed, 'is-in-mobile': inMobileWebView, 'is-in-popup': isPopup }\"\n  >\n    <!-- Sidebar -->\n    <nav class=\"side-nav\">\n      <a href=\"/\" class=\"sidebar-header\">\n        <svg class=\"logo-small\">\n          <use href=\"#svg-logo-compact\" />\n        </svg>\n      </a>\n      <ul class=\"list-unstyled m-0\">\n        <li v-if=\"isEnt && !user.is_pro\" :class=\"{ active: path === '/ent_pub/pricing/' }\">\n          <a href=\"/ent_pub/pricing/\" class=\"primary\">\n            <i class=\"fas fa-star\"></i>\n            Upgrade to Pro\n          </a>\n        </li>\n        <li v-if=\"user\" :class=\"{ active: path === '/printers/' }\">\n          <a href=\"/printers/\">\n            <svg width=\"1.4em\" height=\"1.4em\" style=\"margin-bottom: 5px\">\n              <use href=\"#svg-3d-printer\" />\n            </svg>\n            <br />\n            Printers\n          </a>\n        </li>\n        <li\n          v-if=\"user\"\n          :class=\"{ active: path.includes('/print_history/') || path.includes('/prints/') }\"\n        >\n          <a href=\"/print_history/\">\n            <i class=\"fas fa-history\"></i>\n            Print History\n          </a>\n        </li>\n        <li v-if=\"user\" :class=\"{ active: path.includes('/g_code_') }\">\n          <a href=\"/g_code_folders/cloud/\">\n            <i class=\"fas fa-file-code\"></i>\n            G-Codes\n          </a>\n        </li>\n      </ul>\n      <div class=\"side-nav-footer\">\n        <ul class=\"list-unstyled m-0\">\n          <li v-if=\"isEnt\" :class=\"{ active: path === '/ent_pub/pricing/' }\">\n            <a href=\"/ent_pub/pricing/\">\n              <i class=\"fas fa-dollar-sign\"></i>\n              Pricing\n            </a>\n          </li>\n          <li>\n            <a href=\"https://www.obico.io/help/\" target=\"_blank\">\n              <i class=\"fas fa-question\"></i>\n              Help\n            </a>\n          </li>\n          <li>\n            <a href=\"https://obico.io/discord\" target=\"_blank\">\n              <i class=\"fas fa-comments\"></i>\n              Community\n            </a>\n          </li>\n          <li>\n            <hr class=\"my-0 mx-2\" />\n          </li>\n          <li v-if=\"user\" :class=\"{ active: path === '/printer_events/' }\">\n            <a href=\"/printer_events/\">\n              <i class=\"fas fa-bell position-relative\">\n                <span v-if=\"hasUnseenPrinterEvents\" class=\"badge\">{{\n                  unseenPrinterEventsDisplay\n                }}</span>\n              </i>\n              <span class=\"trim-text\">Notifications</span>\n            </a>\n          </li>\n          <li v-if=\"user\" :class=\"{ active: path === '/user_preferences/' }\">\n            <a href=\"/user_preferences/\">\n              <i class=\"fas fa-cog\"></i>\n              <span class=\"trim-text\">Preferences</span>\n            </a>\n          </li>\n        </ul>\n      </div>\n    </nav>\n    <!-- Main view (with top-bar) -->\n    <div\n      class=\"content-wrapper\"\n      :class=\"{\n        'hide-top-nav': !$slots.topBarLeft && !$slots.topBarRight,\n      }\"\n    >\n      <!-- Top-bar -->\n      <b-navbar class=\"top-nav\">\n        <div class=\"d-flex align-items-center\">\n          <b-button\n            variant=\"_\"\n            class=\"shadow-none p-0 mr-3 position-relative toggle-sidebar\"\n            @click=\"collapsed = !collapsed\"\n          >\n            <i class=\"fas fa-bars position-relative\">\n              <div v-if=\"hasUnseenPrinterEvents\" class=\"notification-dot\">\n                <svg width=\"8px\" height=\"8px\">\n                  <use href=\"#svg-circle-icon\" />\n                </svg>\n              </div>\n            </i>\n          </b-button>\n          <slot name=\"topBarLeft\"></slot>\n        </div>\n        <slot name=\"topBarRight\"></slot>\n      </b-navbar>\n      <!-- Page content -->\n      <div class=\"page-content\">\n        <content-top v-if=\"layoutSections.contentTop\"></content-top>\n        <slot name=\"content\"></slot>\n      </div>\n    </div>\n    <div class=\"content-overlay\" @click=\"collapsed = true\"></div>\n  </div>\n</template>\n\n<script>\nimport get from 'lodash/get'\nimport { inMobileWebView, user, settings } from '@src/lib/page-context'\nimport layoutSections from '@config/layout/sections'\n\nexport default {\n  name: 'PageLayout',\n\n  components: {\n    ...Object.keys(layoutSections).reduce((obj, name) => {\n      return Object.assign(obj, { [name]: layoutSections[name].importComponent })\n    }, {}),\n  },\n\n  props: {\n    isPopup: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  data() {\n    return {\n      layoutSections,\n      collapsed: true,\n      path: window.location.pathname,\n      user: null,\n      allowSignUp: false,\n      isEnt: false,\n    }\n  },\n\n  computed: {\n    inMobileWebView() {\n      return inMobileWebView()\n    },\n    hasUnseenPrinterEvents() {\n      return get(this.user, 'unseen_printer_events', 0) > 0\n    },\n    unseenPrinterEventsDisplay() {\n      const num = get(this.user, 'unseen_printer_events', 0)\n      return num > 99 ? '99+' : num\n    },\n  },\n\n  created() {\n    const { ACCOUNT_ALLOW_SIGN_UP, IS_ENT } = settings()\n    this.allowSignUp = !!ACCOUNT_ALLOW_SIGN_UP\n    this.isEnt = !!IS_ENT\n    this.user = user()\n  },\n\n  mounted() {\n    // Temporary solution to correctly show alerts inserted by `snippets/messages.html` from Django\n    const staticAlert = document.querySelector('.message-snippet')\n    if (staticAlert && this.inMobileWebView) {\n      staticAlert.classList.add('is-in-mobile')\n    }\n    if (this.inMobileWebView) {\n      document.querySelector('body').style.paddingBottom = 0\n    }\n  },\n}\n</script>\n\n<style lang=\"sass\">\n.message-snippet\n  margin-top: 50px\n  margin-left: 100px\n  @media (max-width: 768px)\n    margin-left: 0\n  &.is-in-mobile\n    margin-left: 0\n</style>\n\n<style lang=\"sass\" scoped>\n.page-wrapper\n  display: flex\n  padding-left: 100px\n  background-color: var(--color-background)\n  &.is-in-mobile\n    padding-left: 0\n    .side-nav\n      display: none\n    .toggle-sidebar\n      display: none\n\n    .content-wrapper.hide-top-nav\n      .top-nav\n        display: none\n      .page-content\n        padding: 15px 0\n\n  &.is-in-popup\n    padding-left: 0\n    .side-nav\n      display: none\n    .toggle-sidebar\n      display: none\n\n    .top-nav\n      position: relative\n      padding: 0 15px\n    .page-content\n      padding: 15px 0\n      min-height: unset\n\n.side-nav\n  min-width: 100px\n  max-width: 100px\n  text-align: center\n  background: var(--color-surface-primary)\n  position: fixed\n  left: 0\n  top: 0\n  height: 100%\n  display: flex\n  flex-direction: column\n  z-index: 1000\n  overflow-y: auto\n  transition: all .2s ease-out\n  border-right: 1px solid var(--color-divider)\n  .sidebar-header\n    flex: 0 0 50px\n    display: flex\n    align-items: center\n    justify-content: center\n    border-bottom: 1px solid var(--color-divider)\n  ul\n    li\n      a\n        display: block\n        color: var(--color-text-primary)\n        padding: 10px 5px\n        margin: 4px\n        border-radius: var(--border-radius-sm)\n        text-align: center\n        font-size: 0.85em\n        &:hover, &[aria-expanded=\"true\"]\n          color: var(--color-text-primary)\n        &:hover\n          background: var(--color-hover)\n        &.primary\n          color: var(--color-primary)\n        &.dropdown-toggle\n          cursor: pointer\n          padding-bottom: 20px\n        i\n          margin-right: 0\n          display: block\n          font-size: 1.4em\n          margin-bottom: 5px\n        .badge\n          border-radius: 2em\n          position: absolute\n          top: -0.35em\n          right: 2em\n          padding: 0.25em 0.3em\n          font-family: var(--default-font-family)\n          font-size: 60%\n          font-weight: bold\n          color: var(--color-on-danger)\n          background-color: var(--color-danger)\n          min-width: 1.6em\n      &.active > a\n        background: var(--color-hover)\n      &.glowing\n        text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #fff, 0 0 40px var(--color-primary), 0 0 70px var(--color-primary), 0 0 80px var(--color-primary), 0 0 100px var(--color-primary), 0 0 150px var(--color-primary)\n    ul a\n      font-size: 0.9em !important\n      padding: 10px !important\n    .dropdown-toggle::after\n      top: auto\n      bottom: 10px\n      right: 50%\n      -webkit-transform: translateX(50%)\n      -ms-transform: translateX(50%)\n      transform: translateX(50%)\n  ul.components\n    padding: 20px 0\n  ::v-deep .logo-small\n    width: 30px\n    height: 30px\n    color: var(--color-text-primary)\n  .dropdown-toggle\n    position: relative\n    &::after\n      display: block\n      position: absolute\n      top: 50%\n      right: 20px\n      transform: translateY(-50%)\n  .side-nav-footer\n    margin-top: auto\n  .trim-text\n    white-space: nowrap\n    text-overflow: ellipsis\n    display: inline-block\n    overflow: hidden\n    width: 100%\n.content-wrapper\n  width: 100%\n.top-nav\n  height: 50px\n  background: var(--color-surface-primary) !important\n  position: fixed\n  top: 0\n  left: 0\n  width: 100%\n  padding-left: calc(100px + 15px)\n  padding-right: 32px\n  z-index: 100\n  box-shadow: var(--shadow-top-nav)\n  justify-content: space-between\n\n.is-in-mobile .top-nav\n  padding-left: 15px\n  padding-right: 15px\n  background: var(--color-surface-primary) !important\n\n.toggle-sidebar\n  color: var(--color-text-primary)\n  display: none\n\n.page-content\n  padding: calc(50px + var(--gap-between-blocks)) calc(var(--gap-between-blocks) - 15px) var(--gap-between-blocks)\n  display: flex\n  flex-direction: column\n  min-height: calc(100vh - 68px)\n\n.content-overlay\n  position: fixed\n  top: 0\n  left: 0\n  width: 100%\n  height: 100%\n  z-index: 100\n  background: rgb(0,0,0,.5)\n  display: none\n\n::v-deep .search-input input\n  background-color: var(--color-surface-secondary)\n  border-color: var(--color-surface-secondary)\n\n.notification-dot\n  height: 50%\n  top: -9px\n  right: -3px\n  position: absolute\n  width: 50%\n  color: var(--color-danger)\n\n@media (min-width: 769px)\n  .content-wrapper\n    &.hide-top-nav\n      .top-nav\n        display: none\n      .page-content\n        padding-top: 30px\n        min-height: calc(100vh - 68px)\n\n@media (max-width: 768px)\n  .page-wrapper\n    padding-left: 0\n    &:not(.collapsed) .content-overlay\n      display: block\n    &.collapsed\n      .side-nav\n        transform: translateX(-100px)\n\n  .top-nav\n    padding-left: 15px\n    padding-right: 15px\n    background: var(--color-surface-primary) !important\n\n  .toggle-sidebar\n    display: block\n\n  .page-content\n    padding: 15px 0\n    padding-top: calc(50px + 15px)\n    justify-content: start\n\n::v-deep .dropdown-menu\n  .dropdown-item\n    padding: 0.25rem 0.75rem\n    .clickable-area\n      margin: -0.25rem -0.75rem\n      padding: 0.25rem 0.75rem\n    i\n      width: 20px\n      margin-right: .5rem\n\n::v-deep .active-filter-notice\n  display: flex\n  align-items: center\n  justify-content: space-between\n  padding: 0.5rem 1rem\n  background-color: var(--color-surface-secondary)\n  margin: calc(-1 * var(--gap-between-blocks)) -15px var(--gap-between-blocks)\n  .filter\n    color: var(--color-primary)\n  .action-btn\n    color: var(--color-text-primary)\n\n  @media (max-width: 768px)\n    font-size: .875rem\n    margin-left: 0\n    margin-right: 0\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageLayout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageLayout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PageLayout.vue?vue&type=template&id=64388595&scoped=true&\"\nimport script from \"./PageLayout.vue?vue&type=script&lang=js&\"\nexport * from \"./PageLayout.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PageLayout.vue?vue&type=style&index=0&id=64388595&prod&lang=sass&\"\nimport style1 from \"./PageLayout.vue?vue&type=style&index=1&id=64388595&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64388595\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card-body consent-section\"},[_c('div',[_vm._v(\" Number of snapshots: \"),_c('span',{staticClass:\"feedback-estimate\"},[_vm._v(_vm._s(_vm.print.printshotfeedback_set.length))])]),_c('p',[_vm._v(\" Estimated time to finish: \"),_c('span',{staticClass:\"feedback-estimate\"},[_vm._v(_vm._s(_vm.estimatedFeedbackTime))])]),_vm._m(0),_c('br'),_c('button',{staticClass:\"btn btn-primary btn-block\",attrs:{\"disabled\":!_vm.consentChecked,\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('continue-btn-pressed')}}},[_vm._v(\" Start Focused Feedback \")]),_c('br'),_c('div',{staticClass:\"custom-control custom-checkbox form-check-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.consentChecked),expression:\"consentChecked\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"consented-checkbox\",\"type\":\"checkbox\",\"name\":\"consented\"},domProps:{\"checked\":Array.isArray(_vm.consentChecked)?_vm._i(_vm.consentChecked,null)>-1:(_vm.consentChecked)},on:{\"change\":function($event){var $$a=_vm.consentChecked,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.consentChecked=$$a.concat([$$v]))}else{$$i>-1&&(_vm.consentChecked=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.consentChecked=$$c}}}}),_vm._m(1)]),_c('br'),_c('div',[_c('span',{staticClass:\"text-muted\"},[_vm._v(\"File:\")]),_vm._v(\" \"+_vm._s(_vm.print.filename)+\" \")]),_c('div',[_c('span',{staticClass:\"text-muted\"},[_vm._v(\"Printed:\")]),_vm._v(\" \"+_vm._s(_vm.print.started_at.fromNow())+\" \")]),_c('br'),(_vm.print.video_url)?_c('video-box',{attrs:{\"video-url\":_vm.print.video_url,\"poster-url\":_vm.print.poster_url,\"full-screen-btn\":false}}):_c('div',[_c('detective-working')],1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('p',{staticClass:\"font-weight-light\"},[_vm._v(\" Help Obi get better at detecting failures by giving her in-depth feedback on the snapshots of the print. You will earn \"),_c('strong',{staticClass:\"text-light\"},[_vm._v(\"2 non-expirable AI Detection Hours\")]),_vm._v(\" after you finish this Focused Feedback. \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://www.obico.io/docs/user-guides/how-does-credits-work/\"}},[_vm._v(\"Learn more. \"),_c('small',[_c('i',{staticClass:\"fas fa-external-link-alt\"})])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('label',{staticClass:\"custom-control-label\",staticStyle:{\"font-size\":\"16px\"},attrs:{\"for\":\"consented-checkbox\"}},[_vm._v(\" I grant the Obico app team members the permission to review the time-lapse video of the print shown on this page. \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://www.obico.io/docs/user-guides/how-does-credits-work#you-need-to-grant-permission-to-tsd-team-to-review-your-time-lapse\"}},[_vm._v(\"Why is this necessary? \"),_c('small',[_c('i',{staticClass:\"fas fa-external-link-alt\"})])])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card-img-top\"},[_c('video-player',{ref:\"videoPlayer\",staticClass:\"vjs-default-skin vjs-big-play-centered\",attrs:{\"options\":_vm.playerOptions,\"playsinline\":true},on:{\"timeupdate\":_vm.onTimeUpdate}}),_c('div',{staticClass:\"buttons-container\"},[(_vm.downloadBtn)?_c('a',{staticClass:\"action-btn\",attrs:{\"role\":\"button\",\"title\":\"Download\"},on:{\"click\":function($event){return _vm.$emit('download')}}},[_c('i',{staticClass:\"fas fa-download\",attrs:{\"aria-hidden\":\"true\"}})]):_vm._e(),(_vm.fullscreenBtn)?_c('a',{staticClass:\"action-btn\",attrs:{\"role\":\"button\",\"title\":\"Full screen\"},on:{\"click\":function($event){return _vm.$emit('fullscreen')}}},[_c('i',{staticClass:\"fa fa-expand\",attrs:{\"aria-hidden\":\"true\"}})]):_vm._e(),(_vm.exitFullscreenBtn)?_c('a',{staticClass:\"action-btn\",attrs:{\"role\":\"button\",\"title\":\"Exit full screen\"},on:{\"click\":function($event){return _vm.$emit('exitFullscreen')}}},[_c('i',{staticClass:\"fa fa-times\",attrs:{\"aria-hidden\":\"true\"}})]):_vm._e()])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card-img-top\">\n    <video-player\n      ref=\"videoPlayer\"\n      class=\"vjs-default-skin vjs-big-play-centered\"\n      :options=\"playerOptions\"\n      :playsinline=\"true\"\n      @timeupdate=\"onTimeUpdate\"\n    />\n    <div class=\"buttons-container\">\n      <a\n        v-if=\"downloadBtn\"\n        class=\"action-btn\"\n        role=\"button\"\n        title=\"Download\"\n        @click=\"$emit('download')\"\n      >\n        <i class=\"fas fa-download\" aria-hidden=\"true\"></i>\n      </a>\n      <a\n        v-if=\"fullscreenBtn\"\n        class=\"action-btn\"\n        role=\"button\"\n        title=\"Full screen\"\n        @click=\"$emit('fullscreen')\"\n      >\n        <i class=\"fa fa-expand\" aria-hidden=\"true\"></i>\n      </a>\n      <a\n        v-if=\"exitFullscreenBtn\"\n        class=\"action-btn\"\n        role=\"button\"\n        title=\"Exit full screen\"\n        @click=\"$emit('exitFullscreen')\"\n      >\n        <i class=\"fa fa-times\" aria-hidden=\"true\"></i>\n      </a>\n    </div>\n  </div>\n</template>\n\n<script>\nimport 'video.js/dist/video-js.css'\nimport { videoPlayer } from 'vue-video-player'\n\nexport default {\n  name: 'VideoBox',\n  components: {\n    videoPlayer,\n  },\n  props: {\n    videoUrl: {\n      type: String,\n      required: true,\n    },\n    posterUrl: {\n      type: String,\n      default: null,\n    },\n    fullscreenBtn: {\n      type: Boolean,\n      default: true,\n    },\n    exitFullscreenBtn: {\n      type: Boolean,\n      default: false,\n    },\n    downloadBtn: {\n      type: Boolean,\n      default: false,\n    },\n    fluid: {\n      type: Boolean,\n      default: true,\n    },\n    autoplay: {\n      type: Boolean,\n      default: false,\n    },\n    defaultFullScreenToggle: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  computed: {\n    playerOptions() {\n      return {\n        // videojs options\n        muted: true,\n        preload: 'none',\n        language: 'en',\n        playbackRates: [0.5, 1, 1.5, 2],\n        fluid: this.fluid,\n        fill: !this.fluid,\n        autoplay: this.autoplay,\n        sources: [\n          {\n            type: 'video/mp4',\n            src: this.videoUrl,\n          },\n        ],\n        controlBar: { fullscreenToggle: this.defaultFullScreenToggle },\n        poster: this.posterUrl,\n      }\n    },\n  },\n  methods: {\n    onTimeUpdate(event) {\n      this.$emit('timeupdate', event.currentTime() / event.duration())\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.card-img-top\n  position: relative\n  background-color: black\n\n  .buttons-container\n    position: absolute\n    top: 0\n    right: 0\n    padding: 0.5rem\n    background-color: rgba(0,0,0,0.7)\n\n  a.action-btn\n    padding: 0.5rem\n    color: rgba(255,255,255,0.5)\n    font-size: 1.5rem\n    transition: all .3s ease-out\n    &:hover\n      color: rgba(255,255,255,0.9)\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VideoBox.vue?vue&type=template&id=10df198e&scoped=true&\"\nimport script from \"./VideoBox.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VideoBox.vue?vue&type=style&index=0&id=10df198e&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10df198e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card bg-dark text-white\"},[_c('img',{staticClass:\"card-img\",attrs:{\"src\":require('@static/img/detective-working.gif'),\"alt\":\"Obi is still working\"}}),_vm._m(0)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card-img-overlay\",staticStyle:{\"background-color\":\"rgba(0, 0, 0, 0.6)\"}},[_c('h5',{staticClass:\"card-title text-center\"},[_vm._v(\"Obi is still busy working on your time-lapse\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card bg-dark text-white\">\n    <img\n      class=\"card-img\"\n      :src=\"require('@static/img/detective-working.gif')\"\n      alt=\"Obi is still working\"\n    />\n    <div class=\"card-img-overlay\" style=\"background-color: rgba(0, 0, 0, 0.6)\">\n      <h5 class=\"card-title text-center\">Obi is still busy working on your time-lapse</h5>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'DetectiveWorking',\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.card-img-overlay\n  display: flex\n  align-items: center\n  justify-content: center\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetectiveWorking.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetectiveWorking.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetectiveWorking.vue?vue&type=template&id=f48a916e&scoped=true&\"\nimport script from \"./DetectiveWorking.vue?vue&type=script&lang=js&\"\nexport * from \"./DetectiveWorking.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DetectiveWorking.vue?vue&type=style&index=0&id=f48a916e&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f48a916e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"card-body consent-section\">\n    <div>\n      Number of snapshots:\n      <span class=\"feedback-estimate\">{{ print.printshotfeedback_set.length }}</span>\n    </div>\n    <p>\n      Estimated time to finish:\n      <span class=\"feedback-estimate\">{{ estimatedFeedbackTime }}</span>\n    </p>\n    <p class=\"font-weight-light\">\n      Help Obi get better at detecting failures by giving her in-depth feedback on the snapshots of\n      the print. You will earn\n      <strong class=\"text-light\">2 non-expirable AI Detection Hours</strong> after you finish this\n      Focused Feedback.\n      <a target=\"_blank\" href=\"https://www.obico.io/docs/user-guides/how-does-credits-work/\"\n        >Learn more. <small><i class=\"fas fa-external-link-alt\"></i></small\n      ></a>\n    </p>\n    <br />\n    <button\n      :disabled=\"!consentChecked\"\n      class=\"btn btn-primary btn-block\"\n      type=\"button\"\n      @click=\"$emit('continue-btn-pressed')\"\n    >\n      Start Focused Feedback\n    </button>\n    <br />\n    <div class=\"custom-control custom-checkbox form-check-inline\">\n      <input\n        id=\"consented-checkbox\"\n        v-model=\"consentChecked\"\n        type=\"checkbox\"\n        name=\"consented\"\n        class=\"custom-control-input\"\n      />\n      <label class=\"custom-control-label\" style=\"font-size: 16px\" for=\"consented-checkbox\">\n        I grant the Obico app team members the permission to review the time-lapse video of the\n        print shown on this page.\n        <a\n          target=\"_blank\"\n          href=\"https://www.obico.io/docs/user-guides/how-does-credits-work#you-need-to-grant-permission-to-tsd-team-to-review-your-time-lapse\"\n          >Why is this necessary? <small><i class=\"fas fa-external-link-alt\"></i></small\n        ></a>\n      </label>\n    </div>\n    <br />\n    <div>\n      <span class=\"text-muted\">File:</span>\n      {{ print.filename }}\n    </div>\n    <div>\n      <span class=\"text-muted\">Printed:</span>\n      {{ print.started_at.fromNow() }}\n    </div>\n    <br />\n    <video-box\n      v-if=\"print.video_url\"\n      :video-url=\"print.video_url\"\n      :poster-url=\"print.poster_url\"\n      :full-screen-btn=\"false\"\n    />\n    <div v-else>\n      <detective-working />\n    </div>\n  </div>\n</template>\n\n<script>\nimport moment from 'moment'\n\nimport VideoBox from '@src/components/VideoBox'\nimport DetectiveWorking from '@src/components/DetectiveWorking'\n\nexport default {\n  name: 'FocusedFeedbackConsent',\n\n  components: { VideoBox, DetectiveWorking },\n\n  props: {\n    print: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      consentChecked: false,\n    }\n  },\n\n  computed: {\n    estimatedFeedbackTime() {\n      const seconds = this.print.printshotfeedback_set.length * 12\n      if (seconds < 60) {\n        return `${seconds} seconds`\n      } else {\n        return moment.duration(seconds, 'seconds').humanize()\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.consent-section\n  background: var(--color-surface-secondary)\n\n.feedback-estimate\n  font-size: 1.2em\n  font-weight: bolder\n  color: var(--color-primary)\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FocusedFeedbackConsent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FocusedFeedbackConsent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FocusedFeedbackConsent.vue?vue&type=template&id=1bb94a58&scoped=true&\"\nimport script from \"./FocusedFeedbackConsent.vue?vue&type=script&lang=js&\"\nexport * from \"./FocusedFeedbackConsent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FocusedFeedbackConsent.vue?vue&type=style&index=0&id=1bb94a58&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1bb94a58\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <page-layout>\n    <template #content>\n      <b-container>\n        <b-row class=\"justify-content-center\">\n          <b-col lg=\"8\">\n            <div class=\"card\">\n              <h5 class=\"card-header text-center\">\n                F\n                <i class=\"fas fa-search focused-feedback-icon\"></i>CUSED FEEDBACK\n              </h5>\n              <loading :active=\"print === null\" :is-full-page=\"true\"></loading>\n              <div v-if=\"print !== null\">\n                <focused-feedback-consent\n                  v-if=\"!print.access_consented_at\"\n                  :print=\"print\"\n                  @continue-btn-pressed=\"consentBtnPressed\"\n                />\n                <div v-else>\n                  <div>\n                    <vue-slick-carousel\n                      ref=\"carousel\"\n                      :arrows=\"true\"\n                      :dots=\"true\"\n                      @afterChange=\"onNextShot\"\n                    >\n                      <print-shot-card\n                        v-for=\"(shot, i) in shots\"\n                        :key=\"i\"\n                        :shot=\"shot\"\n                        @shotChanged=\"onShotChanged\"\n                      ></print-shot-card>\n                      <template #customPaging=\"page\">\n                        <div :class=\"pageClass(page)\">&bull;</div>\n                      </template>\n                    </vue-slick-carousel>\n                  </div>\n                  <!-- FIXME: -->\n                  <!-- Commented this for now because this page temporary available both from legacy\n                  Time-Lapses page and new Print Page (not sure how Back should work here) -->\n                  <!-- <br />\n                  <div class=\"card-body p-3\">\n                    <a :href=\"`/print_history/${print.id}/`\">\n                      <i class=\"fas fa-chevron-left\"></i> Print Page\n                    </a>\n                  </div> -->\n                </div>\n              </div>\n            </div>\n          </b-col>\n        </b-row>\n      </b-container>\n    </template>\n  </page-layout>\n</template>\n\n<script>\nimport axios from 'axios'\nimport moment from 'moment'\nimport sortBy from 'lodash/sortBy'\nimport findIndex from 'lodash/findIndex'\nimport VueSlickCarousel from 'vue-slick-carousel'\nimport 'vue-slick-carousel/dist/vue-slick-carousel.css'\n// optional style for arrows & dots\nimport 'vue-slick-carousel/dist/vue-slick-carousel-theme.css'\n// TODO: this should be configured as global. But for some reason it doesn't work.\nimport Loading from 'vue-loading-overlay'\nimport 'vue-loading-overlay/dist/vue-loading.css'\nimport PrintShotCard from '@src/components/print-shot-feedback/PrintShotCard'\nimport urls from '@config/server-urls'\nimport { normalizedPrint } from '@src/lib/normalizers'\nimport PageLayout from '@src/components/PageLayout'\nimport FocusedFeedbackConsent from '../components/print-shot-feedback/FocusedFeedbackConsent.vue'\n\nexport default {\n  name: 'PrintShotFeedbackApp',\n  components: {\n    FocusedFeedbackConsent,\n    Loading,\n    PrintShotCard,\n    VueSlickCarousel,\n    PageLayout,\n  },\n  props: {\n    config: {\n      default: () => {},\n      type: Object,\n    },\n  },\n  data: function () {\n    return {\n      shots: [],\n      currentShot: 0,\n      print: null,\n    }\n  },\n  computed: {},\n\n  mounted() {\n    this.fetchData()\n  },\n\n  methods: {\n    fetchData() {\n      axios.get(urls.print(this.config.printId)).then((response) => {\n        this.print = normalizedPrint(response.data)\n        this.shots = sortBy(this.print.printshotfeedback_set, 'id')\n      })\n    },\n\n    updatePrint(data) {\n      axios\n        .patch(urls.print(this.print.id), data)\n\n        .then((response) => (this.print = response.data))\n    },\n\n    consentBtnPressed() {\n      this.updatePrint({ access_consented_at: moment() })\n    },\n\n    onShotChanged(data) {\n      const i = findIndex(this.shots, (shot) => shot.id == data.id)\n      this.$set(this.shots, i, data)\n      this.$refs.carousel.next()\n    },\n\n    onNextShot(shotIndex) {\n      this.currentShot = shotIndex\n    },\n\n    pageClass(page) {\n      if (page === this.currentShot) {\n        return 'page-visiting'\n      }\n      return this.shots[page].answered_at ? 'text-success' : 'page-unvisited'\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.prev-btn\n  display: inline\n  position: absolute\n  left: 2%\n  top: 40%\n  opacity: 0.5\n\n.next-btn\n  display: inline\n  position: absolute\n  right: 2%\n  top: 40%\n  opacity: 0.5\n\n.page-visiting\n  color: var(--color-primary)\n\n.page-unvisited\n  color: var(--color-divider)\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintShotFeedbackApp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintShotFeedbackApp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrintShotFeedbackApp.vue?vue&type=template&id=798e9044&scoped=true&\"\nimport script from \"./PrintShotFeedbackApp.vue?vue&type=script&lang=js&\"\nexport * from \"./PrintShotFeedbackApp.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrintShotFeedbackApp.vue?vue&type=style&index=0&id=798e9044&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"798e9044\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('page-layout',{scopedSlots:_vm._u([{key:\"topBarRight\",fn:function(){return [_c('b-dropdown',{attrs:{\"right\":\"\",\"no-caret\":\"\",\"toggle-class\":\"icon-btn\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('i',{staticClass:\"fas fa-ellipsis-v\"})]},proxy:true}])},[_c('cascaded-dropdown',{attrs:{\"menu-options\":_vm.menuOptions,\"menu-selections\":_vm.menuSelections},on:{\"menuSelectionChanged\":_vm.menuSelectionChanged}})],1)]},proxy:true},{key:\"content\",fn:function(){return [(_vm.shouldShowFilterWarning)?_c('a',{staticClass:\"active-filter-notice\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onShowAllClicked.apply(null, arguments)}}},[_c('div',{staticClass:\"filter\"},[_c('i',{staticClass:\"fas fa-filter mr-2\"}),_vm._v(\" \"+_vm._s(_vm.activeFiltering)+\" \")]),_c('div',{staticClass:\"action-btn\"},[_vm._v(\"SHOW ALL\")])]):_vm._e(),_c('b-container',[_c('b-row',[(_vm.prints.length || _vm.loading)?_c('b-col',[_vm._l((_vm.prints),function(print){return _c('print-history-item',{key:print.id,staticClass:\"print-item\",attrs:{\"print\":print}})}),_c('mugen-scroll',{attrs:{\"handler\":_vm.fetchMoreData,\"should-handle\":!_vm.loading}},[(!_vm.noMoreData)?_c('loading-placeholder'):_vm._e()],1)],2):_c('b-col',{staticClass:\"text-center my-5\"},[_vm._v(\"No prints found\")])],1)],1)]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.menuExpanded === null)?_vm._l((_vm.menuOptions),function(menu,name){return _c('b-dropdown-item',{key:name},[_c('div',{staticClass:\"d-flex justify-content-between clickable-area\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.menuExpanded = name}}},[_c('div',[_c('i',{class:menu.iconClass}),(_vm.activeItems[name])?_c('span',[_vm._v(\" \"+_vm._s(_vm.activeItems[name].title)+\" \"),(_vm.activeItems[name].iconClass)?_c('i',{class:_vm.activeItems[name].iconClass}):_vm._e()]):_c('span',[_vm._v(\" \"+_vm._s(name)+\" \")])]),_c('div',[_c('i',{staticClass:\"fas fa-chevron-right m-0\"})])])])}):_vm._e(),(_vm.menuExpanded !== null)?[_c('b-dropdown-item',[_c('div',{staticClass:\"clickable-area\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.menuExpanded = null}}},[_c('i',{staticClass:\"fas fa-chevron-left\"}),_vm._v(\"Back \")])]),_vm._l((_vm.menuOptions[_vm.menuExpanded].options),function(option){return _c('b-dropdown-item',{key:option.value},[_c('div',{staticClass:\"clickable-area\",on:{\"click\":function($event){return _vm.onSelected(option)}}},[_c('i',{staticClass:\"fas fa-check text-primary\",style:({\n            visibility: _vm.menuSelections[_vm.menuExpanded] === option.value ? 'visible' : 'hidden',\n          })}),_vm._v(\" \"+_vm._s(option.title)+\" \"),(option.iconClass)?_c('i',{class:option.iconClass}):_vm._e()])])})]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <template v-if=\"menuExpanded === null\">\n      <b-dropdown-item v-for=\"(menu, name) in menuOptions\" :key=\"name\">\n        <div\n          class=\"d-flex justify-content-between clickable-area\"\n          @click.stop.prevent=\"menuExpanded = name\"\n        >\n          <div>\n            <i :class=\"menu.iconClass\"></i>\n            <span v-if=\"activeItems[name]\">\n              {{ activeItems[name].title }}\n              <i v-if=\"activeItems[name].iconClass\" :class=\"activeItems[name].iconClass\"></i>\n            </span>\n            <span v-else>\n              {{ name }}\n            </span>\n          </div>\n          <div><i class=\"fas fa-chevron-right m-0\"></i></div>\n        </div>\n      </b-dropdown-item>\n    </template>\n    <template v-if=\"menuExpanded !== null\">\n      <b-dropdown-item>\n        <div class=\"clickable-area\" @click.stop.prevent=\"menuExpanded = null\">\n          <i class=\"fas fa-chevron-left\"></i>Back\n        </div>\n      </b-dropdown-item>\n      <b-dropdown-item v-for=\"option in menuOptions[menuExpanded].options\" :key=\"option.value\">\n        <div class=\"clickable-area\" @click=\"onSelected(option)\">\n          <i\n            class=\"fas fa-check text-primary\"\n            :style=\"{\n              visibility: menuSelections[menuExpanded] === option.value ? 'visible' : 'hidden',\n            }\"\n          ></i>\n          {{ option.title }} <i v-if=\"option.iconClass\" :class=\"option.iconClass\"></i>\n        </div>\n      </b-dropdown-item>\n    </template>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'CascadedDropdown',\n  props: {\n    menuOptions: {\n      type: Object,\n      required: true,\n    },\n    menuSelections: {\n      type: Object,\n      required: true,\n    },\n  },\n  data: function () {\n    return {\n      menuExpanded: null,\n    }\n  },\n\n  computed: {\n    activeItems() {\n      let items = {}\n      for (const key of Object.keys(this.menuSelections)) {\n        items[key] = this.menuOptions[key].options.find(\n          (option) => option.value === this.menuSelections[key]\n        )\n      }\n      return items\n    },\n  },\n\n  methods: {\n    onSelected(option) {\n      this.$emit('menuSelectionChanged', this.menuExpanded, option)\n      this.menuExpanded = null\n    },\n  },\n}\n</script>\n\n<style></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CascadedDropdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CascadedDropdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CascadedDropdown.vue?vue&type=template&id=0c329e92&\"\nimport script from \"./CascadedDropdown.vue?vue&type=script&lang=js&\"\nexport * from \"./CascadedDropdown.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"print-container\",on:{\"click\":_vm.openPrint}},[_c('div',{staticClass:\"status-indicator\",class:_vm.print.status.key}),_c('div',{staticClass:\"main-content overflow-truncated-parent\"},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"title overflow-truncated\"},[_vm._v(_vm._s(_vm.print.filename))])]),_c('div',{staticClass:\"bottom\"},[_c('div',{staticClass:\"info\"},[_c('svg',{staticClass:\"icon\",attrs:{\"width\":\"1em\",\"height\":\"1em\"}},[_c('use',{attrs:{\"href\":\"#svg-3d-printer\"}})]),_c('span',[_vm._v(_vm._s(_vm.print.printer ? _vm.print.printer.name : 'Unavailable'))])]),_c('div',{staticClass:\"info\"},[_c('i',{staticClass:\"fas fa-calendar-alt icon\"}),(_vm.print.ended_at)?_c('span',[_vm._v(_vm._s(_vm.print.ended_at.format('MMMM M, YYYY')))]):_c('span',[_vm._v(\"Printing...\")])])])]),(_vm.print.poster_url)?_c('div',{staticClass:\"poster\"},[_c('div',{staticClass:\"img\",style:({ backgroundImage: `url(${_vm.print.poster_url})` })})]):_c('div',{staticClass:\"poster no-photo\"},[_c('svg',[_c('use',{attrs:{\"href\":\"#svg-no-photo\"}})])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"print-container\" @click=\"openPrint\">\n    <div class=\"status-indicator\" :class=\"print.status.key\"></div>\n    <div class=\"main-content overflow-truncated-parent\">\n      <div class=\"top\">\n        <div class=\"title overflow-truncated\">{{ print.filename }}</div>\n      </div>\n      <div class=\"bottom\">\n        <div class=\"info\">\n          <svg width=\"1em\" height=\"1em\" class=\"icon\">\n            <use href=\"#svg-3d-printer\" />\n          </svg>\n          <span>{{ print.printer ? print.printer.name : 'Unavailable' }}</span>\n        </div>\n        <div class=\"info\">\n          <i class=\"fas fa-calendar-alt icon\"></i>\n          <span v-if=\"print.ended_at\">{{ print.ended_at.format('MMMM M, YYYY') }}</span>\n          <span v-else>Printing...</span>\n        </div>\n      </div>\n    </div>\n    <div v-if=\"print.poster_url\" class=\"poster\">\n      <div class=\"img\" :style=\"{ backgroundImage: `url(${print.poster_url})` }\"></div>\n    </div>\n    <div v-else class=\"poster no-photo\">\n      <svg>\n        <use href=\"#svg-no-photo\" />\n      </svg>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { PrintStatus } from '@src/lib/normalizers'\n\nexport default {\n  name: 'PrintHistoryItem',\n\n  components: {},\n\n  props: {\n    print: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  data: function () {\n    return {\n      PrintStatus,\n    }\n  },\n\n  methods: {\n    openPrint() {\n      window.location.assign(`/prints/${this.print.id}/`)\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.print-container\n  display: flex\n  background-color: var(--color-surface-secondary)\n  border-radius: var(--border-radius-md)\n  overflow: hidden\n  &:hover\n    cursor: pointer\n    background: var(--color-hover-accent)\n    transition: all .3s ease-out\n\n.status-indicator\n  flex: 0 0 5px\n  &.finished\n    background-color: var(--color-success)\n  &.cancelled\n    background-color: var(--color-danger)\n  &.printing\n    background-color: var(--color-text-primary)\n\n.main-content\n  padding: 1rem\n  flex: 1\n\n.top\n  display: flex\n  align-items: flex-end\n  margin-bottom: .25rem\n\n.title\n  font-weight: bold\n\n.bottom\n  display: flex\n  align-items: center\n  justify-content: flex-start\n  gap: 14px\n  @media (max-width: 768px)\n    flex-direction: column\n    gap: 2px\n    align-items: flex-start\n\n.info\n  display: flex\n  gap: .25em\n  align-items: center\n  font-size: 0.9375rem\n  overflow: hidden\n  max-width: 50%\n\n  span\n    text-overflow: ellipsis\n    white-space: nowrap\n    overflow: hidden\n\n  @media (max-width: 768px)\n    max-width: 100%\n\n.icon\n  color: var(--color-text-secondary)\n  font-size: .8em\n  flex-shrink: 0\n\n  &.fa-clock\n    position: relative\n    top: 1px\n\n.feedback-info\n  background-color: var(--color-surface-primary)\n  padding: .0625em .625em\n  border-radius: var(--border-radius-xs)\n  font-size: 0.8125rem\n  margin: 2px 0\n  &.focused\n    background-color: var(--color-primary)\n    color: var(--color-on-primary)\n\n.poster\n  margin-left: auto\n  background-color: var(--color-hover)\n  .img\n    background-size: cover\n    background-position: center\n    height: 100%\n    width: 100px\n    display: flex\n    justify-content: center\n    align-items: center\n    color: var(--color-text-secondary)\n    font-size: 0.875rem\n  &.no-photo\n    width: 100px\n    display: flex\n    align-items: center\n    justify-content: center\n    svg\n      width: 3rem\n      height: 3rem\n      color: var(--color-background)\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintHistoryItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintHistoryItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrintHistoryItem.vue?vue&type=template&id=015dd8a7&scoped=true&\"\nimport script from \"./PrintHistoryItem.vue?vue&type=script&lang=js&\"\nexport * from \"./PrintHistoryItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrintHistoryItem.vue?vue&type=style&index=0&id=015dd8a7&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"015dd8a7\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <page-layout>\n    <!-- Tob bar -->\n    <template #topBarRight>\n      <b-dropdown right no-caret toggle-class=\"icon-btn\">\n        <template #button-content>\n          <i class=\"fas fa-ellipsis-v\"></i>\n        </template>\n        <cascaded-dropdown\n          :menu-options=\"menuOptions\"\n          :menu-selections=\"menuSelections\"\n          @menuSelectionChanged=\"menuSelectionChanged\"\n        >\n        </cascaded-dropdown>\n      </b-dropdown>\n    </template>\n\n    <!-- Page content -->\n    <template #content>\n      <!-- Active filter notice -->\n      <a\n        v-if=\"shouldShowFilterWarning\"\n        href=\"#\"\n        class=\"active-filter-notice\"\n        @click.prevent=\"onShowAllClicked\"\n      >\n        <div class=\"filter\">\n          <i class=\"fas fa-filter mr-2\"></i>\n          {{ activeFiltering }}\n        </div>\n        <div class=\"action-btn\">SHOW ALL</div>\n      </a>\n      <!-- Prints list -->\n      <b-container>\n        <b-row>\n          <b-col v-if=\"prints.length || loading\">\n            <print-history-item\n              v-for=\"print of prints\"\n              :key=\"print.id\"\n              :print=\"print\"\n              class=\"print-item\"\n            ></print-history-item>\n            <mugen-scroll :handler=\"fetchMoreData\" :should-handle=\"!loading\">\n              <loading-placeholder v-if=\"!noMoreData\" />\n            </mugen-scroll>\n          </b-col>\n          <b-col v-else class=\"text-center my-5\">No prints found</b-col>\n        </b-row>\n      </b-container>\n    </template>\n  </page-layout>\n</template>\n\n<script>\nimport axios from 'axios'\nimport MugenScroll from 'vue-mugen-scroll'\nimport urls from '@config/server-urls'\nimport { normalizedPrint } from '@src/lib/normalizers'\nimport { getLocalPref, setLocalPref } from '@src/lib/pref'\nimport PageLayout from '@src/components/PageLayout.vue'\nimport CascadedDropdown from '@src/components/CascadedDropdown'\nimport PrintHistoryItem from '@src/components/prints/PrintHistoryItem.vue'\n\nconst LOCAL_PREF_NAMES = {\n  filtering: 'prints-filtering',\n  sorting: 'prints-sorting',\n}\nconst PAGE_SIZE = 24\n\nexport default {\n  name: 'PrintHistoryPage',\n\n  components: {\n    MugenScroll,\n    PageLayout,\n    CascadedDropdown,\n    PrintHistoryItem,\n  },\n\n  data: function () {\n    return {\n      prints: [],\n      loading: false,\n      noMoreData: false,\n      menuSelections: {\n        'Sort By': getLocalPref(LOCAL_PREF_NAMES.sorting, 'date_desc'),\n        'Filter By': getLocalPref(LOCAL_PREF_NAMES.filtering, 'none'),\n      },\n      menuOptions: {\n        'Sort By': {\n          iconClass: 'fas fa-sort-amount-up',\n          options: [\n            { value: 'date_asc', title: 'Oldest First', iconClass: 'fas fa-long-arrow-alt-up' },\n            { value: 'date_desc', title: 'Newest First', iconClass: 'fas fa-long-arrow-alt-down' },\n          ],\n        },\n        'Filter By': {\n          iconClass: 'fas fa-filter',\n          options: [\n            { value: 'none', title: 'All' },\n            { value: 'finished', title: 'Succeeded' },\n            { value: 'cancelled', title: 'Cancelled' },\n            { value: 'need_alert_overwrite', title: 'Review Needed' },\n            { value: 'need_print_shot_feedback', title: 'Focused-Review Needed' },\n          ],\n        },\n      },\n    }\n  },\n\n  computed: {\n    shouldShowFilterWarning() {\n      return this.menuSelections['Filter By'] !== 'none'\n    },\n    activeFiltering() {\n      const found = this.menuOptions['Filter By'].options.filter(\n        (option) => option.value === this.menuSelections['Filter By']\n      )\n      return found.length ? found[0].title : null\n    },\n  },\n\n  created() {\n    this.refetchData()\n  },\n\n  methods: {\n    fetchMoreData() {\n      if (this.noMoreData) {\n        return\n      }\n      this.loading = true\n      axios\n        .get(urls.prints(), {\n          params: {\n            start: this.prints.length,\n            limit: PAGE_SIZE,\n            filter: this.menuSelections['Filter By'],\n            sorting: this.menuSelections['Sort By'],\n          },\n        })\n        .then((response) => {\n          this.loading = false\n          this.noMoreData = response.data.length < PAGE_SIZE\n          this.prints.push(...response.data.map((data) => normalizedPrint(data)))\n        })\n        .catch((error) => {\n          this._showErrorPopup(error)\n        })\n    },\n    refetchData() {\n      this.prints = []\n      this.noMoreData = false\n      this.fetchMoreData()\n    },\n    menuSelectionChanged(menu, selectedOption) {\n      this.$set(this.menuSelections, menu, selectedOption.value)\n      const prefName = menu === 'Sort By' ? LOCAL_PREF_NAMES.sorting : LOCAL_PREF_NAMES.filtering\n      setLocalPref(prefName, selectedOption.value)\n      this.refetchData()\n    },\n    onShowAllClicked() {\n      this.$set(this.menuSelections, 'Filter By', 'none')\n      setLocalPref(LOCAL_PREF_NAMES.filtering, 'none')\n      this.refetchData()\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.print-item\n  margin-bottom: 10px\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintHistoryPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintHistoryPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrintHistoryPage.vue?vue&type=template&id=1be933eb&scoped=true&\"\nimport script from \"./PrintHistoryPage.vue?vue&type=script&lang=js&\"\nexport * from \"./PrintHistoryPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrintHistoryPage.vue?vue&type=style&index=0&id=1be933eb&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1be933eb\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('page-layout',{scopedSlots:_vm._u([{key:\"topBarLeft\",fn:function(){return [_c('div',{staticClass:\"actions-with-selected-desktop\"},[_c('b-form-group',{staticClass:\"m-0\"},[_c('b-form-checkbox',{attrs:{\"size\":\"lg\"},model:{value:(_vm.allPrintsSelected),callback:function ($$v) {_vm.allPrintsSelected=$$v},expression:\"allPrintsSelected\"}})],1),_c('div',[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.selectedPrintIds.size),expression:\"!selectedPrintIds.size\"}],staticClass:\"label\",on:{\"click\":function($event){_vm.allPrintsSelected = !_vm.allPrintsSelected}}},[_vm._v(\"Select all\")]),_c('b-dropdown',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectedPrintIds.size),expression:\"selectedPrintIds.size\"}],attrs:{\"toggle-class\":\"btn btn-sm actions-with-selected-btn\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.selectedPrintIds.size)+\" item\"+_vm._s(_vm.selectedPrintIds.size === 1 ? '' : 's')+\" selected... \")]},proxy:true}])},[_c('b-dropdown-item',[_c('div',{staticClass:\"text-danger\",on:{\"click\":_vm.onDeleteBtnClick}},[_c('i',{staticClass:\"far fa-trash-alt\"}),_vm._v(\"Delete \")])])],1)],1)],1)]},proxy:true},{key:\"topBarRight\",fn:function(){return [_c('div',[_c('a',{staticClass:\"btn shadow-none icon-btn d-none d-md-inline\",attrs:{\"href\":\"/prints/upload/\",\"title\":\"Upload Time-Lapse\"}},[_c('i',{staticClass:\"fas fa-upload\"})]),_c('b-dropdown',{attrs:{\"right\":\"\",\"no-caret\":\"\",\"toggle-class\":\"icon-btn\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('i',{staticClass:\"fas fa-ellipsis-v\"})]},proxy:true}])},[_c('b-dropdown-item',{staticClass:\"d-md-none\",attrs:{\"href\":\"/prints/upload/\"}},[_c('i',{staticClass:\"fas fa-upload\"}),_vm._v(\"Upload Time-Lapse \")]),_c('b-dropdown-divider',{staticClass:\"d-md-none\"}),_c('cascaded-dropdown',{attrs:{\"menu-options\":_vm.menuOptions,\"menu-selections\":_vm.menuSelections},on:{\"menuSelectionChanged\":_vm.menuSelectionChanged}})],1)],1)]},proxy:true},{key:\"content\",fn:function(){return [(_vm.shouldShowFilterWarning)?_c('a',{staticClass:\"active-filter-notice\",on:{\"click\":_vm.onShowAllClicked}},[_c('div',{staticClass:\"filter\"},[_c('i',{staticClass:\"fas fa-filter mr-2\"}),_vm._v(\" \"+_vm._s(_vm.activeFiltering)+\" \")]),_c('div',[_vm._v(\"SHOW ALL\")])]):_vm._e(),_c('b-container',[_c('b-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.prints.length),expression:\"prints.length\"}],staticClass:\"print-cards\"},_vm._l((_vm.visiblePrints),function(print){return _c('print-card',{key:print.id,attrs:{\"print\":print,\"selected\":_vm.selectedPrintIds.has(print.id)},on:{\"selectedChanged\":_vm.onSelectedChanged,\"printDeleted\":_vm.onPrintDeleted,\"printDataChanged\":_vm.printDataChanged,\"fullscreen\":_vm.openFullScreen}})}),1),_c('mugen-scroll',{staticClass:\"text-center p-4\",attrs:{\"handler\":_vm.fetchMoreData,\"should-handle\":!_vm.loading}},[(_vm.noMoreData)?_c('div',{staticClass:\"text-center p-2\"},[_vm._v(\"No more time-lapses.\")]):_vm._e(),(!_vm.noMoreData)?_c('b-spinner',{attrs:{\"label\":\"Loading...\"}}):_vm._e()],1),_c('b-modal',{attrs:{\"id\":\"tl-fullscreen-modal\",\"size\":\"full\",\"hide-header\":true,\"hide-footer\":true},on:{\"hidden\":_vm.fullScreenClosed}},[_c('FullScreenPrintCard',{attrs:{\"print\":_vm.fullScreenPrint,\"video-url\":_vm.fullScreenPrintVideoUrl,\"autoplay\":true}})],1)],1)]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"col-sm-12 col-md-6 col-lg-4 print-card\"},[_c('div',{staticClass:\"card vld-parent\"},[(_vm.isPublic)?_c('div',{staticClass:\"card-header\"},[_vm._v(\"- By \"+_vm._s(_vm.print.creator_name))]):_c('div',{staticClass:\"card-header\"},[_c('div',{style:({ visibility: _vm.hasSelectedChangedListener ? 'visible' : 'hidden' })},[_c('b-form-checkbox',{staticClass:\"text-decoration-none\",attrs:{\"size\":\"lg\"},model:{value:(_vm.isSelected),callback:function ($$v) {_vm.isSelected=$$v},expression:\"isSelected\"}})],1),_c('b-form-radio-group',{attrs:{\"buttons\":\"\",\"button-variant\":\"outline-primary\",\"name\":\"radio-btn-outline\"},model:{value:(_vm.selectedCardView),callback:function ($$v) {_vm.selectedCardView=$$v},expression:\"selectedCardView\"}},[_c('b-form-radio',{staticClass:\"no-corner no-shadow\",attrs:{\"value\":\"detective\",\"disabled\":!_vm.canShowDetectiveView}},[_c('i',{staticClass:\"fas fa-balance-scale\"})]),_c('b-form-radio',{staticClass:\"no-corner no-shadow\",attrs:{\"value\":\"info\"}},[_c('i',{staticClass:\"fas fa-info\"})])],1),_c('b-dropdown',{attrs:{\"right\":\"\",\"no-caret\":\"\",\"toggle-class\":\"icon-btn\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('i',{staticClass:\"fas fa-ellipsis-v\"})]},proxy:true}])},[(_vm.print.video_url && !_vm.print.video_archived_at)?_c('b-dropdown-item',{attrs:{\"href\":_vm.print.video_url,\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-download\"}),_vm._v(\"Download Original Time-lapse \")]):_vm._e(),(_vm.print.tagged_video_url && !_vm.print.video_archived_at)?_c('b-dropdown-item',{attrs:{\"href\":_vm.print.tagged_video_url,\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-download\"}),_vm._v(\"Download Detective Time-lapse \")]):_vm._e(),_c('b-dropdown-divider'),_c('b-dropdown-item',{on:{\"click\":_vm.deleteVideo}},[_c('span',{staticClass:\"text-danger\"},[_c('i',{staticClass:\"fas fa-trash-alt\"}),_vm._v(\"Delete \")])])],1)],1),_c('div',[(_vm.print.video_archived_at)?_c('div',{staticClass:\"position-relative\"},[_c('div',{staticClass:\"poster-placeholder-wrapper\"},[_c('svg',{staticClass:\"poster-placeholder\"},[_c('use',{attrs:{\"href\":_vm.posterSrc}})])]),_c('div',{staticClass:\"archived-info\"},[_c('div',{staticClass:\"text\"},[_vm._v(\" Video file is deleted. \"),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.showVideoArchivedDescription($event)}}},[_vm._v(\"Why?\")])])])]):_c('div',[(_vm.videoUrl)?_c('video-box',{attrs:{\"video-url\":_vm.videoUrl,\"poster-url\":_vm.print.poster_url,\"fluid\":true,\"fullscreen-btn\":_vm.hasFullscreenListener},on:{\"timeupdate\":_vm.onTimeUpdate,\"fullscreen\":function($event){return _vm.$emit('fullscreen', _vm.print.id, _vm.videoUrl)}}}):_c('div',[_c('detective-working')],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cardView == 'info' && !_vm.isPublic),expression:\"cardView == 'info' && !isPublic\"}]},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_vm._m(0),_c('div',{staticClass:\"col-8\"},[_vm._v(_vm._s(_vm.print.filename))])]),_c('div',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"row\",attrs:{\"title\":_vm.humanizedPrintedOrUploadedTime((_vm.longFormat = true))}},[_c('div',{staticClass:\"text-muted col-4\"},[_vm._v(\" \"+_vm._s(_vm.wasTimelapseUploaded ? 'Uploaded' : 'Printed')+\" \"),_c('span',{staticClass:\"float-right\"},[_vm._v(\":\")])]),_c('div',{staticClass:\"col-8\"},[_vm._v(_vm._s(_vm.humanizedPrintedOrUploadedTime())+\" \"+_vm._s(_vm.endStatus))])]),(!_vm.wasTimelapseUploaded && _vm.duration)?_c('div',{staticClass:\"row\",attrs:{\"id\":'dur-' + _vm.print.id}},[_c('b-tooltip',{attrs:{\"target\":'dur-' + _vm.print.id,\"triggers\":\"hover\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"floor\")(_vm._f(\"duration\")(_vm.duration,'asHours')))+\":\"+_vm._s(_vm._f(\"duration\")(_vm.duration,'minutes'))+\":\"+_vm._s(_vm._f(\"duration\")(_vm.duration,'seconds'))+\" \")]),_vm._m(1),_c('div',{staticClass:\"col-8\"},[_vm._v(_vm._s(_vm.duration.humanize()))])],1):_vm._e()])])]),(_vm.isPublic)?_c('div',{staticClass:\"bg-warning alert-banner text-center\",style:({ opacity: _vm.normalizedP > 0.4 ? 1 : 0 })},[_c('i',{staticClass:\"fas fa-exclamation-triangle\"}),_vm._v(\" Possible failure detected! \")]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cardView == 'detective' || _vm.isPublic),expression:\"cardView == 'detective' || isPublic\"}]},[(_vm.print.prediction_json_url)?_c('failure-detection-gauge',{attrs:{\"normalized-p\":_vm.normalizedP}}):_vm._e(),(!_vm.isPublic)?_c('div',{staticClass:\"feedback-section\"},[_c('div',{staticClass:\"text-center py-2 px-3\"},[_c('div',{staticClass:\"lead\",class:[_vm.print.alerted_at ? 'text-danger' : 'text-success']},[_vm._v(\" \"+_vm._s(_vm.print.alerted_at ? 'Failure detected' : 'No failure detected')+\" \")]),_c('div',{staticClass:\"py-2\"},[_vm._v(\" Did we get it right? \"),_c('b-button',{staticClass:\"mx-2 btn-sm\",attrs:{\"variant\":_vm.thumbedUp ? 'primary' : 'outline'},on:{\"click\":_vm.onThumbUpClick}},[(_vm.inflightAlertOverwrite)?_c('b-spinner',{attrs:{\"type\":\"grow\",\"small\":\"\"}}):_c('i',{staticClass:\"fas fa-thumbs-up\"})],1),_c('b-button',{staticClass:\"mx-2 btn-sm\",attrs:{\"variant\":_vm.thumbedDown ? 'primary' : 'outline'},on:{\"click\":_vm.onThumbDownClick}},[(_vm.inflightAlertOverwrite)?_c('b-spinner',{attrs:{\"type\":\"grow\",\"small\":\"\"}}):_c('i',{staticClass:\"fas fa-thumbs-down\"})],1)],1),_c('transition',{attrs:{\"name\":\"bounce\"}},[(_vm.print.printShotFeedbackEligible)?_c('div',{staticClass:\"pt-2\"},[_c('a',{staticClass:\"btn btn-sm btn-outline-primary px-4\",attrs:{\"role\":\"button\",\"href\":_vm.focusedFeedbackLink}},[_vm._v(\" F \"),_c('i',{staticClass:\"fas fa-search focused-feedback-icon\"}),_vm._v(\"CUSED FEEDBACK \"),(_vm.print.need_print_shot_feedback)?_c('svg',{staticClass:\"seg-control-icon ml-1 double-hours-icon\"},[_c('use',{attrs:{\"href\":\"#svg-hour-double\"}})]):_vm._e()])]):_vm._e()])],1),_c('div',{staticClass:\"text-muted py-2 px-3 help-text\"},[(_vm.print.printShotFeedbackEligible)?_c('small',[(!_vm.print.need_print_shot_feedback)?_c('span',[_vm._v(\"Thank you for completing the Focused Feedback. You have earned 2 non-expirable AI Detection Hours. You can click the button again to change your feedback.\")]):_c('span',[_vm._v(\" With Focused Feedback, you can tell us exactly where we got it wrong. This is the most effective way to help us improve. \"),_c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/how-does-credits-work#you-earn-detective-hours-for-giving-focused-feedback\"}},[_vm._v(\"You will earn 2 AI Detection Hours once you finish the Focused Feedback\")]),_vm._v(\". \")])]):_c('small',[_vm._v(\" Every time you give us feedback, \"),_c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/how-does-credits-work/\"}},[_vm._v(\"you help us get better at detecting failures\")]),_vm._v(\". \")])])]):_vm._e()],1)])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"text-muted col-4\"},[_vm._v(\" File \"),_c('span',{staticClass:\"float-right\"},[_vm._v(\":\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"text-muted col-4\"},[_vm._v(\" Duration \"),_c('span',{staticClass:\"float-right\"},[_vm._v(\":\")])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"obico-gauge-container\"},[_c('span',{style:({ color: _vm.titleColor }),attrs:{\"id\":\"title\"}},[_vm._v(_vm._s(_vm.titleText))]),_c('div',{staticClass:\"obico-gauge\"},[_c('radial-gauge',{attrs:{\"value\":_vm.value,\"options\":_vm.computedOptions}})],1),_c('hr')])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"obico-gauge-container\">\n    <span id=\"title\" :style=\"{ color: titleColor }\">{{ titleText }}</span>\n    <div class=\"obico-gauge\">\n      <radial-gauge :value=\"value\" :options=\"computedOptions\"></radial-gauge>\n    </div>\n    <hr />\n  </div>\n</template>\n\n<script>\nimport RadialGauge from 'vue2-canvas-gauges/src/RadialGauge'\nimport { Themes } from '@static/js/color-scheme'\nimport { currentThemeValue } from '@src/lib/color-scheme-controller'\n\nexport default {\n  name: 'FailureDetectionGauge',\n  components: {\n    RadialGauge,\n  },\n  props: {\n    normalizedP: {\n      type: Number,\n      required: true,\n    },\n\n    isWatching: {\n      type: Boolean,\n      default: true,\n    },\n\n    options: {\n      // https://canvas-gauges.com/documentation/user-guide/configuration\n      type: Object,\n      default: null,\n    },\n  },\n\n  computed: {\n    computedOptions() {\n      if (this.options !== null) {\n        return this.options\n      }\n\n      const inactiveColor = {\n        highlight1: currentThemeValue() === Themes.Light ? '#929292' : '#8395a7',\n        highlight2: currentThemeValue() === Themes.Light ? '#b7b7b7' : '#a8bacc',\n        highlight3: currentThemeValue() === Themes.Light ? '#7b7b7b' : '#6c7e90',\n        needle: currentThemeValue() === Themes.Light ? '#2d3e4f' : '#ffffff',\n      }\n\n      return {\n        valueDec: 0,\n        valueInt: 0,\n        width: 240,\n        height: 240,\n        units: false,\n        box: false,\n        minValue: 0,\n        maxValue: 100,\n        majorTicks: ['', '', '', ''],\n        minorTicks: 4,\n        highlights: [\n          { from: 0, to: 33, color: this.isWatching ? '#5cb85c' : inactiveColor.highlight1 },\n          { from: 33, to: 67, color: this.isWatching ? '#f0ad4e' : inactiveColor.highlight2 },\n          { from: 67, to: 100, color: this.isWatching ? '#d9534f' : inactiveColor.highlight3 },\n        ],\n        colorPlate: 'rgba(255,255,255,.0)',\n        colorTitle: '#5cb85c',\n        colorStrokeTicks: '#EBEBEB',\n        colorNeedleEnd: this.isWatching ? 'rgba(255, 160, 122, .9)' : inactiveColor.needle,\n        colorNeedle: this.isWatching ? 'rgba(240, 128, 128, 1)' : inactiveColor.needle,\n        colorNeedleShadowUp: this.isWatching ? 'rgba(2,255,255,0.2)' : inactiveColor.needle,\n        valueBox: false,\n        animationRule: 'bounce',\n        animationDuration: 500,\n        animatedValue: true,\n        startAngle: 90,\n        ticksAngle: 180,\n        borders: false,\n      }\n    },\n    value() {\n      return this.normalizedP * 100\n    },\n    titleText() {\n      switch (this.level()) {\n        case 0:\n          return 'Looking Good'\n        case 1:\n          return 'Fishy...'\n        case 2:\n          return 'Failing!'\n        default:\n          return 'Looking Good'\n      }\n    },\n    titleColor() {\n      switch (this.level()) {\n        case 0:\n          return '#5cb85c'\n        case 1:\n          return '#f0ad4e'\n        case 2:\n          return '#d9534f'\n        default:\n          return '#5cb85c'\n      }\n    },\n  },\n\n  methods: {\n    level() {\n      if (this.value > 66) {\n        return 2\n      } else if (this.value > 33) {\n        return 1\n      } else {\n        return 0\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n#title\n  position: absolute\n  left: 0px\n  text-align: center\n  width: 100%\n  top: 50%\n\n.obico-gauge-container\n  position: relative\n  padding: 0 16px\n  .obico-gauge\n    text-align: center\n    padding: 8px\n    margin-bottom: -150px\n    pointer-events: none\n  hr\n    background-color: #EBEBEB\n    height: 1px\n    margin-top: 15px\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FailureDetectionGauge.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FailureDetectionGauge.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FailureDetectionGauge.vue?vue&type=template&id=c291e2d4&scoped=true&\"\nimport script from \"./FailureDetectionGauge.vue?vue&type=script&lang=js&\"\nexport * from \"./FailureDetectionGauge.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FailureDetectionGauge.vue?vue&type=style&index=0&id=c291e2d4&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c291e2d4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"col-sm-12 col-md-6 col-lg-4 print-card\">\n    <div class=\"card vld-parent\">\n      <div v-if=\"isPublic\" class=\"card-header\">- By {{ print.creator_name }}</div>\n      <div v-else class=\"card-header\">\n        <div :style=\"{ visibility: hasSelectedChangedListener ? 'visible' : 'hidden' }\">\n          <b-form-checkbox\n            v-model=\"isSelected\"\n            size=\"lg\"\n            class=\"text-decoration-none\"\n          ></b-form-checkbox>\n        </div>\n        <b-form-radio-group\n          v-model=\"selectedCardView\"\n          buttons\n          button-variant=\"outline-primary\"\n          name=\"radio-btn-outline\"\n        >\n          <b-form-radio\n            value=\"detective\"\n            class=\"no-corner no-shadow\"\n            :disabled=\"!canShowDetectiveView\"\n          >\n            <i class=\"fas fa-balance-scale\"></i>\n          </b-form-radio>\n          <b-form-radio value=\"info\" class=\"no-corner no-shadow\">\n            <i class=\"fas fa-info\"></i>\n          </b-form-radio>\n        </b-form-radio-group>\n        <b-dropdown right no-caret toggle-class=\"icon-btn\">\n          <template #button-content>\n            <i class=\"fas fa-ellipsis-v\"></i>\n          </template>\n          <b-dropdown-item\n            v-if=\"print.video_url && !print.video_archived_at\"\n            :href=\"print.video_url\"\n            target=\"_blank\"\n          >\n            <i class=\"fas fa-download\"></i>Download Original Time-lapse\n          </b-dropdown-item>\n          <b-dropdown-item\n            v-if=\"print.tagged_video_url && !print.video_archived_at\"\n            :href=\"print.tagged_video_url\"\n            target=\"_blank\"\n          >\n            <i class=\"fas fa-download\"></i>Download Detective Time-lapse\n          </b-dropdown-item>\n          <b-dropdown-divider></b-dropdown-divider>\n          <b-dropdown-item @click=\"deleteVideo\">\n            <span class=\"text-danger\"> <i class=\"fas fa-trash-alt\"></i>Delete </span>\n          </b-dropdown-item>\n        </b-dropdown>\n      </div>\n      <div>\n        <div v-if=\"print.video_archived_at\" class=\"position-relative\">\n          <div class=\"poster-placeholder-wrapper\">\n            <svg class=\"poster-placeholder\">\n              <use :href=\"posterSrc\" />\n            </svg>\n          </div>\n          <div class=\"archived-info\">\n            <div class=\"text\">\n              Video file is deleted.\n              <a href=\"#\" @click=\"showVideoArchivedDescription($event)\">Why?</a>\n            </div>\n          </div>\n        </div>\n        <div v-else>\n          <video-box\n            v-if=\"videoUrl\"\n            :video-url=\"videoUrl\"\n            :poster-url=\"print.poster_url\"\n            :fluid=\"true\"\n            :fullscreen-btn=\"hasFullscreenListener\"\n            @timeupdate=\"onTimeUpdate\"\n            @fullscreen=\"$emit('fullscreen', print.id, videoUrl)\"\n          />\n          <div v-else>\n            <detective-working />\n          </div>\n        </div>\n        <div v-show=\"cardView == 'info' && !isPublic\">\n          <div class=\"card-body\">\n            <div class=\"container\">\n              <div class=\"row\">\n                <div class=\"text-muted col-4\">\n                  File\n                  <span class=\"float-right\">:</span>\n                </div>\n                <div class=\"col-8\">{{ print.filename }}</div>\n              </div>\n              <div\n                v-b-tooltip.hover\n                class=\"row\"\n                :title=\"humanizedPrintedOrUploadedTime((longFormat = true))\"\n              >\n                <div class=\"text-muted col-4\">\n                  {{ wasTimelapseUploaded ? 'Uploaded' : 'Printed' }}\n                  <span class=\"float-right\">:</span>\n                </div>\n                <div class=\"col-8\">{{ humanizedPrintedOrUploadedTime() }} {{ endStatus }}</div>\n              </div>\n              <div v-if=\"!wasTimelapseUploaded && duration\" :id=\"'dur-' + print.id\" class=\"row\">\n                <b-tooltip :target=\"'dur-' + print.id\" triggers=\"hover\">\n                  {{ duration | duration('asHours') | floor }}:{{\n                    duration | duration('minutes')\n                  }}:{{ duration | duration('seconds') }}\n                </b-tooltip>\n                <div class=\"text-muted col-4\">\n                  Duration\n                  <span class=\"float-right\">:</span>\n                </div>\n                <div class=\"col-8\">{{ duration.humanize() }}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div\n          v-if=\"isPublic\"\n          class=\"bg-warning alert-banner text-center\"\n          :style=\"{ opacity: normalizedP > 0.4 ? 1 : 0 }\"\n        >\n          <!-- v-show=\"normalizedP > 0.4\" -->\n          <i class=\"fas fa-exclamation-triangle\"></i> Possible failure detected!\n        </div>\n\n        <div v-show=\"cardView == 'detective' || isPublic\">\n          <failure-detection-gauge v-if=\"print.prediction_json_url\" :normalized-p=\"normalizedP\" />\n          <div v-if=\"!isPublic\" class=\"feedback-section\">\n            <div class=\"text-center py-2 px-3\">\n              <div class=\"lead\" :class=\"[print.alerted_at ? 'text-danger' : 'text-success']\">\n                {{ print.alerted_at ? 'Failure detected' : 'No failure detected' }}\n              </div>\n              <div class=\"py-2\">\n                Did we get it right?\n                <b-button\n                  :variant=\"thumbedUp ? 'primary' : 'outline'\"\n                  class=\"mx-2 btn-sm\"\n                  @click=\"onThumbUpClick\"\n                >\n                  <b-spinner v-if=\"inflightAlertOverwrite\" type=\"grow\" small></b-spinner>\n                  <i v-else class=\"fas fa-thumbs-up\"></i>\n                </b-button>\n                <b-button\n                  :variant=\"thumbedDown ? 'primary' : 'outline'\"\n                  class=\"mx-2 btn-sm\"\n                  @click=\"onThumbDownClick\"\n                >\n                  <b-spinner v-if=\"inflightAlertOverwrite\" type=\"grow\" small></b-spinner>\n                  <i v-else class=\"fas fa-thumbs-down\"></i>\n                </b-button>\n              </div>\n              <transition name=\"bounce\">\n                <div v-if=\"print.printShotFeedbackEligible\" class=\"pt-2\">\n                  <a\n                    role=\"button\"\n                    class=\"btn btn-sm btn-outline-primary px-4\"\n                    :href=\"focusedFeedbackLink\"\n                  >\n                    F\n                    <i class=\"fas fa-search focused-feedback-icon\"></i>CUSED FEEDBACK\n                    <svg\n                      v-if=\"print.need_print_shot_feedback\"\n                      class=\"seg-control-icon ml-1 double-hours-icon\"\n                    >\n                      <use href=\"#svg-hour-double\" />\n                    </svg>\n                  </a>\n                </div>\n              </transition>\n            </div>\n            <div class=\"text-muted py-2 px-3 help-text\">\n              <small v-if=\"print.printShotFeedbackEligible\">\n                <span v-if=\"!print.need_print_shot_feedback\"\n                  >Thank you for completing the Focused Feedback. You have earned 2 non-expirable AI\n                  Detection Hours. You can click the button again to change your feedback.</span\n                >\n                <span v-else>\n                  With Focused Feedback, you can tell us exactly where we got it wrong. This is the\n                  most effective way to help us improve.\n                  <a\n                    href=\"https://www.obico.io/docs/user-guides/how-does-credits-work#you-earn-detective-hours-for-giving-focused-feedback\"\n                    >You will earn 2 AI Detection Hours once you finish the Focused Feedback</a\n                  >.\n                </span>\n              </small>\n\n              <small v-else>\n                Every time you give us feedback,\n                <a href=\"https://www.obico.io/docs/user-guides/how-does-credits-work/\"\n                  >you help us get better at detecting failures</a\n                >.\n              </small>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport moment from 'moment'\nimport { getNormalizedP } from '@src/lib/utils'\nimport urls from '@config/server-urls'\nimport VideoBox from '@src/components/VideoBox'\nimport FailureDetectionGauge from '@src/components/FailureDetectionGauge'\nimport DetectiveWorking from '@src/components/DetectiveWorking'\n\nexport default {\n  name: 'PrintCard',\n\n  components: {\n    VideoBox,\n    FailureDetectionGauge,\n    DetectiveWorking,\n  },\n\n  props: {\n    print: {\n      type: Object,\n      required: true,\n    },\n    isPublic: {\n      type: Boolean,\n      default: false,\n    },\n    selected: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  data: function () {\n    return {\n      ALERT_THRESHOLD: 0.4,\n      currentPosition: 0,\n      predictions: [],\n      selectedCardView: 'detective',\n      inflightAlertOverwrite: null,\n      isSelected: this.selected,\n    }\n  },\n\n  computed: {\n    wasTimelapseUploaded() {\n      return this.print.uploaded_at !== null\n    },\n\n    endStatus() {\n      return this.print.cancelled_at ? '(Cancelled)' : ''\n    },\n\n    duration() {\n      return this.print.ended_at && this.print.started_at\n        ? moment.duration(this.print.ended_at.diff(this.print.started_at))\n        : null\n    },\n\n    canShowDetectiveView() {\n      if (this.print.prediction_json_url !== null && this.print.tagged_video_url !== null) {\n        return true\n      }\n      // Time-lapses that was uploaded within the past 24 hours are presumably still be processed\n      if (this.print.uploaded_at && moment().diff(this.print.uploaded_at, 'hours') < 24) {\n        return true\n      }\n      return false\n    },\n\n    cardView() {\n      return this.canShowDetectiveView ? this.selectedCardView : 'info'\n    },\n\n    videoUrl() {\n      return this.cardView == 'info' ? this.print.video_url : this.print.tagged_video_url\n    },\n\n    thumbedUp() {\n      if (!this.print.alert_overwrite) {\n        return false\n      }\n      return this.print.has_alerts ^ (this.print.alert_overwrite === 'NOT_FAILED')\n    },\n\n    thumbedDown() {\n      if (!this.print.alert_overwrite) {\n        return false\n      }\n      return this.print.has_alerts ^ (this.print.alert_overwrite === 'FAILED')\n    },\n\n    focusedFeedbackLink() {\n      return `/prints/shot-feedback/${this.print.id}/`\n    },\n\n    hasSelectedChangedListener() {\n      return Boolean(this.$listeners && this.$listeners.selectedChanged)\n    },\n\n    hasFullscreenListener() {\n      return Boolean(this.$listeners && this.$listeners.fullscreen)\n    },\n\n    normalizedP() {\n      return getNormalizedP(this.predictions, this.currentPosition, this.isPublic)\n    },\n\n    posterSrc() {\n      return this.print.poster_url || '#svg-3d-printer'\n    },\n  },\n\n  watch: {\n    isSelected(newValue) {\n      this.$emit('selectedChanged', this.print.id, newValue)\n    },\n  },\n\n  mounted() {\n    if (this.print.prediction_json_url) {\n      this.fetchPredictions()\n    }\n\n    if (!this.print.tagged_video_url) {\n      this.selectedCardView = 'info'\n    }\n  },\n\n  methods: {\n    onTimeUpdate(currentPosition) {\n      this.currentPosition = currentPosition\n    },\n\n    deleteVideo() {\n      axios.delete(urls.print(this.print.id)).then(() => {\n        this.$emit('printDeleted', this.print.id)\n      })\n    },\n\n    onThumbUpClick() {\n      this.inflightAlertOverwrite = this.print.has_alerts ? 'FAILED' : 'NOT_FAILED'\n      this.alertOverwrite(this.inflightAlertOverwrite)\n    },\n\n    onThumbDownClick() {\n      this.inflightAlertOverwrite = this.print.has_alerts ? 'NOT_FAILED' : 'FAILED'\n      this.alertOverwrite(this.inflightAlertOverwrite)\n    },\n\n    alertOverwrite(value) {\n      axios\n        .patch(urls.print(this.print.id), {\n          alert_overwrite: value,\n        })\n        .then((response) => {\n          this.$emit('printDataChanged', response.data)\n          this.inflightAlertOverwrite = null\n        })\n    },\n\n    fetchPredictions() {\n      axios.get(this.print.prediction_json_url).then((response) => {\n        this.predictions = response.data\n      })\n    },\n\n    humanizedPrintedOrUploadedTime(longFormat = false) {\n      if (!this.print.uploaded_at && !this.print.ended_at) {\n        return '-'\n      }\n      const ts = this.wasTimelapseUploaded ? this.print.uploaded_at : this.print.ended_at\n      if (longFormat) {\n        return ts.format('LLLL')\n      } else {\n        return ts.fromNow()\n      }\n    },\n    showVideoArchivedDescription(event) {\n      event.preventDefault()\n      this.$swal.Prompt.fire({\n        title: 'Time-lapse video deleted',\n        html: `\n          <p>Time-lapse videos older than 6-months are deleted from the Obico app server as they are rarely needed and cost significant amount to store in the cloud.</p>\n          <p>If you are a Pro subscriber and you don't want your time-lapse videos to be deleted, please <a href=\"mailto:support@obico.io?subject=Please%20keep%20my%20timelapse%20videos\">contact us</a>.</p>\n          `,\n        showCloseButton: true,\n      })\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.print-card\n  margin-top: var(--gap-between-blocks)\n\n  .card\n    border-radius: var(--border-radius-lg)\n    overflow: hidden\n\n.card-header\n  display: flex\n  flex-flow: row nowrap\n  justify-content: space-between\n  align-items: center\n\n.seg-control-icon\n  height: 1.2rem\n  width: 1.2rem\n  &.double-hours-icon\n    width: 1.5rem\n\n.feedback-section\n  background-color: var(--color-surface-secondary)\n\n.bounce-enter-active\n  animation: bounce-in .5s\n\n.bounce-leave-active\n  animation: bounce-in .5s reverse\n\n@keyframes bounce-in\n  0%\n    transform: scale(0)\n  50%\n    transform: scale(1.5)\n  100%\n    transform: scale(1)\n\n.help-text\n  line-height: 1.2\n\n.bg-warning.alert-banner\n  position: static\n  display: block\n\n.archived-info\n  position: absolute\n  width: 100%\n  z-index: 10\n  bottom: 0\n  left: 0\n  background-color: rgba(0,0,0,.6)\n  text-align: center\n  padding: 10px 0\n\n::v-deep .vjs-poster, ::v-deep .video-js\n  background-color: #000\n\n.poster-placeholder-wrapper\n  height: 250px\n  background-color: #000\n\n  .poster-placeholder\n    $size: 100px\n    color: rgb(255 255 255 / .2)\n    width: $size\n    height: $size\n    position: absolute\n    left: calc(50% - #{$size / 2})\n    top: calc(50% - #{$size / 2} - 20px)\n\ni.fas\n  width: 1em\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrintCard.vue?vue&type=template&id=1567a6cd&scoped=true&\"\nimport script from \"./PrintCard.vue?vue&type=script&lang=js&\"\nexport * from \"./PrintCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrintCard.vue?vue&type=style&index=0&id=1567a6cd&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1567a6cd\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('video-box',{attrs:{\"video-url\":_vm.videoUrl,\"poster-url\":_vm.print.poster_url,\"fluid\":false,\"autoplay\":_vm.autoplay,\"fullscreen-btn\":false},on:{\"timeupdate\":_vm.onTimeUpdate}}),(_vm.isPublic)?_c('div',{staticClass:\"bg-warning alert-banner text-center\",style:({ opacity: _vm.normalizedP > 0.4 ? 1 : 0 })},[_c('i',{staticClass:\"fas fa-exclamation-triangle\"}),_vm._v(\" Possible failure detected! \")]):_vm._e(),_c('failure-detection-gauge',{attrs:{\"normalized-p\":_vm.normalizedP}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <video-box\n      :video-url=\"videoUrl\"\n      :poster-url=\"print.poster_url\"\n      :fluid=\"false\"\n      :autoplay=\"autoplay\"\n      :fullscreen-btn=\"false\"\n      @timeupdate=\"onTimeUpdate\"\n    />\n\n    <div\n      v-if=\"isPublic\"\n      :style=\"{ opacity: normalizedP > 0.4 ? 1 : 0 }\"\n      class=\"bg-warning alert-banner text-center\"\n    >\n      <i class=\"fas fa-exclamation-triangle\"></i> Possible failure detected!\n    </div>\n\n    <failure-detection-gauge :normalized-p=\"normalizedP\" />\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { getNormalizedP } from '@src/lib/utils'\nimport VideoBox from '@src/components/VideoBox'\nimport FailureDetectionGauge from '@src/components/FailureDetectionGauge'\n\nexport default {\n  name: 'FullScreenPrintCard',\n  components: {\n    VideoBox,\n    FailureDetectionGauge,\n  },\n  props: {\n    print: {\n      type: Object,\n      required: true,\n    },\n    videoUrl: {\n      type: String,\n      required: true,\n    },\n    initialPosition: {\n      type: Number,\n      default: () => 0,\n    },\n    autoplay: {\n      type: Boolean,\n      default: () => false,\n    },\n    isPublic: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      currentPosition: 0,\n      predictions: [],\n    }\n  },\n  computed: {\n    normalizedP() {\n      return getNormalizedP(this.predictions, this.currentPosition, this.isPublic)\n    },\n  },\n  mounted() {\n    if (this.print.prediction_json_url) {\n      this.fetchPredictions()\n    }\n  },\n  methods: {\n    onTimeUpdate(currentPosition) {\n      this.currentPosition = currentPosition\n    },\n\n    fetchPredictions() {\n      axios.get(this.print.prediction_json_url).then((response) => {\n        this.predictions = response.data\n      })\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.bg-warning.alert-banner\n  position: static\n  display: block\n  padding: 0.3rem\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullScreenPrintCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullScreenPrintCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FullScreenPrintCard.vue?vue&type=template&id=749e3f52&scoped=true&\"\nimport script from \"./FullScreenPrintCard.vue?vue&type=script&lang=js&\"\nexport * from \"./FullScreenPrintCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FullScreenPrintCard.vue?vue&type=style&index=0&id=749e3f52&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"749e3f52\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <page-layout>\n    <template #topBarLeft>\n      <div class=\"actions-with-selected-desktop\">\n        <b-form-group class=\"m-0\">\n          <b-form-checkbox v-model=\"allPrintsSelected\" size=\"lg\"></b-form-checkbox>\n        </b-form-group>\n        <div>\n          <span\n            v-show=\"!selectedPrintIds.size\"\n            class=\"label\"\n            @click=\"allPrintsSelected = !allPrintsSelected\"\n            >Select all</span\n          >\n          <b-dropdown\n            v-show=\"selectedPrintIds.size\"\n            class=\"\"\n            toggle-class=\"btn btn-sm actions-with-selected-btn\"\n          >\n            <template #button-content>\n              {{ selectedPrintIds.size }} item{{ selectedPrintIds.size === 1 ? '' : 's' }}\n              selected...\n            </template>\n            <b-dropdown-item>\n              <div class=\"text-danger\" @click=\"onDeleteBtnClick\">\n                <i class=\"far fa-trash-alt\"></i>Delete\n              </div>\n            </b-dropdown-item>\n          </b-dropdown>\n        </div>\n      </div>\n    </template>\n    <template #topBarRight>\n      <div>\n        <a\n          href=\"/prints/upload/\"\n          class=\"btn shadow-none icon-btn d-none d-md-inline\"\n          title=\"Upload Time-Lapse\"\n        >\n          <i class=\"fas fa-upload\"></i>\n        </a>\n        <b-dropdown right no-caret toggle-class=\"icon-btn\">\n          <template #button-content>\n            <i class=\"fas fa-ellipsis-v\"></i>\n          </template>\n          <b-dropdown-item href=\"/prints/upload/\" class=\"d-md-none\">\n            <i class=\"fas fa-upload\"></i>Upload Time-Lapse\n          </b-dropdown-item>\n          <b-dropdown-divider class=\"d-md-none\"></b-dropdown-divider>\n\n          <cascaded-dropdown\n            :menu-options=\"menuOptions\"\n            :menu-selections=\"menuSelections\"\n            @menuSelectionChanged=\"menuSelectionChanged\"\n          >\n          </cascaded-dropdown>\n        </b-dropdown>\n      </div>\n    </template>\n    <template #content>\n      <a v-if=\"shouldShowFilterWarning\" class=\"active-filter-notice\" @click=\"onShowAllClicked\">\n        <div class=\"filter\">\n          <i class=\"fas fa-filter mr-2\"></i>\n          {{ activeFiltering }}\n        </div>\n        <div>SHOW ALL</div>\n      </a>\n      <b-container>\n        <b-row v-show=\"prints.length\" class=\"print-cards\">\n          <print-card\n            v-for=\"print of visiblePrints\"\n            :key=\"print.id\"\n            :print=\"print\"\n            :selected=\"selectedPrintIds.has(print.id)\"\n            @selectedChanged=\"onSelectedChanged\"\n            @printDeleted=\"onPrintDeleted\"\n            @printDataChanged=\"printDataChanged\"\n            @fullscreen=\"openFullScreen\"\n          ></print-card>\n        </b-row>\n\n        <mugen-scroll :handler=\"fetchMoreData\" :should-handle=\"!loading\" class=\"text-center p-4\">\n          <div v-if=\"noMoreData\" class=\"text-center p-2\">No more time-lapses.</div>\n          <b-spinner v-if=\"!noMoreData\" label=\"Loading...\"></b-spinner>\n        </mugen-scroll>\n\n        <b-modal\n          id=\"tl-fullscreen-modal\"\n          size=\"full\"\n          :hide-header=\"true\"\n          :hide-footer=\"true\"\n          @hidden=\"fullScreenClosed\"\n        >\n          <FullScreenPrintCard\n            :print=\"fullScreenPrint\"\n            :video-url=\"fullScreenPrintVideoUrl\"\n            :autoplay=\"true\"\n          />\n        </b-modal>\n      </b-container>\n    </template>\n  </page-layout>\n</template>\n\n<script>\nimport axios from 'axios'\nimport findIndex from 'lodash/findIndex'\nimport MugenScroll from 'vue-mugen-scroll'\nimport map from 'lodash/map'\nimport urls from '@config/server-urls'\nimport { normalizedPrint } from '@src/lib/normalizers'\nimport { getLocalPref, setLocalPref } from '@src/lib/pref'\nimport PrintCard from '@src/components/prints/PrintCard.vue'\nimport FullScreenPrintCard from '@src/components/prints/FullScreenPrintCard.vue'\nimport PageLayout from '@src/components/PageLayout.vue'\nimport CascadedDropdown from '@src/components/CascadedDropdown'\n\nconst LOCAL_PREF_NAMES = {\n  filtering: 'prints-filtering',\n  sorting: 'prints-sorting',\n}\nconst PAGE_SIZE = 6\n\nexport default {\n  name: 'PrintsPage',\n\n  components: {\n    MugenScroll,\n    PrintCard,\n    FullScreenPrintCard,\n    PageLayout,\n    CascadedDropdown,\n  },\n\n  data: function () {\n    return {\n      prints: [],\n      selectedPrintIds: new Set(),\n      loading: false,\n      noMoreData: false,\n      fullScreenPrint: null,\n      fullScreenPrintVideoUrl: null,\n      menuSelections: {\n        'Sort By': getLocalPref(LOCAL_PREF_NAMES.sorting, 'date_desc'),\n        'Filter By': getLocalPref(LOCAL_PREF_NAMES.filtering, 'none'),\n      },\n      menuOptions: {\n        'Sort By': {\n          iconClass: 'fas fa-sort-amount-up',\n          options: [\n            { value: 'date_asc', title: 'Oldest First', iconClass: 'fas fa-long-arrow-alt-up' },\n            { value: 'date_desc', title: 'Newest First', iconClass: 'fas fa-long-arrow-alt-down' },\n          ],\n        },\n        'Filter By': {\n          iconClass: 'fas fa-filter',\n          options: [\n            { value: 'none', title: 'All' },\n            { value: 'finished', title: 'Succeeded' },\n            { value: 'cancelled', title: 'Cancelled' },\n            { value: 'need_alert_overwrite', title: 'Review Needed' },\n            { value: 'need_print_shot_feedback', title: 'Focused-Review Needed' },\n          ],\n        },\n      },\n    }\n  },\n\n  computed: {\n    visiblePrints() {\n      return this.prints.filter((p) => p.ended_at)\n    },\n    allPrintsSelected: {\n      get: function () {\n        return this.selectedPrintIds.size >= this.prints.length && this.prints.length !== 0\n      },\n      set: function (selected) {\n        if (selected) {\n          this.selectedPrintIds = new Set(map(this.prints, 'id'))\n        } else {\n          this.selectedPrintIds = new Set()\n        }\n      },\n    },\n    shouldShowFilterWarning() {\n      return this.menuSelections['Filter By'] !== 'none'\n    },\n    activeFiltering() {\n      const found = this.menuOptions['Filter By'].options.filter(\n        (option) => option.value === this.menuSelections['Filter By']\n      )\n      return found.length ? found[0].title : null\n    },\n  },\n\n  created() {\n    this.refetchData()\n  },\n\n  methods: {\n    fetchMoreData() {\n      if (this.noMoreData) {\n        return\n      }\n      this.loading = true\n      axios\n        .get(urls.prints(), {\n          params: {\n            start: this.prints.length,\n            limit: PAGE_SIZE,\n            filter: this.menuSelections['Filter By'],\n            sorting: this.menuSelections['Sort By'],\n          },\n        })\n        .then((response) => {\n          this.loading = false\n          this.noMoreData = response.data.length < PAGE_SIZE\n          this.prints.push(...response.data.map((data) => normalizedPrint(data)))\n        })\n    },\n    refetchData() {\n      this.prints = []\n      this.selectedPrintIds = new Set()\n      this.noMoreData = false\n      this.fetchMoreData()\n    },\n    onSelectedChanged(printId, selected) {\n      const selectedPrintIdsClone = new Set(this.selectedPrintIds)\n      if (selected) {\n        selectedPrintIdsClone.add(printId)\n      } else {\n        selectedPrintIdsClone.delete(printId)\n      }\n      this.selectedPrintIds = selectedPrintIdsClone\n    },\n    menuSelectionChanged(menu, selectedOption) {\n      this.$set(this.menuSelections, menu, selectedOption.value)\n      const prefName = menu === 'Sort By' ? LOCAL_PREF_NAMES.sorting : LOCAL_PREF_NAMES.filtering\n      setLocalPref(prefName, selectedOption.value)\n      this.refetchData()\n    },\n    onDeleteBtnClick() {\n      const selectedPrintIds = Array.from(this.selectedPrintIds)\n      this.$swal.Prompt.fire({\n        title: 'Are you sure?',\n        text: `Delete ${this.selectedPrintIds.size} print(s)? This action can not be undone.`,\n        showCancelButton: true,\n        confirmButtonText: 'Yes',\n        cancelButtonText: 'No',\n      }).then((userAction) => {\n        if (userAction.isConfirmed) {\n          axios.post(urls.printsBulkDelete(), { print_ids: selectedPrintIds }).then(() => {\n            selectedPrintIds.forEach((printId) => this.onPrintDeleted(printId, false))\n            this.$swal.Toast.fire({\n              title: `${selectedPrintIds.length} time-lapse(s) deleted!`,\n            })\n            this.selectedPrintIds = new Set()\n          })\n        }\n      })\n    },\n    onPrintDeleted(printId, toast = true) {\n      const i = findIndex(this.prints, (p) => p.id == printId)\n      const print = this.prints[i]\n      this.$delete(this.prints, i)\n      if (toast) {\n        this.$swal.Toast.fire({\n          title: `Time-lapse ${print.filename} deleted!`,\n        })\n      }\n    },\n    printDataChanged(data) {\n      const i = findIndex(this.prints, (p) => p.id == data.id)\n      this.$set(this.prints, i, normalizedPrint(data))\n    },\n    openFullScreen(printId, videoUrl) {\n      const i = findIndex(this.prints, (p) => p.id == printId)\n      if (i != -1) {\n        this.fullScreenPrint = this.prints[i]\n        this.fullScreenPrintVideoUrl = videoUrl\n        this.$bvModal.show('tl-fullscreen-modal')\n      }\n    },\n    fullScreenClosed() {\n      this.fullScreenPrint = null\n      this.fullScreenPrintVideoUrl = null\n    },\n    onShowAllClicked() {\n      this.$set(this.menuSelections, 'Filter By', 'none')\n      setLocalPref(LOCAL_PREF_NAMES.filtering, 'none')\n      this.refetchData()\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.print-cards\n  margin-top: calc(var(--gap-between-blocks) * -1)\n.menu-bar\n  background-color: var(--color-surface-secondary)\n  padding: 0.75rem 1.25rem\n#tl-fullscreen-modal\n  .modal-full\n    max-width: 100%\n  .modal-body\n    padding: 0\n  .video-js\n    height: calc(100vh - 200px)\n::v-deep .btn-outline-secondary\n  color: var(--color-text-primary)\n  border-color: var(--color-text-primary)\n  &:hover\n    background: none\n    opacity: .8\n.actions-with-selected-desktop\n  display: flex\n  align-items: center\n  .label\n    cursor: pointer\n  ::v-deep .actions-with-selected-btn\n    border-radius: 0\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintsPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintsPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrintsPage.vue?vue&type=template&id=542d3cfc&scoped=true&\"\nimport script from \"./PrintsPage.vue?vue&type=script&lang=js&\"\nexport * from \"./PrintsPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrintsPage.vue?vue&type=style&index=0&id=542d3cfc&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"542d3cfc\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('page-layout',{scopedSlots:_vm._u([{key:\"content\",fn:function(){return [(_vm.isLoading)?_c('loading-placeholder'):_c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-row',[_c('b-col',{attrs:{\"lg\":\"5\"}},[_c('div',{staticClass:\"print-info\"},[_c('div',{staticClass:\"card-container file\"},[_c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-file-code\"})]),_c('div',{staticClass:\"info overflow-truncated-parent\"},[_c('div',{staticClass:\"title overflow-truncated\"},[_vm._v(_vm._s(_vm.print.filename))]),(_vm.print.g_code_file)?_c('div',{staticClass:\"subtitle text-secondary overflow-truncated\"},[_c('span',[_vm._v(_vm._s(_vm.print.g_code_file.filesize))]),(_vm.print.g_code_file.created_at)?_c('span',[_vm._v(\", created \"+_vm._s(_vm.print.g_code_file.created_at.fromNow()))]):_vm._e()]):_vm._e()]),(_vm.print.g_code_file)?_c('div',{staticClass:\"action\"},[_c('a',{staticClass:\"btn btn-secondary\",attrs:{\"href\":`/g_code_files/cloud/${_vm.print.g_code_file.id}/`}},[_vm._v(\"Open file\")])]):_vm._e()]),_c('div',{staticClass:\"card-container printer\"},[_c('div',{staticClass:\"icon\"},[_c('svg',{staticStyle:{\"margin-bottom\":\"5px\"},attrs:{\"width\":\"1em\",\"height\":\"1em\"}},[_c('use',{attrs:{\"href\":\"#svg-3d-printer\"}})])]),_c('div',{staticClass:\"info overflow-truncated-parent\"},[_c('div',{staticClass:\"title overflow-truncated\"},[_vm._v(_vm._s(_vm.print.printer.name))]),_c('div',{staticClass:\"subtitle overflow-truncated\",class:[\n                    _vm.printer\n                      ? _vm.printer.isPrintable()\n                        ? 'text-success'\n                        : 'text-warning'\n                      : 'text-danger',\n                  ]},[_vm._v(\" \"+_vm._s(_vm.printer ? _vm.printer.printabilityText() : 'Deleted')+\" \")])]),(_vm.printer)?_c('div',{staticClass:\"action\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"disabled\":!_vm.printer.isPrintable()},on:{\"click\":_vm.onRepeatPrintClicked}},[(_vm.isSending)?_c('b-spinner',{attrs:{\"small\":\"\"}}):_c('span',[_vm._v(\"Repeat print\")])],1)]):_vm._e()]),_c('div',{staticClass:\"card-container\"},[_c('div',{staticClass:\"info-line\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Status\")]),_c('div',{staticClass:\"value\"},[_c('div',{staticClass:\"print-status\",class:_vm.print.status.key},[_vm._v(\" \"+_vm._s(_vm.print.status.title)+\" \")])])]),_c('div',{staticClass:\"info-line\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Start time\")]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.print.started_at.format(_vm.absoluteDateFormat)))])]),_c('div',{staticClass:\"info-line\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"End time\")]),_c('div',{staticClass:\"value\"},[_vm._v(\" \"+_vm._s(_vm.print.ended_at ? _vm.print.ended_at.format(_vm.absoluteDateFormat) : '-')+\" \")])]),_c('div',{staticClass:\"info-line\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Duration\")]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.print.duration ? _vm.print.duration : '-'))])])])])]),_c('b-col',{staticClass:\"mt-3 mt-lg-0\",attrs:{\"lg\":\"7\"}},[_c('div',{staticClass:\"time-lapse\"},[(_vm.print.video_archived_at)?_c('div',{staticClass:\"card-container\"},[_c('h2',{staticClass:\"title\"},[_vm._v(\"Time-Lapse video deleted\")]),_c('p',[_vm._v(\" Time-lapse videos older than 6-months are deleted from the Obico app server as they are rarely needed and cost significant amount to store in the cloud. \")]),_c('p',[_vm._v(\" If you are a Pro subscriber and you don't want your time-lapse videos to be deleted, please \"),_c('a',{attrs:{\"href\":\"mailto:support@obico.io?subject=Please%20keep%20my%20timelapse%20videos\"}},[_vm._v(\"contact us\")]),_vm._v(\". \")])]):(_vm.print.video_url || _vm.print.tagged_video_url)?_c('div',[_c('b-card',{attrs:{\"no-body\":\"\"}},[_c('b-tabs',{attrs:{\"pills\":\"\",\"card\":\"\"}},[_c('b-tab',{attrs:{\"title\":\"Detective Time-Lapse\",\"disabled\":!_vm.canShowDetectiveView}},[_c('b-card-text',[(_vm.print.tagged_video_url)?_c('div',{class:{\n                          'is-fullscreen':\n                            !!_vm.fullscreenUrl && _vm.fullscreenUrl === _vm.print.tagged_video_url,\n                        }},[_c('div',{staticClass:\"video-wrapper\"},[_c('video-box',{attrs:{\"video-url\":_vm.print.tagged_video_url,\"poster-url\":_vm.print.poster_url,\"fluid\":false,\"fullscreen-btn\":_vm.fullscreenUrl === null,\"exit-fullscreen-btn\":_vm.fullscreenUrl !== null,\"download-btn\":true},on:{\"timeupdate\":_vm.onTimeUpdate,\"fullscreen\":() => _vm.enterFullscreen(_vm.print.tagged_video_url),\"exitFullscreen\":_vm.exitFullscreen,\"download\":() => _vm.downloadFile(_vm.print.tagged_video_url, `${_vm.print.id}_tagged.mp4`)}})],1),_c('div',{staticClass:\"detective-footer\"},[(_vm.print.prediction_json_url)?_c('failure-detection-gauge',{attrs:{\"normalized-p\":_vm.normalizedP}}):_vm._e(),_c('div',{staticClass:\"feedback-section\"},[_c('div',{staticClass:\"lead\",class:[_vm.print.alerted_at ? 'text-danger' : 'text-success']},[_vm._v(\" \"+_vm._s(_vm.print.alerted_at ? 'Failure detected' : 'No failure detected')+\" \")]),_c('div',{staticClass:\"py-2\"},[_vm._v(\" Did we get it right? \"),_c('b-button',{staticClass:\"mx-2 btn-sm\",attrs:{\"variant\":_vm.thumbedUp ? 'primary' : 'outline'},on:{\"click\":_vm.onThumbUpClick}},[(_vm.inflightAlertOverwrite)?_c('b-spinner',{attrs:{\"type\":\"grow\",\"small\":\"\"}}):_c('i',{staticClass:\"fas fa-thumbs-up\"})],1),_c('b-button',{staticClass:\"mx-2 btn-sm\",attrs:{\"variant\":_vm.thumbedDown ? 'primary' : 'outline'},on:{\"click\":_vm.onThumbDownClick}},[(_vm.inflightAlertOverwrite)?_c('b-spinner',{attrs:{\"type\":\"grow\",\"small\":\"\"}}):_c('i',{staticClass:\"fas fa-thumbs-down\"})],1)],1),_c('transition',{attrs:{\"name\":\"bounce\"}},[(_vm.print.printShotFeedbackEligible)?_c('div',{staticClass:\"pt-2\"},[_c('b-button',{attrs:{\"variant\":\"outline-primary\",\"size\":\"sm\",\"href\":`/prints/shot-feedback/${_vm.print.id}/`,\"target\":\"_blank\"}},[(!_vm.print.need_print_shot_feedback)?_c('i',{staticClass:\"fas fa-check mr-2\"}):_vm._e(),_vm._v(\" FOCUSED FEEDBACK \")])],1):_vm._e()]),_c('div',{staticClass:\"about-feedback\"},[(_vm.print.printShotFeedbackEligible)?_c('small',[(!_vm.print.need_print_shot_feedback)?_c('span',[_vm._v(\" Thank you for completing the Focused Feedback. You have earned 2 non-expirable AI Detection Hours. You can click the button again to change your feedback. \")]):_c('span',[_vm._v(\" With Focused Feedback, you can tell us exactly where we got it wrong. This is the most effective way to help us improve. \"),_c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/how-does-credits-work#you-earn-detective-hours-for-giving-focused-feedback\",\"target\":\"_blank\"}},[_vm._v(\" You will earn 2 AI Detection Hours once you finish the Focused Feedback \")])])]):_c('small',[_vm._v(\" Every time you give us feedback, \"),_c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/how-does-credits-work/\",\"target\":\"_blank\"}},[_vm._v(\" you help us get better at detecting failures \")])])])],1)],1)]):_c('div',[_c('detective-working',{staticClass:\"detective-placeholder\"})],1)])],1),(_vm.print.video_url)?_c('b-tab',{attrs:{\"active\":!_vm.print.tagged_video_url,\"title\":\"Original Time-Lapse\"}},[_c('b-card-text',[_c('div',{class:{\n                          'is-fullscreen original':\n                            !!_vm.fullscreenUrl && _vm.fullscreenUrl === _vm.print.video_url,\n                        }},[_c('div',{staticClass:\"video-wrapper\"},[_c('video-box',{attrs:{\"video-url\":_vm.print.video_url,\"poster-url\":_vm.print.poster_url,\"fluid\":false,\"fullscreen-btn\":_vm.fullscreenUrl === null,\"exit-fullscreen-btn\":_vm.fullscreenUrl !== null,\"download-btn\":true},on:{\"timeupdate\":_vm.onTimeUpdate,\"fullscreen\":() => _vm.enterFullscreen(_vm.print.video_url),\"exitFullscreen\":_vm.exitFullscreen,\"download\":() => _vm.downloadFile(_vm.print.video_url, `${_vm.print.id}.mp4`)}})],1)])])],1):_vm._e()],1)],1)],1):_c('div',{staticClass:\"card-container\"},[_c('p',{staticClass:\"text-secondary mt-3\"},[_vm._v(\"Time-Lapse video unavailable because:\")]),_c('ul',[_c('li',{staticClass:\"text-secondary mt-3\"},[_vm._v(\" The Obico server is still processing the time-lapse; \")]),_c('li',{staticClass:\"text-secondary mt-3\"},[_vm._v(\" Or, the print time was shorter than the threshold. You can change the threshold in \"),_c('a',{attrs:{\"href\":`/printers/${_vm.print.printer.id}/`}},[_vm._v(\"the printer settings.\")])])])])])])],1)],1)]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","'use strict'\nimport assign from 'lodash/assign'\nimport Vue from 'vue'\nimport ifvisible from 'ifvisible'\nimport pako from 'pako'\nimport { toArrayBuffer } from '@src/lib/utils'\n\nexport default function PrinterComm(\n  printerId,\n  wsUri,\n  onPrinterUpdateReceived,\n  onStatusReceived = null\n) {\n  var self = {}\n\n  self.printerId = printerId\n  self.wsUri = wsUri\n  self.onPrinterUpdateReceived = onPrinterUpdateReceived\n  self.onStatusReceived = onStatusReceived\n\n  self.ws = null\n  self.webrtc = null\n  self.passthruQueue = new Map()\n\n  ifvisible.on('blur', function () {\n    self.closeWebSocket()\n  })\n\n  ifvisible.on('focus', function () {\n    self.connect()\n  })\n\n  self.onPassThruReceived = function (msg) {\n    const refId = msg.ref\n    if (refId && self.passthruQueue.get(refId)) {\n      const callback = self.passthruQueue.get(refId)\n      self.passthruQueue.delete(refId)\n      callback(null, msg.ret)\n    } else if ('printer_event' in msg) {\n      const printerEvent = msg.printer_event\n      Vue.swal.Toast.fire({\n        icon: printerEvent.event_class.toLowerCase(),\n        title: printerEvent.event_title,\n        html: printerEvent.event_text,\n      }).then((result) => {\n        if (result.isDismissed && result.dismiss === 'close') {\n          // SWAL returns 'close' as the reason when user clicks on the toast\n          window.location.href = '/printer_events/'\n        }\n      })\n    }\n  }\n\n  self.connect = function (onOpenCallback = null) {\n    self.ws = new WebSocket(\n      window.location.protocol.replace('http', 'ws') + '//' + window.location.host + self.wsUri\n    )\n    self.ws.onmessage = function (e) {\n      let msg = {}\n      try {\n        msg = JSON.parse(e.data)\n      } catch (error) {\n        console.log(e.data)\n        throw error\n      }\n      if ('passthru' in msg) {\n        self.onPassThruReceived(msg.passthru)\n      } else {\n        onPrinterUpdateReceived(msg)\n      }\n    }\n\n    if (onOpenCallback) {\n      self.ws.onopen = onOpenCallback\n    }\n\n    self.ensureWebsocketClosed()\n    setTimeout(function () {\n      self.heartbeat()\n    }, 30 * 1000)\n  }\n\n  self.setWebRTC = function (webrtc) {\n    self.webrtc = webrtc\n\n    function parseJsonData(jsonData) {\n      let msg = {}\n      try {\n        msg = JSON.parse(jsonData)\n      } catch (error) {\n        // Any garbage sent to the Janus UDP port will be forwarded here.\n        return\n      }\n\n      if (msg && 'ref' in msg && 'ret' in msg) {\n        self.onPassThruReceived(msg)\n        return\n      }\n\n      if (self.onStatusReceived) {\n        self.onStatusReceived(msg)\n      }\n    }\n\n    self.webrtc.setCallbacks({\n      onData: (maybeBin) => {\n        if (typeof maybeBin === 'string' || maybeBin instanceof String) {\n          parseJsonData(maybeBin)\n        } else {\n          toArrayBuffer(maybeBin, (arrayBuffer) => {\n            parseJsonData(pako.ungzip(new Uint8Array(arrayBuffer), { to: 'string' }))\n          })\n        }\n      },\n    })\n  }\n\n  self.passThruToPrinter = function (msg, callback) {\n    if (self.canSend()) {\n      var refId = Math.random().toString()\n      assign(msg, { ref: refId })\n      if (callback) {\n        self.passthruQueue.set(refId, callback)\n        setTimeout(function () {\n          if (self.passthruQueue.has(refId)) {\n            Vue.swal.Toast.fire({\n              icon: 'error',\n              title:\n                'Failed to contact OctoPrint, or the Obico plugin version is older than 1.2.0.',\n            })\n          }\n        }, 10 * 1000)\n      }\n      if (self.webrtc) {\n        self.webrtc.sendData(JSON.stringify(msg))\n      }\n      self.ws.send(JSON.stringify({ passthru: msg }))\n    } else {\n      if (callback) {\n        callback('Message not passed through. No suitable WebSocket.')\n      }\n    }\n  }\n\n  // Helper methods\n\n  self.ensureWebsocketClosed = function () {\n    self.ws.onclose = function (ev) {\n      if (self.ws === ev.target) {\n        self.ws = null\n      }\n    }\n    self.ws.onerror = function () {\n      if (self.ws) {\n        self.ws.close()\n      }\n    }\n  }\n\n  self.closeWebSocket = function () {\n    if (self.ws) {\n      self.ws.close()\n    }\n  }\n\n  // Heartbeat to maintain the presence of connection\n  // Adapted from https://stackoverflow.com/questions/50876766/how-to-implement-ping-pong-request-for-websocket-connection-alive-in-javascript\n\n  self.heartbeat = function () {\n    if (!self.canSend()) {\n      return\n    }\n    self.ws.send(JSON.stringify({}))\n    setTimeout(function () {\n      self.heartbeat()\n    }, 30 * 1000)\n  }\n\n  self.canSend = function () {\n    return self.ws && self.ws.readyState === 1\n  }\n\n  return self\n}\n","import { toMomentOrNull } from '@src/lib/normalizers'\nimport filesize from 'filesize'\nimport _ from 'lodash'\n\nexport function listPrinterLocalGCodesOctoPrint(printerComm, path, searchKeyword) {\n  const listRecoursively = (fileObj) => {\n    const fileList = []\n    for (const item of Object.values(fileObj)) {\n      if (item.children) {\n        fileList.push(...listRecoursively(item.children))\n      } else {\n        fileList.push(item)\n      }\n    }\n    return fileList\n  }\n\n  return new Promise((resolve, reject) => {\n    let kwargs\n    if (searchKeyword) {\n      // In OctoPrint we can do global search for better user experience. Hence path is ignored\n      kwargs = { filter: String(searchKeyword), recursive: true }\n    } else {\n      kwargs = { path: path, recursive: false, level: 1 } // Return 1 level children so that we can do item count\n    }\n\n    printerComm.passThruToPrinter(\n      {\n        func: 'list_files',\n        target: '_file_manager',\n        kwargs,\n      },\n      (err, ret) => {\n        if (err || ret?.error) {\n          reject(err || ret?.error || 'Something went wrong!')\n        }\n\n        let folders = []\n        let files = []\n\n        if (!ret?.local || !Object.keys(ret.local).length) {\n          resolve()\n          return\n        }\n\n        // ObicoUpload is used to cache Obico Cloud files and should be hidden from the users\n        delete ret.local.ObicoUpload\n\n        const items = searchKeyword ? listRecoursively(ret.local) : Object.values(ret.local)\n        for (const item of items) {\n          if (item.type === 'folder') {\n            folders.push({\n              id: item.path,\n              path: item.path,\n              name: item.display,\n              numItems: Object.keys(item.children).length,\n            })\n          } else {\n            files.push({\n              ...item,\n              id: item.path,\n              filename: item.name,\n              num_bytes: item.size,\n              filesize: filesize(item.size),\n              created_at: toMomentOrNull(new Date(item.date * 1000)),\n            })\n          }\n        }\n        resolve({ folders, files })\n      }\n    )\n  })\n}\n\nexport function listPrinterLocalGCodesMoonraker(printerComm, path, searchKeyword) {\n  return new Promise((resolve, reject) => {\n    const pathPrefix = path == null ? '' : `${path}/`\n    printerComm.passThruToPrinter(\n      {\n        target: 'moonraker_api',\n        func: 'server/files/directory',\n        kwargs: {\n          path: `gcodes/${path ? path : ''}`,\n          extended: true,\n        },\n      },\n      (err, ret) => {\n        if (err || ret?.error) {\n          reject(err || ret?.error || 'Something went wrong!')\n        }\n        // subdirs should be ignored when user is searching\n        const dirsInServerFormat = searchKeyword\n          ? []\n          : _.map(\n              _.filter(\n                _.get(ret, 'dirs', []),\n                (d) => !d.dirname.startsWith('.') && !d.dirname.startsWith('Obico_Upload')\n              ),\n              (d) => {\n                const path = `${pathPrefix}${d.dirname}`\n                return {\n                  name: d.dirname,\n                  id: path,\n                  path,\n                  children: [], // To signify this is a folder, not a file\n                }\n              }\n            )\n\n        const filesInServerFormat = _.map(\n          _.filter(\n            _.get(ret, 'files', []),\n            (f) =>\n              !f.filename.startsWith('.') &&\n              (!searchKeyword || f.filename.toLowerCase().includes(searchKeyword.toLowerCase()))\n          ),\n          (f) => {\n            return {\n              ...f,\n              num_bytes: f.size,\n              filesize: filesize(f.size),\n              created_at: toMomentOrNull(new Date(f.modified * 1000)),\n              path: `${pathPrefix}${f.filename}`,\n            }\n          }\n        )\n        resolve({ folders: dirsInServerFormat, files: filesInServerFormat })\n      }\n    )\n  })\n}\n\nexport function printPrinterLocalGCodeOctoPrint(printerComm, gcode) {\n  return new Promise((resolve, reject) => {\n    const path = gcode.path\n    printerComm.passThruToPrinter(\n      {\n        func: 'select_file',\n        target: '_printer',\n        args: [`${path}`, null],\n        kwargs: { printAfterSelect: 'true' },\n      },\n      (err, ret) => {\n        if (err || ret?.error) {\n          reject(ret?.error || 'Something went wrong!')\n        } else {\n          resolve()\n        }\n      }\n    )\n  })\n}\n\nexport function printPrinterLocalGCodeMoonraker(printerComm, gcode) {\n  return new Promise((resolve, reject) => {\n    const path = gcode.path\n    printerComm.passThruToPrinter(\n      {\n        target: 'moonraker_api',\n        func: 'printer/print/start',\n        kwargs: {\n          verb: 'post',\n          filename: path,\n        },\n      },\n      (err, ret) => {\n        if (err || ret?.error) {\n          reject(ret?.error || 'Something went wrong!')\n        } else {\n          resolve()\n        }\n      }\n    )\n  })\n}\n","import axios from 'axios'\nimport get from 'lodash/get'\n\nimport PrinterComm from '@src/lib/printer-comm'\nimport {\n  printPrinterLocalGCodeOctoPrint,\n  printPrinterLocalGCodeMoonraker,\n} from '@src/lib/printer-local-comm'\nimport urls from '@config/server-urls'\n\nexport function printCloudGCode(printerComm, gcode) {\n  return new Promise((resolve, reject) => {\n    printerComm.passThruToPrinter(\n      {\n        func: 'download',\n        target: 'file_downloader',\n        args: [gcode],\n      },\n      (err, ret) => {\n        if (err || ret?.error) {\n          reject(ret?.error || 'Something went wrong!')\n        } else {\n          resolve()\n        }\n      }\n    )\n  })\n}\n\nexport const sendToPrint = (args) => {\n  const {\n    printerId,\n    gcode,\n    isCloud,\n    Swal,\n    onCommandSent,\n    onPrinterStatusChanged,\n    isAgentMoonraker = false,\n  } = args\n\n  const printerComm = PrinterComm(\n    printerId,\n    urls.printerWebSocket(printerId),\n    (data) => {},\n    (printerStatus) => {}\n  )\n  printerComm.connect(() => {\n    const printGCode = isCloud\n      ? printCloudGCode\n      : isAgentMoonraker\n      ? printPrinterLocalGCodeMoonraker\n      : printPrinterLocalGCodeOctoPrint\n    printGCode(printerComm, gcode).catch((err) => {\n      Swal.Toast.fire({\n        icon: 'error',\n        title: err,\n      })\n    })\n  })\n\n  onCommandSent && onCommandSent()\n\n  Swal.Prompt.fire({\n    html: `\n        <div class=\"text-center\">\n          <i class=\"fas fa-spinner fa-spin fa-lg py-3\"></i>\n          <h5 class=\"pt-3\">\n            Starting the print...\n          </h5>\n        </div>\n      `,\n    showConfirmButton: false,\n  })\n\n  const checkPrinterStatus = async () => {\n    let printer\n    try {\n      printer = await axios.get(urls.printer(printerId))\n      printer = printer.data\n    } catch (e) {\n      console.error(e)\n      return\n    }\n\n    if (get(printer, 'status.state.text') === 'Operational') {\n      setTimeout(checkPrinterStatus, 1000)\n    } else {\n      Swal.close()\n      onPrinterStatusChanged && onPrinterStatusChanged()\n    }\n  }\n\n  checkPrinterStatus()\n}\n\nconst REDIRECT_TIMER = 3000\nexport const showRedirectModal = (Swal, onClose) => {\n  let timerInterval\n  Swal.Prompt.fire({\n    html: `\n      <div class=\"text-center\">\n        <h5 class=\"py-3\">\n          You'll be redirected to printers page in <strong>${Math.round(\n            REDIRECT_TIMER / 1000\n          )}</strong> seconds\n        </h5>\n      </div>\n    `,\n    timer: REDIRECT_TIMER,\n    showConfirmButton: true,\n    showCancelButton: true,\n    confirmButtonText: 'Redirect now',\n    onOpen: () => {\n      timerInterval = setInterval(() => {\n        Swal.getHtmlContainer().querySelector('strong').textContent = (\n          Swal.getTimerLeft() / 1000\n        ).toFixed(0)\n      }, 1000)\n    },\n    onClose: () => {\n      clearInterval(timerInterval)\n      timerInterval = null\n    },\n  }).then((result) => {\n    if (result.isConfirmed || result.dismiss === 'timer') {\n      window.location.assign('/printers/')\n    } else {\n      onClose && onClose()\n    }\n  })\n}\n","<template>\n  <page-layout>\n    <template #content>\n      <loading-placeholder v-if=\"isLoading\" />\n      <b-container v-else fluid>\n        <b-row>\n          <b-col lg=\"5\">\n            <div class=\"print-info\">\n              <!-- File -->\n              <div class=\"card-container file\">\n                <div class=\"icon\">\n                  <i class=\"fas fa-file-code\"></i>\n                </div>\n                <div class=\"info overflow-truncated-parent\">\n                  <div class=\"title overflow-truncated\">{{ print.filename }}</div>\n                  <div v-if=\"print.g_code_file\" class=\"subtitle text-secondary overflow-truncated\">\n                    <span>{{ print.g_code_file.filesize }}</span>\n                    <span v-if=\"print.g_code_file.created_at\"\n                      >, created {{ print.g_code_file.created_at.fromNow() }}</span\n                    >\n                  </div>\n                </div>\n                <div v-if=\"print.g_code_file\" class=\"action\">\n                  <a\n                    class=\"btn btn-secondary\"\n                    :href=\"`/g_code_files/cloud/${print.g_code_file.id}/`\"\n                    >Open file</a\n                  >\n                </div>\n              </div>\n              <!-- Printer -->\n              <div class=\"card-container printer\">\n                <div class=\"icon\">\n                  <svg width=\"1em\" height=\"1em\" style=\"margin-bottom: 5px\">\n                    <use href=\"#svg-3d-printer\" />\n                  </svg>\n                </div>\n                <div class=\"info overflow-truncated-parent\">\n                  <div class=\"title overflow-truncated\">{{ print.printer.name }}</div>\n                  <div\n                    class=\"subtitle overflow-truncated\"\n                    :class=\"[\n                      printer\n                        ? printer.isPrintable()\n                          ? 'text-success'\n                          : 'text-warning'\n                        : 'text-danger',\n                    ]\"\n                  >\n                    {{ printer ? printer.printabilityText() : 'Deleted' }}\n                  </div>\n                </div>\n                <div v-if=\"printer\" class=\"action\">\n                  <button\n                    class=\"btn btn-primary\"\n                    :disabled=\"!printer.isPrintable()\"\n                    @click=\"onRepeatPrintClicked\"\n                  >\n                    <b-spinner v-if=\"isSending\" small />\n                    <span v-else>Repeat print</span>\n                  </button>\n                </div>\n              </div>\n              <div class=\"card-container\">\n                <div class=\"info-line\">\n                  <div class=\"title\">Status</div>\n                  <div class=\"value\">\n                    <div class=\"print-status\" :class=\"print.status.key\">\n                      {{ print.status.title }}\n                    </div>\n                  </div>\n                </div>\n                <div class=\"info-line\">\n                  <div class=\"title\">Start time</div>\n                  <div class=\"value\">{{ print.started_at.format(absoluteDateFormat) }}</div>\n                </div>\n                <div class=\"info-line\">\n                  <div class=\"title\">End time</div>\n                  <div class=\"value\">\n                    {{ print.ended_at ? print.ended_at.format(absoluteDateFormat) : '-' }}\n                  </div>\n                </div>\n                <div class=\"info-line\">\n                  <div class=\"title\">Duration</div>\n                  <div class=\"value\">{{ print.duration ? print.duration : '-' }}</div>\n                </div>\n              </div>\n            </div>\n          </b-col>\n          <b-col lg=\"7\" class=\"mt-3 mt-lg-0\">\n            <div class=\"time-lapse\">\n              <div v-if=\"print.video_archived_at\" class=\"card-container\">\n                <h2 class=\"title\">Time-Lapse video deleted</h2>\n                <p>\n                  Time-lapse videos older than 6-months are deleted from the Obico app server as\n                  they are rarely needed and cost significant amount to store in the cloud.\n                </p>\n                <p>\n                  If you are a Pro subscriber and you don't want your time-lapse videos to be\n                  deleted, please\n                  <a href=\"mailto:support@obico.io?subject=Please%20keep%20my%20timelapse%20videos\"\n                    >contact us</a\n                  >.\n                </p>\n              </div>\n              <div v-else-if=\"print.video_url || print.tagged_video_url\">\n                <b-card no-body>\n                  <b-tabs pills card>\n                    <b-tab title=\"Detective Time-Lapse\" :disabled=\"!canShowDetectiveView\">\n                      <b-card-text>\n                        <div\n                          v-if=\"print.tagged_video_url\"\n                          :class=\"{\n                            'is-fullscreen':\n                              !!fullscreenUrl && fullscreenUrl === print.tagged_video_url,\n                          }\"\n                        >\n                          <div class=\"video-wrapper\">\n                            <video-box\n                              :video-url=\"print.tagged_video_url\"\n                              :poster-url=\"print.poster_url\"\n                              :fluid=\"false\"\n                              :fullscreen-btn=\"fullscreenUrl === null\"\n                              :exit-fullscreen-btn=\"fullscreenUrl !== null\"\n                              :download-btn=\"true\"\n                              @timeupdate=\"onTimeUpdate\"\n                              @fullscreen=\"() => enterFullscreen(print.tagged_video_url)\"\n                              @exitFullscreen=\"exitFullscreen\"\n                              @download=\"\n                                () => downloadFile(print.tagged_video_url, `${print.id}_tagged.mp4`)\n                              \"\n                            />\n                          </div>\n                          <div class=\"detective-footer\">\n                            <failure-detection-gauge\n                              v-if=\"print.prediction_json_url\"\n                              :normalized-p=\"normalizedP\"\n                            />\n                            <div class=\"feedback-section\">\n                              <div\n                                class=\"lead\"\n                                :class=\"[print.alerted_at ? 'text-danger' : 'text-success']\"\n                              >\n                                {{ print.alerted_at ? 'Failure detected' : 'No failure detected' }}\n                              </div>\n                              <div class=\"py-2\">\n                                Did we get it right?\n                                <b-button\n                                  :variant=\"thumbedUp ? 'primary' : 'outline'\"\n                                  class=\"mx-2 btn-sm\"\n                                  @click=\"onThumbUpClick\"\n                                >\n                                  <b-spinner\n                                    v-if=\"inflightAlertOverwrite\"\n                                    type=\"grow\"\n                                    small\n                                  ></b-spinner>\n                                  <i v-else class=\"fas fa-thumbs-up\"></i>\n                                </b-button>\n                                <b-button\n                                  :variant=\"thumbedDown ? 'primary' : 'outline'\"\n                                  class=\"mx-2 btn-sm\"\n                                  @click=\"onThumbDownClick\"\n                                >\n                                  <b-spinner\n                                    v-if=\"inflightAlertOverwrite\"\n                                    type=\"grow\"\n                                    small\n                                  ></b-spinner>\n                                  <i v-else class=\"fas fa-thumbs-down\"></i>\n                                </b-button>\n                              </div>\n                              <transition name=\"bounce\">\n                                <div v-if=\"print.printShotFeedbackEligible\" class=\"pt-2\">\n                                  <b-button\n                                    variant=\"outline-primary\"\n                                    size=\"sm\"\n                                    :href=\"`/prints/shot-feedback/${print.id}/`\"\n                                    target=\"_blank\"\n                                  >\n                                    <i\n                                      v-if=\"!print.need_print_shot_feedback\"\n                                      class=\"fas fa-check mr-2\"\n                                    ></i>\n                                    FOCUSED FEEDBACK\n                                  </b-button>\n                                </div>\n                              </transition>\n\n                              <div class=\"about-feedback\">\n                                <small v-if=\"print.printShotFeedbackEligible\">\n                                  <span v-if=\"!print.need_print_shot_feedback\">\n                                    Thank you for completing the Focused Feedback. You have earned 2\n                                    non-expirable AI Detection Hours. You can click the button again\n                                    to change your feedback.\n                                  </span>\n                                  <span v-else>\n                                    With Focused Feedback, you can tell us exactly where we got it\n                                    wrong. This is the most effective way to help us improve.\n                                    <a\n                                      href=\"https://www.obico.io/docs/user-guides/how-does-credits-work#you-earn-detective-hours-for-giving-focused-feedback\"\n                                      target=\"_blank\"\n                                    >\n                                      You will earn 2 AI Detection Hours once you finish the Focused\n                                      Feedback\n                                    </a>\n                                  </span>\n                                </small>\n                                <small v-else>\n                                  Every time you give us feedback,\n                                  <a\n                                    href=\"https://www.obico.io/docs/user-guides/how-does-credits-work/\"\n                                    target=\"_blank\"\n                                  >\n                                    you help us get better at detecting failures\n                                  </a>\n                                </small>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                        <div v-else>\n                          <detective-working class=\"detective-placeholder\" />\n                        </div>\n                      </b-card-text>\n                    </b-tab>\n                    <b-tab\n                      v-if=\"print.video_url\"\n                      :active=\"!print.tagged_video_url\"\n                      title=\"Original Time-Lapse\"\n                    >\n                      <b-card-text>\n                        <div\n                          :class=\"{\n                            'is-fullscreen original':\n                              !!fullscreenUrl && fullscreenUrl === print.video_url,\n                          }\"\n                        >\n                          <div class=\"video-wrapper\">\n                            <video-box\n                              :video-url=\"print.video_url\"\n                              :poster-url=\"print.poster_url\"\n                              :fluid=\"false\"\n                              :fullscreen-btn=\"fullscreenUrl === null\"\n                              :exit-fullscreen-btn=\"fullscreenUrl !== null\"\n                              :download-btn=\"true\"\n                              @timeupdate=\"onTimeUpdate\"\n                              @fullscreen=\"() => enterFullscreen(print.video_url)\"\n                              @exitFullscreen=\"exitFullscreen\"\n                              @download=\"() => downloadFile(print.video_url, `${print.id}.mp4`)\"\n                            />\n                          </div>\n                        </div>\n                      </b-card-text>\n                    </b-tab>\n                  </b-tabs>\n                </b-card>\n              </div>\n              <div v-else class=\"card-container\">\n                <p class=\"text-secondary mt-3\">Time-Lapse video unavailable because:</p>\n                <ul>\n                  <li class=\"text-secondary mt-3\">\n                    The Obico server is still processing the time-lapse;\n                  </li>\n                  <li class=\"text-secondary mt-3\">\n                    Or, the print time was shorter than the threshold. You can change the threshold\n                    in\n                    <a :href=\"`/printers/${print.printer.id}/`\">the printer settings.</a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </b-col>\n        </b-row>\n      </b-container>\n    </template>\n  </page-layout>\n</template>\n\n<script>\nimport axios from 'axios'\nimport moment from 'moment'\nimport { getNormalizedP, downloadFile } from '@src/lib/utils'\nimport urls from '@config/server-urls'\nimport { normalizedPrint, PrintStatus, normalizedPrinter } from '@src/lib/normalizers'\nimport PageLayout from '@src/components/PageLayout.vue'\nimport VideoBox from '@src/components/VideoBox'\nimport DetectiveWorking from '@src/components/DetectiveWorking'\nimport FailureDetectionGauge from '@src/components/FailureDetectionGauge'\nimport { sendToPrint, showRedirectModal } from '@src/components/g-codes/sendToPrint'\n\nexport default {\n  name: 'PrintPage',\n\n  components: {\n    PageLayout,\n    VideoBox,\n    DetectiveWorking,\n    FailureDetectionGauge,\n  },\n\n  props: {\n    printId: {\n      type: Number,\n      required: true,\n    },\n  },\n\n  data: function () {\n    return {\n      PrintStatus,\n      absoluteDateFormat: 'MMM M, YYYY h:mm A',\n      data: {\n        print: undefined,\n        predictions: undefined,\n        printer: undefined,\n      },\n      isSending: false,\n      currentPosition: 0,\n      inflightAlertOverwrite: null,\n      fullscreenUrl: null,\n    }\n  },\n\n  computed: {\n    // shortcuts\n    print() {\n      return this.data.print\n    },\n    predictions() {\n      return this.data.predictions\n    },\n    printer() {\n      return this.data.printer\n    },\n\n    isLoading() {\n      return this.data.print === undefined || this.data.printer === undefined\n    },\n\n    normalizedP() {\n      return getNormalizedP(this.predictions, this.currentPosition, false)\n    },\n\n    canShowDetectiveView() {\n      if (this.print.prediction_json_url !== null && this.print.tagged_video_url !== null) {\n        return true\n      }\n      // Time-lapses that was uploaded within the past 24 hours are presumably still be processed\n      if (this.print.uploaded_at && moment().diff(this.print.uploaded_at, 'hours') < 24) {\n        return true\n      }\n      return false\n    },\n\n    thumbedUp() {\n      if (!this.print.alert_overwrite) {\n        return false\n      }\n      return this.print.has_alerts ^ (this.print.alert_overwrite === 'NOT_FAILED')\n    },\n\n    thumbedDown() {\n      if (!this.print.alert_overwrite) {\n        return false\n      }\n      return this.print.has_alerts ^ (this.print.alert_overwrite === 'FAILED')\n    },\n  },\n\n  created() {\n    this.fetchData()\n  },\n\n  mounted() {\n    const exitFullscreen = this.exitFullscreen\n    document.addEventListener('keydown', (event) => {\n      if (event.key === 'Escape') {\n        exitFullscreen()\n      }\n    })\n  },\n\n  methods: {\n    downloadFile,\n    async fetchData(clearPreviousData = true) {\n      if (clearPreviousData) {\n        for (const key of Object.keys(this.data)) {\n          this.data[key] = undefined\n        }\n      }\n\n      try {\n        const printResponse = await axios.get(urls.print(this.printId))\n        this.data.print = normalizedPrint(printResponse.data)\n\n        axios.get(this.print.prediction_json_url).then((response) => {\n          this.data.predictions = response.data\n        })\n\n        axios\n          .get(urls.printer(this.print.printer.id))\n          .then((response) => {\n            this.data.printer = normalizedPrinter(response.data)\n          })\n          .catch((error) => {\n            // Printer could be old and deleted from account (404 error)\n            this.data.printer = null\n            if (error?.response?.status !== 404) {\n              this._showErrorPopup(error, 'Failed to fetch printer information')\n            }\n          })\n      } catch (error) {\n        console.error(error)\n      }\n    },\n    onTimeUpdate(currentPosition) {\n      this.currentPosition = currentPosition\n    },\n    onThumbUpClick() {\n      this.inflightAlertOverwrite = this.print.has_alerts ? 'FAILED' : 'NOT_FAILED'\n      this.alertOverwrite(this.inflightAlertOverwrite)\n    },\n    onThumbDownClick() {\n      this.inflightAlertOverwrite = this.print.has_alerts ? 'NOT_FAILED' : 'FAILED'\n      this.alertOverwrite(this.inflightAlertOverwrite)\n    },\n    alertOverwrite(value) {\n      axios\n        .patch(urls.print(this.print.id), {\n          alert_overwrite: value,\n        })\n        .then((response) => {\n          this.inflightAlertOverwrite = null\n          this.fetchData(false)\n        })\n    },\n    onRepeatPrintClicked() {\n      this.isSending = true\n\n      sendToPrint({\n        printerId: this.printer.id,\n        gcode: this.print.g_code_file,\n        isCloud: true,\n        isAgentMoonraker: this.printer.isAgentMoonraker(),\n        Swal: this.$swal,\n        onPrinterStatusChanged: () => {\n          this.isSending = false\n          showRedirectModal(this.$swal, () => this.fetchData())\n        },\n      })\n    },\n    enterFullscreen(url) {\n      this.fullscreenUrl = url\n    },\n    exitFullscreen() {\n      this.fullscreenUrl = null\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.print-info\n  display: flex\n  flex-direction: column\n  gap: 15px\n\n.printer, .file\n  display: flex\n  align-items: center\n  gap: 6px\n  .info\n    flex: 1\n  .icon\n    flex: 0 0 50px\n    text-align: center\n    *\n      font-size: 2rem\n\n.info-line\n  display: flex\n  flex-direction: row\n  justify-content: space-between\n  border-bottom: 1px solid var(--color-divider-muted)\n  padding: 4px 0\n  &:last-child\n    border-bottom: none\n.title\n  font-weight: bold\n\n.print-status\n  font-weight: bold\n  font-size: .875rem\n  &.cancelled\n    color: var(--color-danger)\n  &.finished\n    color: var(--color-success)\n\n.time-lapse\n  .title\n    font-size: 1.5rem\n    font-weight: normal\n    margin-bottom: 1rem\n\n  ::v-deep\n    .card\n      border-radius: var(--border-radius-lg)\n      border: none\n      background-color: var(--color-surface-secondary)\n    .nav-pills .nav-link\n      border-radius: var(--border-radius-sm)\n    .nav-pills .nav-link.active\n      background-color: var(--color-surface-primary)\n    .card-header\n      border-bottom: 1px solid var(--color-divider-muted)\n\n.video-wrapper\n  border-radius: var(--border-radius-md)\n  overflow: hidden\n\n  ::v-deep .video-js\n    height: 500px !important\n\n  ::v-deep video:focus-visible\n    outline: none !important\n    box-shadow: none !important\n    border: none !important\n\n.detective-footer\n  margin-top: 30px\n\n.feedback-section\n  margin-top: 30px\n  text-align: center\n\n.about-feedback\n  max-width: 600px\n  display: inline-block\n  margin-top: 30px\n\n.detective-placeholder\n  border-radius: var(--border-radius-md)\n  overflow: hidden\n\n.is-fullscreen\n  position: fixed\n  top: 0\n  left: 0\n  bottom: 0\n  right: 0\n  z-index: 9999\n  background-color: var(--color-background)\n  padding: 1rem\n  display: flex\n\n  .video-wrapper\n    flex: 1\n    order: 1\n    ::v-deep .video-js\n      height: calc(100vh - 2rem) !important\n\n  .detective-footer\n    flex: 0 0 200px\n    padding: 0 1rem\n    display: flex\n    flex-direction: column\n    justify-content: center\n    position: relative\n\n  @media (max-width: 996px)\n    flex-direction: column\n\n    .video-wrapper\n      order: 0\n      flex: 0 0 400px\n      ::v-deep .video-js\n        height: 400px !important\n\n    .detective-footer\n      flex: 1\n      .feedback-section\n        display: none\n\n  &.original\n    padding: 0\n\n    .video-wrapper\n      flex: 1 !important\n      border-radius: 0\n      ::v-deep .video-js\n        height: 100vh !important\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrintPage.vue?vue&type=template&id=af8ca750&scoped=true&\"\nimport script from \"./PrintPage.vue?vue&type=script&lang=js&\"\nexport * from \"./PrintPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrintPage.vue?vue&type=style&index=0&id=af8ca750&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"af8ca750\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('page-layout',{scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('b-container',[_c('b-row',{staticClass:\"justify-content-center\"},[_c('b-col',{staticClass:\"text-center\",attrs:{\"lg\":\"8\"}},[_c('h1',{staticClass:\"pb-2\"},[_vm._v(\"Upload Time-lapse\")]),_c('p',{staticClass:\"pb-2\"},[_vm._v(\"Upload time-lapse videos to test Obico's AI failure detection.\")]),_c('vue-dropzone',{staticClass:\"upload-box\",attrs:{\"id\":\"dropzone\",\"options\":_vm.dropzoneOptions,\"use-custom-slot\":true},on:{\"vdropzone-success\":_vm.printUploadSuccess}},[_c('div',{staticClass:\"dz-message needsclick\"},[_c('i',{staticClass:\"fas fa-upload fa-2x\"}),_vm._v(\" \"),_c('br'),_vm._v(\" Drop files here or click to upload.\"),_c('br'),_vm._v(\" *.mp4 or *.mpg files only. Up to 100MB each. \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.uploaded),expression:\"uploaded\"}],staticClass:\"pt-5\"},[_c('div',{attrs:{\"id\":\"tl-uploaded\"}},[_c('img',{staticClass:\"detective-working\",attrs:{\"src\":require('@static/img/detective-working.gif')}}),_c('div',{staticClass:\"py-2 text-center\"},[_c('div',{staticClass:\"py-2\"},[_vm._v(\" The Obico Server is running failure detection on the time-lapse video(s) you uploaded. \")]),_c('div',[_vm._v(\"We will send you email when it is done.\")]),_c('a',{attrs:{\"href\":\"/prints/\"}},[_vm._v(\"Check status now >>>\")])])])])],1)],1)],1)]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <page-layout>\n    <template #content>\n      <b-container>\n        <b-row class=\"justify-content-center\">\n          <b-col lg=\"8\" class=\"text-center\">\n            <h1 class=\"pb-2\">Upload Time-lapse</h1>\n            <p class=\"pb-2\">Upload time-lapse videos to test Obico's AI failure detection.</p>\n            <vue-dropzone\n              id=\"dropzone\"\n              class=\"upload-box\"\n              :options=\"dropzoneOptions\"\n              :use-custom-slot=\"true\"\n              @vdropzone-success=\"printUploadSuccess\"\n            >\n              <div class=\"dz-message needsclick\">\n                <i class=\"fas fa-upload fa-2x\"></i> <br />\n                Drop files here or click to upload.<br />\n                *.mp4 or *.mpg files only. Up to 100MB each.\n              </div>\n            </vue-dropzone>\n            <div v-show=\"uploaded\" class=\"pt-5\">\n              <div id=\"tl-uploaded\">\n                <img\n                  class=\"detective-working\"\n                  :src=\"require('@static/img/detective-working.gif')\"\n                />\n                <div class=\"py-2 text-center\">\n                  <div class=\"py-2\">\n                    The Obico Server is running failure detection on the time-lapse video(s) you\n                    uploaded.\n                  </div>\n                  <div>We will send you email when it is done.</div>\n                  <a href=\"/prints/\">Check status now >>></a>\n                </div>\n              </div>\n            </div>\n          </b-col>\n        </b-row>\n      </b-container>\n    </template>\n  </page-layout>\n</template>\n\n<script>\nimport vue2Dropzone from 'vue2-dropzone'\nimport 'vue2-dropzone/dist/vue2Dropzone.min.css'\nimport PageLayout from '@src/components/PageLayout.vue'\n\nexport default {\n  name: 'UploadPrintPage',\n\n  components: {\n    vueDropzone: vue2Dropzone,\n    PageLayout,\n  },\n\n  props: {\n    csrf: {\n      type: String,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      dropzoneOptions: {\n        withCredentials: true,\n        maxFilesize: 100, // MB\n        timeout: 60 * 60 * 1000, // For large files\n        acceptedFiles: 'video/mp4, video/mpeg',\n        url: '?',\n        headers: { 'X-CSRFToken': this.csrf },\n      },\n      uploaded: false,\n    }\n  },\n\n  methods: {\n    printUploadSuccess(file) {\n      console.log(file)\n      this.uploaded = true\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\nimg.detective-working\n  height: auto\n  width: 12rem\n  border-radius: var(--border-radius-sm)\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadPrintPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadPrintPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadPrintPage.vue?vue&type=template&id=7c2ff1dc&scoped=true&\"\nimport script from \"./UploadPrintPage.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadPrintPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadPrintPage.vue?vue&type=style&index=0&id=7c2ff1dc&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c2ff1dc\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('page-layout',{scopedSlots:_vm._u([{key:\"topBarRight\",fn:function(){return [_c('div',[(_vm.isEnt)?_c('a',{staticClass:\"btn shadow-none hours-btn d-none d-md-inline\",attrs:{\"href\":\"/user_preferences/dh/\",\"title\":_vm.dhBadgeNum + ' AI Detection Hours'}},[_c('svg',[_c('use',{attrs:{\"href\":\"#svg-detective-hours\"}})]),_c('span',{staticClass:\"badge badge-light\",attrs:{\"id\":\"user-credits\"}},[_vm._v(_vm._s(_vm.dhBadgeNum))]),_c('span',{staticClass:\"sr-only\"},[_vm._v(\"AI Detection Hours\")])]):_vm._e(),_c('a',{staticClass:\"btn shadow-none icon-btn d-none d-md-inline\",attrs:{\"href\":\"/printers/wizard/\",\"title\":\"Link New Printer\"}},[_c('i',{staticClass:\"fas fa-plus\"})]),_c('b-dropdown',{attrs:{\"right\":\"\",\"no-caret\":\"\",\"toggle-class\":\"icon-btn\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('i',{staticClass:\"fas fa-ellipsis-v\"})]},proxy:true}])},[(_vm.isEnt)?_c('b-dropdown-item',{staticClass:\"d-md-none\",attrs:{\"href\":\"/user_preferences/dh/\"}},[_c('i',{staticClass:\"fas fa-hourglass-half\"}),_vm._v(_vm._s(_vm.dhBadgeNum)+\" AI Detection Hours \")]):_vm._e(),_c('b-dropdown-item',{staticClass:\"d-md-none\",attrs:{\"href\":\"/printers/wizard/\"}},[_c('i',{staticClass:\"fas fa-plus\"}),_vm._v(\"Link New Printer \")]),_c('b-dropdown-divider',{staticClass:\"d-md-none\"}),_c('cascaded-dropdown',{attrs:{\"menu-options\":_vm.menuOptions,\"menu-selections\":_vm.menuSelections},on:{\"menuSelectionChanged\":_vm.menuSelectionChanged}})],1)],1)]},proxy:true},{key:\"content\",fn:function(){return [(_vm.shouldShowFilterWarning)?_c('div',{staticClass:\"active-filter-notice\",on:{\"click\":_vm.onShowAllClicked}},[_c('div',{staticClass:\"filter\"},[_c('i',{staticClass:\"fas fa-filter mr-2\"}),_vm._v(\" \"+_vm._s(_vm.activeFiltering)+\" \")]),_c('a',[_vm._v(\"SHOW ALL\")])]):_vm._e(),_c('b-container',{staticClass:\"printer-list-page\"},[(_vm.loading)?_c('b-row',[_c('b-col',{staticClass:\"text-center\"},[_c('b-spinner',{staticClass:\"my-5\",attrs:{\"label\":\"Loading...\"}})],1)],1):_vm._e(),(_vm.visiblePrinters.length)?_c('b-row',{staticClass:\"printer-cards justify-content-center\"},_vm._l((_vm.visiblePrinters),function(printer){return _c('printer-card',{key:printer.id,staticClass:\"printer-card-wrapper\",attrs:{\"printer\":printer,\"is-pro-account\":_vm.user.is_pro},on:{\"PrinterUpdated\":_vm.onPrinterUpdated,\"printModalOpened\":() => (_vm.targetPrinter = printer)}})}),1):_vm._e(),_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-sm-12 col-lg-6\",attrs:{\"id\":\"new-printer\"}},[_c('div',{staticClass:\"new-printer-container\"},[_c('a',{attrs:{\"href\":\"/printers/wizard/\"}},[_c('i',{staticClass:\"fa fa-plus fa-2x\"}),_c('div',[_vm._v(\"Link New Printer\")])])])])]),_c('b-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shouldShowArchiveWarning),expression:\"shouldShowArchiveWarning\"}],staticClass:\"bottom-messages\"},[_c('b-col',[_c('div',{staticClass:\"alert alert-warning alert-dismissible fade show mb-3\",attrs:{\"role\":\"alert\"}},[_c('div',{staticClass:\"warning\"},[_c('div',[_vm._v(\" \"+_vm._s(_vm.archivedPrinterNum)+\" \"+_vm._s(_vm._f(\"pluralize\")('printer',_vm.archivedPrinterNum))+\" have been archived. \")]),_c('a',{staticClass:\"warning-action\",attrs:{\"href\":\"/ent/printers/archived/\"}},[_vm._v(\"Show Archived Printers\")])]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"alert\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])])],1)],1),_c('b-modal',{attrs:{\"id\":\"b-modal-gcodes\",\"size\":\"lg\"},on:{\"hidden\":_vm.resetGcodesModal}},[(_vm.selectedGcodeId)?_c('g-code-file-page',{attrs:{\"is-popup\":true,\"target-printer-id\":_vm.targetPrinter.id,\"route-params\":{\n          fileId: _vm.selectedGcodeId,\n          printerId: _vm.selectedPrinterId,\n        },\"on-close\":() => _vm.$bvModal.hide('b-modal-gcodes')},on:{\"goBack\":() => {\n            _vm.selectedGcodeId = null\n            _vm.scrollToTop()\n          }}}):_c('g-code-folders-page',{attrs:{\"is-popup\":true,\"target-printer\":_vm.targetPrinter,\"route-params\":{\n          printerId: _vm.selectedPrinterId,\n          parentFolder: null,\n        },\"on-close\":() => _vm.$bvModal.hide('b-modal-gcodes'),\"saved-path\":_vm.savedPath,\"scroll-container-id\":\"b-modal-gcodes\"},on:{\"openFile\":(fileId, printerId, path) => {\n            _vm.selectedGcodeId = fileId\n            _vm.selectedPrinterId = printerId\n            _vm.savedPath = path\n            _vm.scrollToTop()\n          }}})],1)]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"col-sm-12 col-lg-6 printer-card\",attrs:{\"id\":_vm.printer.id}},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('div',{staticClass:\"title-box\"},[(_vm.hasCurrentPrintFilename)?_c('div',{staticClass:\"primary-title print-filename\"},[_vm._v(\" \"+_vm._s(_vm.printer.current_print.filename)+\" \")]):_vm._e(),_c('div',{staticClass:\"printer-name\",class:{ 'secondary-title': _vm.hasCurrentPrintFilename }},[_vm._v(\" \"+_vm._s(_vm.printer.name)+\"   (\"),_c('a',{class:_vm.statusClass,attrs:{\"href\":'#printer-actions-' + _vm.printer.id}},[_vm._v(_vm._s(_vm.statusText))]),_vm._v(\") \")])]),_c('b-dropdown',{attrs:{\"right\":\"\",\"no-caret\":\"\",\"toggle-class\":\"icon-btn\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('i',{staticClass:\"fas fa-ellipsis-v\"})]},proxy:true}])},[_c('b-dropdown-item',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onSharePrinter()}}},[_c('i',{staticClass:\"fas fa-share-alt fa-lg\"}),_vm._v(\"Share \")]),(!_vm.printer.isAgentMoonraker())?_c('b-dropdown-item',{attrs:{\"href\":_vm.octoPrintTunnelUrl()}},[_c('svg',{staticClass:\"menu-icon\"},[_c('use',{attrs:{\"href\":\"#svg-octoprint-tunneling\"}})]),_vm._v(\" Tunneling \")]):_vm._e(),_c('div',{staticClass:\"dropdown-divider\"}),_c('b-dropdown-item',{attrs:{\"href\":_vm.settingsUrl()}},[_c('i',{staticClass:\"fas fa-wrench fa-lg\"}),_vm._v(\"Configure \")])],1)],1),_c('streaming-box',{attrs:{\"printer\":_vm.printer,\"webrtc\":_vm.webrtc,\"autoplay\":_vm.isProAccount}}),(_vm.printer.alertUnacknowledged())?_c('div',{staticClass:\"failure-alert card-body bg-warning px-2 py-1\"},[_c('i',{staticClass:\"fas fa-exclamation-triangle align-middle\"}),_c('span',{staticClass:\"align-middle\"},[_vm._v(\"Failure Detected!\")]),_c('button',{staticClass:\"btn btn-outline-primary btn-sm float-right\",attrs:{\"id\":\"not-a-failure\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.onNotAFailureClicked($event, false)}}},[_vm._v(\" Not a failure? \")])]):_vm._e(),_c('div',{staticClass:\"card-body gauge-container\",class:{ overlay: !_vm.isWatching }},[(!_vm.isWatching)?_c('div',{staticClass:\"overlay-top text-center\",staticStyle:{\"left\":\"0\",\"width\":\"100%\",\"top\":\"50%\",\"margin-top\":\"-55px\"}},[_c('H1',[_c('i',{staticClass:\"far fa-eye-slash\"})]),_c('h5',{staticClass:\"text-warning\"},[_vm._v(\"Failure Detection is Off\")]),(_vm.printer.not_watching_reason)?_c('small',[_vm._v(_vm._s(_vm.printer.not_watching_reason)+\". \"),_vm._m(0)]):_vm._e(),_c('div')],1):_vm._e(),_c('failure-detection-gauge',{attrs:{\"normalized-p\":_vm.printer.normalized_p,\"is-watching\":_vm.isWatching}}),_c('hr')],1),_c('printer-actions',_vm._b({staticClass:\"container\",attrs:{\"id\":'printer-actions-' + _vm.printer.id},on:{\"PrinterActionPauseClicked\":_vm.onPrinterActionPauseClicked,\"PrinterActionResumeClicked\":function($event){return _vm.onPrinterActionResumeClicked($event)},\"PrinterActionCancelClicked\":_vm.onPrinterActionCancelClicked,\"PrinterActionConnectClicked\":_vm.onPrinterActionConnectClicked,\"PrinterActionStartClicked\":_vm.onPrinterActionStartClicked,\"PrinterActionControlClicked\":_vm.onPrinterActionControlClicked}},'printer-actions',_vm.actionsProps,false)),_c('div',{staticClass:\"info-section settings\"},[_c('button',{staticClass:\"info-section-toggle btn btn-sm no-corner mx-2\",class:{ pressed: _vm.section_toggles.settings },attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.onSettingsToggleClicked()}}},[_c('i',{staticClass:\"fas fa-cog fa-lg\"})]),_c('button',{staticClass:\"info-section-toggle btn btn-sm no-corner mx-2\",class:{ pressed: _vm.section_toggles.time },attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.onTimeToggleClicked()}}},[_c('i',{staticClass:\"fas fa-clock fa-lg\"})]),_c('button',{staticClass:\"info-section-toggle btn btn-sm no-corner mx-2\",class:{ pressed: _vm.section_toggles.statusTemp },attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.onStatusTempToggleClicked()}}},[_c('i',{staticClass:\"fas fa-thermometer-half fa-lg\"})])]),_c('div',{staticClass:\"info-section\",staticStyle:{\"height\":\"0.3rem\"}}),_c('div',[_c('div',{staticClass:\"info-section container\"},[(_vm.section_toggles.settings)?_c('div',{attrs:{\"id\":\"panel-settings\"}},[_c('div',{staticClass:\"pt-2 pb-3\"},[_c('div',{staticClass:\"row justify-content-center px-3\"},[_c('div',{staticClass:\"col-12 setting-item\"},[_c('label',{staticClass:\"toggle-label\",attrs:{\"for\":'watching_enabled-toggle-' + _vm.printer.id}},[_vm._v(\"Enable AI failure detection \"),(!_vm.watchForFailures)?_c('div',{staticClass:\"text-muted font-weight-light font-size-sm\"},[_vm._v(\" AI failure detection is disabled. You are on your own. \")]):_vm._e()]),_c('div',{staticClass:\"custom-control custom-switch\"},[_c('input',{staticClass:\"custom-control-input update-printer\",attrs:{\"id\":'watching_enabled-toggle-' + _vm.printer.id,\"type\":\"checkbox\",\"name\":\"watching_enabled\"},domProps:{\"checked\":_vm.watchForFailures},on:{\"click\":_vm.onWatchForFailuresToggled}}),_c('label',{staticClass:\"custom-control-label\",staticStyle:{\"font-size\":\"1rem\"},attrs:{\"for\":'watching_enabled-toggle-' + _vm.printer.id}})])])]),_c('div',{staticClass:\"row justify-content-center px-3\"},[_c('div',{staticClass:\"col-12 setting-item\"},[_c('label',{staticClass:\"toggle-label\",attrs:{\"for\":'pause-toggle-' + _vm.printer.id}},[_vm._v(\"Pause on detected failures \"),(!_vm.pauseOnFailure)?_c('div',{staticClass:\"text-muted font-weight-light font-size-sm\"},[_vm._v(\" You will still be alerted via notifications \")]):_vm._e()]),_c('div',{staticClass:\"custom-control custom-switch\"},[_c('input',{staticClass:\"custom-control-input update-printer\",attrs:{\"id\":'pause-toggle-' + _vm.printer.id,\"type\":\"checkbox\",\"name\":\"pause_on_failure\"},domProps:{\"checked\":_vm.pauseOnFailure},on:{\"click\":_vm.onPauseOnFailureToggled}}),_c('label',{staticClass:\"custom-control-label\",staticStyle:{\"font-size\":\"1rem\"},attrs:{\"for\":'pause-toggle-' + _vm.printer.id}})])])])])]):_vm._e(),(_vm.section_toggles.time)?_c('div',{attrs:{\"id\":\"print-time\"}},[_c('div',{staticClass:\"py-2\"},[_vm._m(1),_c('div',{staticClass:\"row\"},[_vm._m(2),_c('duration-block',_vm._b({staticClass:\"col-5 numbers\",attrs:{\"id\":\"print-time-remaining\"}},'duration-block',_vm.timeRemaining,false)),_c('duration-block',_vm._b({staticClass:\"col-5 numbers\",attrs:{\"id\":\"print-time-total\"}},'duration-block',_vm.timeTotal,false)),_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"progress\",staticStyle:{\"height\":\"2px\"}},[_c('div',{staticClass:\"progress-bar\",class:{\n                      'progress-bar-striped': _vm.progressPct < 100,\n                      'progress-bar-animated': _vm.progressPct < 100,\n                    },style:(`width: ${_vm.progressPct}%;`),attrs:{\"id\":\"print-progress\",\"role\":\"progressbar\",\"aria-valuenow\":\"0\",\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\"}})])])],1)])]):_vm._e(),(_vm.section_toggles.statusTemp && _vm.tempProps.show)?_c('status-temp',_vm._b({attrs:{\"id\":\"status_temp_block\"},on:{\"TempEditClicked\":_vm.onTempEditClicked}},'status-temp',_vm.tempProps,false)):_vm._e()],1)])],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/detective-not-watching/\",\"target\":\"_blank\"}},[_vm._v(\"Learn more. \"),_c('small',[_c('i',{staticClass:\"fas fa-external-link-alt\"})])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"row text-muted\"},[_c('small',{staticClass:\"col-5 offset-2\"},[_vm._v(\" Remaining \")]),_c('small',{staticClass:\"col-5\"},[_vm._v(\" Total \")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"col-2 text-muted\"},[_c('i',{staticClass:\"fas fa-clock\"})])\n}]\n\nexport { render, staticRenderFns }","/*\n  The MIT License (MIT)\n\n  Copyright (c) 2016 Meetecho\n\n  Permission is hereby granted, free of charge, to any person obtaining\n  a copy of this software and associated documentation files (the \"Software\"),\n  to deal in the Software without restriction, including without limitation\n  the rights to use, copy, modify, merge, publish, distribute, sublicense,\n  and/or sell copies of the Software, and to permit persons to whom the\n  Software is furnished to do so, subject to the following conditions:\n\n  The above copyright notice and this permission notice shall be included\n  in all copies or substantial portions of the Software.\n\n  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n  OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n  THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR\n  OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n  ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n  OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/* eslint-disable no-global-assign, no-redeclare, no-unused-vars, no-empty, no-inner-declarations */\n\nimport adapter from 'webrtc-adapter'\n\n// List of sessions\nJanus.sessions = {}\n\nJanus.isExtensionEnabled = function() {\n  if(navigator.mediaDevices && navigator.mediaDevices.getDisplayMedia) {\n    // No need for the extension, getDisplayMedia is supported\n    return true\n  }\n  if(window.navigator.userAgent.match('Chrome')) {\n    var chromever = parseInt(window.navigator.userAgent.match(/Chrome\\/(.*) /)[1], 10)\n    var maxver = 33\n    if(window.navigator.userAgent.match('Linux'))\n      maxver = 35 // \"known\" crash in chrome 34 and 35 on linux\n    if(chromever >= 26 && chromever <= maxver) {\n      // Older versions of Chrome don't support this extension-based approach, so lie\n      return true\n    }\n    return Janus.extension.isInstalled()\n  } else {\n    // Firefox and others, no need for the extension (but this doesn't mean it will work)\n    return true\n  }\n}\n\nvar defaultExtension = {\n  // Screensharing Chrome Extension ID\n  extensionId: 'hapfgfdkleiggjjpfpenajgdnfckjpaj',\n  isInstalled: function() { return document.querySelector('#janus-extension-installed') !== null },\n  getScreen: function (callback) {\n    var pending = window.setTimeout(function () {\n      var error = new Error('NavigatorUserMediaError')\n      error.name = 'The required Chrome extension is not installed: click <a href=\"#\">here</a> to install it. (NOTE: this will need you to refresh the page)'\n      return callback(error)\n    }, 1000)\n    this.cache[pending] = callback\n    window.postMessage({ type: 'janusGetScreen', id: pending }, '*')\n  },\n  init: function () {\n    var cache = {}\n    this.cache = cache\n    // Wait for events from the Chrome Extension\n    window.addEventListener('message', function (event) {\n      if(event.origin != window.location.origin)\n        return\n      if(event.data.type == 'janusGotScreen' && cache[event.data.id]) {\n        var callback = cache[event.data.id]\n        delete cache[event.data.id]\n\n        if (event.data.sourceId === '') {\n          // user canceled\n          var error = new Error('NavigatorUserMediaError')\n          error.name = 'You cancelled the request for permission, giving up...'\n          callback(error)\n        } else {\n          callback(null, event.data.sourceId)\n        }\n      } else if (event.data.type == 'janusGetScreenPending') {\n        console.log('clearing ', event.data.id)\n        window.clearTimeout(event.data.id)\n      }\n    })\n  }\n}\n\nJanus.useDefaultDependencies = function (deps) {\n  var f = (deps && deps.fetch) || fetch\n  var p = (deps && deps.Promise) || Promise\n  var socketCls = (deps && deps.WebSocket) || WebSocket\n\n  return {\n    newWebSocket: function(server, proto) { return new socketCls(server, proto) },\n    extension: (deps && deps.extension) || defaultExtension,\n    isArray: function(arr) { return Array.isArray(arr) },\n    webRTCAdapter: (deps && deps.adapter) || adapter,\n    httpAPICall: function(url, options) {\n      var fetchOptions = {\n        method: options.verb,\n        headers: {\n          'Accept': 'application/json, text/plain, */*'\n        },\n        cache: 'no-cache'\n      }\n      if(options.verb === 'POST') {\n        fetchOptions.headers['Content-Type'] = 'application/json'\n      }\n      if(options.withCredentials !== undefined) {\n        fetchOptions.credentials = options.withCredentials === true ? 'include' : (options.withCredentials ? options.withCredentials : 'omit')\n      }\n      if(options.body) {\n        fetchOptions.body = JSON.stringify(options.body)\n      }\n\n      var fetching = f(url, fetchOptions).catch(function(error) {\n        return p.reject({message: 'Probably a network error, is the server down?', error: error})\n      })\n\n      /*\n       * fetch() does not natively support timeouts.\n       * Work around this by starting a timeout manually, and racing it agains the fetch() to see which thing resolves first.\n       */\n\n      if(options.timeout) {\n        var timeout = new p(function(resolve, reject) {\n          var timerId = setTimeout(function() {\n            clearTimeout(timerId)\n            return reject({message: 'Request timed out', timeout: options.timeout})\n          }, options.timeout)\n        })\n        fetching = p.race([fetching, timeout])\n      }\n\n      fetching.then(function(response) {\n        if(response.ok) {\n          if(typeof(options.success) === typeof(Janus.noop)) {\n            return response.json().then(function(parsed) {\n              try {\n                options.success(parsed)\n              } catch(error) {\n                Janus.error('Unhandled httpAPICall success callback error', error)\n              }\n            }, function(error) {\n              return p.reject({message: 'Failed to parse response body', error: error, response: response})\n            })\n          }\n        }\n        else {\n          return p.reject({message: 'API call failed', response: response})\n        }\n      }).catch(function(error) {\n        if(typeof(options.error) === typeof(Janus.noop)) {\n          options.error(error.message || '<< internal error >>', error)\n        }\n      })\n\n      return fetching\n    }\n  }\n}\n\nJanus.useOldDependencies = function (deps) {\n  var jq = (deps && deps.jQuery) || jQuery // eslint-disable-line no-undef\n  var socketCls = (deps && deps.WebSocket) || WebSocket\n  return {\n    newWebSocket: function(server, proto) { return new socketCls(server, proto) },\n    isArray: function(arr) { return jq.isArray(arr) },\n    extension: (deps && deps.extension) || defaultExtension,\n    webRTCAdapter: (deps && deps.adapter) || adapter,\n    httpAPICall: function(url, options) {\n      var payload = options.body !== undefined ? {\n        contentType: 'application/json',\n        data: JSON.stringify(options.body)\n      } : {}\n      var credentials = options.withCredentials !== undefined ? {xhrFields: {withCredentials: options.withCredentials}} : {}\n\n      return jq.ajax(jq.extend(payload, credentials, {\n        url: url,\n        type: options.verb,\n        cache: false,\n        dataType: 'json',\n        async: options.async,\n        timeout: options.timeout,\n        success: function(result) {\n          if(typeof(options.success) === typeof(Janus.noop)) {\n            options.success(result)\n          }\n        },\n        error: function(xhr, status, err) {\n          if(typeof(options.error) === typeof(Janus.noop)) {\n            options.error(status, err)\n          }\n        }\n      }))\n    }\n  }\n}\n\nJanus.noop = function() {}\n\nJanus.dataChanDefaultLabel = 'JanusDataChannel'\n\n// Note: in the future we may want to change this, e.g., as was\n// attempted in https://github.com/meetecho/janus-gateway/issues/1670\nJanus.endOfCandidates = null\n\n// Stop all tracks from a given stream\nJanus.stopAllTracks = function(stream) {\n  try {\n    // Try a MediaStreamTrack.stop() for each track\n    var tracks = stream.getTracks()\n    for(var mst of tracks) {\n      Janus.log(mst)\n      if(mst) {\n        mst.stop()\n      }\n    }\n  } catch(e) {\n    // Do nothing if this fails\n  }\n}\n\n// Initialization\nJanus.init = function(options) {\n  options = options || {}\n  options.callback = (typeof options.callback == 'function') ? options.callback : Janus.noop\n  if(Janus.initDone) {\n    // Already initialized\n    options.callback()\n  } else {\n    if(typeof console == 'undefined' || typeof console.log == 'undefined') {\n      console = { log: function() {} }\n    }\n    // Console logging (all debugging disabled by default)\n    Janus.trace = Janus.noop\n    Janus.debug = Janus.noop\n    Janus.vdebug = Janus.noop\n    Janus.log = Janus.noop\n    Janus.warn = Janus.noop\n    Janus.error = Janus.noop\n    if(options.debug === true || options.debug === 'all') {\n      // Enable all debugging levels\n      Janus.trace = console.trace.bind(console)\n      Janus.debug = console.debug.bind(console)\n      Janus.vdebug = console.debug.bind(console)\n      Janus.log = console.log.bind(console)\n      Janus.warn = console.warn.bind(console)\n      Janus.error = console.error.bind(console)\n    } else if(Array.isArray(options.debug)) {\n      for(var d of options.debug) {\n        switch(d) {\n        case 'trace':\n          Janus.trace = console.trace.bind(console)\n          break\n        case 'debug':\n          Janus.debug = console.debug.bind(console)\n          break\n        case 'vdebug':\n          Janus.vdebug = console.debug.bind(console)\n          break\n        case 'log':\n          Janus.log = console.log.bind(console)\n          break\n        case 'warn':\n          Janus.warn = console.warn.bind(console)\n          break\n        case 'error':\n          Janus.error = console.error.bind(console)\n          break\n        default:\n          console.error('Unknown debugging option \\'' + d + '\\' (supported: \\'trace\\', \\'debug\\', \\'vdebug\\', \\'log\\', warn\\', \\'error\\')')\n          break\n        }\n      }\n    }\n    Janus.log('Initializing library')\n\n    var usedDependencies = options.dependencies || Janus.useDefaultDependencies()\n    Janus.isArray = usedDependencies.isArray\n    Janus.webRTCAdapter = usedDependencies.webRTCAdapter\n    Janus.httpAPICall = usedDependencies.httpAPICall\n    Janus.newWebSocket = usedDependencies.newWebSocket\n    Janus.extension = usedDependencies.extension\n    Janus.extension.init()\n\n    // Helper method to enumerate devices\n    Janus.listDevices = function(callback, config) {\n      callback = (typeof callback == 'function') ? callback : Janus.noop\n      if (config == null) config = { audio: true, video: true }\n      if(Janus.isGetUserMediaAvailable()) {\n        navigator.mediaDevices.getUserMedia(config)\n          .then(function(stream) {\n            navigator.mediaDevices.enumerateDevices().then(function(devices) {\n              Janus.debug(devices)\n              callback(devices)\n              // Get rid of the now useless stream\n              Janus.stopAllTracks(stream)\n            })\n          })\n          .catch(function(err) {\n            Janus.error(err)\n            callback([])\n          })\n      } else {\n        Janus.warn('navigator.mediaDevices unavailable')\n        callback([])\n      }\n    }\n    // Helper methods to attach/reattach a stream to a video element (previously part of adapter.js)\n    Janus.attachMediaStream = function(element, stream) {\n      try {\n        element.srcObject = stream\n      } catch (e) {\n        try {\n          element.src = URL.createObjectURL(stream)\n        } catch (e) {\n          Janus.error('Error attaching stream to element')\n        }\n      }\n    }\n    Janus.reattachMediaStream = function(to, from) {\n      try {\n        to.srcObject = from.srcObject\n      } catch (e) {\n        try {\n          to.src = from.src\n        } catch (e) {\n          Janus.error('Error reattaching stream to element')\n        }\n      }\n    }\n    // Detect tab close: make sure we don't loose existing onbeforeunload handlers\n    // (note: for iOS we need to subscribe to a different event, 'pagehide', see\n    // https://gist.github.com/thehunmonkgroup/6bee8941a49b86be31a787fe8f4b8cfe)\n    var iOS = ['iPad', 'iPhone', 'iPod'].indexOf(navigator.platform) >= 0\n    var eventName = iOS ? 'pagehide' : 'beforeunload'\n    var oldOBF = window['on' + eventName]\n    window.addEventListener(eventName, function(event) {\n      Janus.log('Closing window')\n      for(var s in Janus.sessions) {\n        if(Janus.sessions[s] && Janus.sessions[s].destroyOnUnload) {\n          Janus.log('Destroying session ' + s)\n          Janus.sessions[s].destroy({unload: true, notifyDestroyed: false})\n        }\n      }\n      if(oldOBF && typeof oldOBF == 'function') {\n        oldOBF()\n      }\n    })\n    // If this is a Safari Technology Preview, check if VP8 is supported\n    Janus.safariVp8 = false\n    if(Janus.webRTCAdapter.browserDetails.browser === 'safari' &&\n        Janus.webRTCAdapter.browserDetails.version >= 605) {\n      // Let's see if RTCRtpSender.getCapabilities() is there\n      if(RTCRtpSender && RTCRtpSender.getCapabilities && RTCRtpSender.getCapabilities('video') &&\n          RTCRtpSender.getCapabilities('video').codecs && RTCRtpSender.getCapabilities('video').codecs.length) {\n        for(var codec of RTCRtpSender.getCapabilities('video').codecs) {\n          if(codec && codec.mimeType && codec.mimeType.toLowerCase() === 'video/vp8') {\n            Janus.safariVp8 = true\n            break\n          }\n        }\n        if(Janus.safariVp8) {\n          Janus.log('This version of Safari supports VP8')\n        } else {\n          Janus.warn('This version of Safari does NOT support VP8: if you\\'re using a Technology Preview, ' +\n            'try enabling the \\'WebRTC VP8 codec\\' setting in the \\'Experimental Features\\' Develop menu')\n        }\n      } else {\n        // We do it in a very ugly way, as there's no alternative...\n        // We create a PeerConnection to see if VP8 is in an offer\n        var testpc = new RTCPeerConnection({})\n        testpc.createOffer({offerToReceiveVideo: true}).then(function(offer) {\n          Janus.safariVp8 = offer.sdp.indexOf('VP8') !== -1\n          if(Janus.safariVp8) {\n            Janus.log('This version of Safari supports VP8')\n          } else {\n            Janus.warn('This version of Safari does NOT support VP8: if you\\'re using a Technology Preview, ' +\n              'try enabling the \\'WebRTC VP8 codec\\' setting in the \\'Experimental Features\\' Develop menu')\n          }\n          testpc.close()\n          testpc = null\n        })\n      }\n    }\n    // Check if this browser supports Unified Plan and transceivers\n    // Based on https://codepen.io/anon/pen/ZqLwWV?editors=0010\n    Janus.unifiedPlan = false\n    if(Janus.webRTCAdapter.browserDetails.browser === 'firefox' &&\n        Janus.webRTCAdapter.browserDetails.version >= 59) {\n      // Firefox definitely does, starting from version 59\n      Janus.unifiedPlan = true\n    } else if(Janus.webRTCAdapter.browserDetails.browser === 'chrome' &&\n        Janus.webRTCAdapter.browserDetails.version >= 72) {\n      // Chrome does, but it's only usable from version 72 on\n      Janus.unifiedPlan = true\n    } else if(!window.RTCRtpTransceiver || !('currentDirection' in RTCRtpTransceiver.prototype)) { // eslint-disable-line no-undef\n      // Safari supports addTransceiver() but not Unified Plan when\n      // currentDirection is not defined (see codepen above).\n      Janus.unifiedPlan = false\n    } else {\n      // Check if addTransceiver() throws an exception\n      var tempPc = new RTCPeerConnection()\n      try {\n        tempPc.addTransceiver('audio')\n        Janus.unifiedPlan = true\n      } catch (e) {}\n      tempPc.close()\n    }\n    Janus.initDone = true\n    options.callback()\n  }\n}\n\n// Helper method to check whether WebRTC is supported by this browser\nJanus.isWebrtcSupported = function() {\n  return !!window.RTCPeerConnection\n}\n// Helper method to check whether devices can be accessed by this browser (e.g., not possible via plain HTTP)\nJanus.isGetUserMediaAvailable = function() {\n  return navigator.mediaDevices && navigator.mediaDevices.getUserMedia\n}\n\n// Helper method to create random identifiers (e.g., transaction)\nJanus.randomString = function(len) {\n  var charSet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n  var randomString = ''\n  for (var i = 0; i < len; i++) {\n    var randomPoz = Math.floor(Math.random() * charSet.length)\n    randomString += charSet.substring(randomPoz,randomPoz+1)\n  }\n  return randomString\n}\n\nfunction Janus(gatewayCallbacks) {\n  gatewayCallbacks = gatewayCallbacks || {}\n  gatewayCallbacks.success = (typeof gatewayCallbacks.success == 'function') ? gatewayCallbacks.success : Janus.noop\n  gatewayCallbacks.error = (typeof gatewayCallbacks.error == 'function') ? gatewayCallbacks.error : Janus.noop\n  gatewayCallbacks.wsopened = (typeof gatewayCallbacks.wsopened == 'function') ? gatewayCallbacks.wsopened : Janus.noop\n  gatewayCallbacks.destroyed = (typeof gatewayCallbacks.destroyed == 'function') ? gatewayCallbacks.destroyed : Janus.noop\n  if(!Janus.initDone) {\n    gatewayCallbacks.error('Library not initialized')\n    return {}\n  }\n  if(!Janus.isWebrtcSupported()) {\n    gatewayCallbacks.error('WebRTC not supported by this browser')\n    return {}\n  }\n  Janus.log('Library initialized: ' + Janus.initDone)\n  if(!gatewayCallbacks.server) {\n    gatewayCallbacks.error('Invalid server url')\n    return {}\n  }\n  var websockets = false\n  var ws = null\n  var wsHandlers = {}\n  var wsKeepaliveTimeoutId = null\n  var servers = null\n  var serversIndex = 0\n  var server = gatewayCallbacks.server\n  if(Janus.isArray(server)) {\n    Janus.log('Multiple servers provided (' + server.length + '), will use the first that works')\n    server = null\n    servers = gatewayCallbacks.server\n    Janus.debug(servers)\n  } else {\n    if(server.indexOf('ws') === 0) {\n      websockets = true\n      Janus.log('Using WebSockets to contact Janus: ' + server)\n    } else {\n      websockets = false\n      Janus.log('Using REST API to contact Janus: ' + server)\n    }\n  }\n  var iceServers = gatewayCallbacks.iceServers || [{urls: 'stun:stun.l.google.com:19302'}]\n  var iceTransportPolicy = gatewayCallbacks.iceTransportPolicy\n  var bundlePolicy = gatewayCallbacks.bundlePolicy\n  // Whether IPv6 candidates should be gathered\n  var ipv6Support = (gatewayCallbacks.ipv6 === true)\n  // Whether we should enable the withCredentials flag for XHR requests\n  var withCredentials = false\n  if(gatewayCallbacks.withCredentials !== undefined && gatewayCallbacks.withCredentials !== null)\n    withCredentials = gatewayCallbacks.withCredentials === true\n  // Optional max events\n  var maxev = 10\n  if(gatewayCallbacks.max_poll_events !== undefined && gatewayCallbacks.max_poll_events !== null)\n    maxev = gatewayCallbacks.max_poll_events\n  if(maxev < 1)\n    maxev = 1\n  // Token to use (only if the token based authentication mechanism is enabled)\n  var token = null\n  if(gatewayCallbacks.token !== undefined && gatewayCallbacks.token !== null)\n    token = gatewayCallbacks.token\n  // API secret to use (only if the shared API secret is enabled)\n  var apisecret = null\n  if(gatewayCallbacks.apisecret !== undefined && gatewayCallbacks.apisecret !== null)\n    apisecret = gatewayCallbacks.apisecret\n  // Whether we should destroy this session when onbeforeunload is called\n  this.destroyOnUnload = true\n  if(gatewayCallbacks.destroyOnUnload !== undefined && gatewayCallbacks.destroyOnUnload !== null)\n    this.destroyOnUnload = (gatewayCallbacks.destroyOnUnload === true)\n  // Some timeout-related values\n  var keepAlivePeriod = 25000\n  if(gatewayCallbacks.keepAlivePeriod !== undefined && gatewayCallbacks.keepAlivePeriod !== null)\n    keepAlivePeriod = gatewayCallbacks.keepAlivePeriod\n  if(isNaN(keepAlivePeriod))\n    keepAlivePeriod = 25000\n  var longPollTimeout = 60000\n  if(gatewayCallbacks.longPollTimeout !== undefined && gatewayCallbacks.longPollTimeout !== null)\n    longPollTimeout = gatewayCallbacks.longPollTimeout\n  if(isNaN(longPollTimeout))\n    longPollTimeout = 60000\n\n  // overrides for default maxBitrate values for simulcasting\n  function getMaxBitrates(simulcastMaxBitrates) {\n    var maxBitrates = {\n      high: 900000,\n      medium: 300000,\n      low: 100000,\n    }\n\n    if (simulcastMaxBitrates !== undefined && simulcastMaxBitrates !== null) {\n      if (simulcastMaxBitrates.high)\n        maxBitrates.high = simulcastMaxBitrates.high\n      if (simulcastMaxBitrates.medium)\n        maxBitrates.medium = simulcastMaxBitrates.medium\n      if (simulcastMaxBitrates.low)\n        maxBitrates.low = simulcastMaxBitrates.low\n    }\n\n    return maxBitrates\n  }\n\n  var connected = false\n  var sessionId = null\n  var pluginHandles = {}\n  var that = this\n  var retries = 0\n  var transactions = {}\n  createSession(gatewayCallbacks)\n\n  // Public methods\n  this.getServer = function() { return server }\n  this.isConnected = function() { return connected }\n  this.reconnect = function(callbacks) {\n    callbacks = callbacks || {}\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : Janus.noop\n    callbacks['reconnect'] = true\n    createSession(callbacks)\n  }\n  this.getSessionId = function() { return sessionId }\n  this.getInfo = function(callbacks) { getInfo(callbacks) }\n  this.destroy = function(callbacks) { destroySession(callbacks) }\n  this.attach = function(callbacks) { createHandle(callbacks) }\n\n  function eventHandler() {\n    if(sessionId == null)\n      return\n    Janus.debug('Long poll...')\n    if(!connected) {\n      Janus.warn('Is the server down? (connected=false)')\n      return\n    }\n    var longpoll = server + '/' + sessionId + '?rid=' + new Date().getTime()\n    if(maxev)\n      longpoll = longpoll + '&maxev=' + maxev\n    if(token)\n      longpoll = longpoll + '&token=' + encodeURIComponent(token)\n    if(apisecret)\n      longpoll = longpoll + '&apisecret=' + encodeURIComponent(apisecret)\n    Janus.httpAPICall(longpoll, {\n      verb: 'GET',\n      withCredentials: withCredentials,\n      success: handleEvent,\n      timeout: longPollTimeout,\n      error: function(textStatus, errorThrown) {\n        Janus.error(textStatus + ':', errorThrown)\n        retries++\n        if(retries > 3) {\n          // Did we just lose the server? :-(\n          connected = false\n          gatewayCallbacks.error('Lost connection to the server (is it down?)')\n          return\n        }\n        eventHandler()\n      }\n    })\n  }\n\n  // Private event handler: this will trigger plugin callbacks, if set\n  function handleEvent(json, skipTimeout) {\n    retries = 0\n    if(!websockets && sessionId !== undefined && sessionId !== null && skipTimeout !== true)\n      eventHandler()\n    if(!websockets && Janus.isArray(json)) {\n      // We got an array: it means we passed a maxev > 1, iterate on all objects\n      for(var i=0; i<json.length; i++) {\n        handleEvent(json[i], true)\n      }\n      return\n    }\n\n    if (json.session_id && json.session_id !== sessionId) {\n      return\n    }\n\n    if(json['janus'] === 'keepalive') {\n      // Nothing happened\n      Janus.vdebug('Got a keepalive on session ' + sessionId)\n      return\n    } else if(json['janus'] === 'server_info') {\n      // Just info on the Janus instance\n      Janus.debug('Got info on the Janus instance')\n      Janus.debug(json)\n      var transaction = json['transaction']\n      if(transaction) {\n        var reportSuccess = transactions[transaction]\n        if(reportSuccess)\n          reportSuccess(json)\n        delete transactions[transaction]\n      }\n      return\n    } else if(json['janus'] === 'ack') {\n      // Just an ack, we can probably ignore\n      Janus.debug('Got an ack on session ' + sessionId)\n      Janus.debug(json)\n      var transaction = json['transaction']\n      if(transaction) {\n        var reportSuccess = transactions[transaction]\n        if(reportSuccess)\n          reportSuccess(json)\n        delete transactions[transaction]\n      }\n      return\n    } else if(json['janus'] === 'success') {\n      // Success!\n      Janus.debug('Got a success on session ' + sessionId)\n      Janus.debug(json)\n      var transaction = json['transaction']\n      if(transaction) {\n        var reportSuccess = transactions[transaction]\n        if(reportSuccess)\n          reportSuccess(json)\n        delete transactions[transaction]\n      }\n      return\n    } else if(json['janus'] === 'trickle') {\n      // We got a trickle candidate from Janus\n      var sender = json['sender']\n      if(!sender) {\n        Janus.warn('Missing sender...')\n        return\n      }\n      var pluginHandle = pluginHandles[sender]\n      if(!pluginHandle) {\n        Janus.debug('This handle is not attached to this session')\n        return\n      }\n      var candidate = json['candidate']\n      Janus.debug('Got a trickled candidate on session ' + sessionId)\n      Janus.debug(candidate)\n      var config = pluginHandle.webrtcStuff\n      if(config.pc && config.remoteSdp) {\n        // Add candidate right now\n        Janus.debug('Adding remote candidate:', candidate)\n        if(!candidate || candidate.completed === true) {\n          // end-of-candidates\n          config.pc.addIceCandidate(Janus.endOfCandidates)\n        } else {\n          // New candidate\n          config.pc.addIceCandidate(candidate)\n        }\n      } else {\n        // We didn't do setRemoteDescription (trickle got here before the offer?)\n        Janus.debug('We didn\\'t do setRemoteDescription (trickle got here before the offer?), caching candidate')\n        if(!config.candidates)\n          config.candidates = []\n        config.candidates.push(candidate)\n        Janus.debug(config.candidates)\n      }\n    } else if(json['janus'] === 'webrtcup') {\n      // The PeerConnection with the server is up! Notify this\n      Janus.debug('Got a webrtcup event on session ' + sessionId)\n      Janus.debug(json)\n      var sender = json['sender']\n      if(!sender) {\n        Janus.warn('Missing sender...')\n        return\n      }\n      var pluginHandle = pluginHandles[sender]\n      if(!pluginHandle) {\n        Janus.debug('This handle is not attached to this session')\n        return\n      }\n      pluginHandle.webrtcState(true)\n      return\n    } else if(json['janus'] === 'hangup') {\n      // A plugin asked the core to hangup a PeerConnection on one of our handles\n      Janus.debug('Got a hangup event on session ' + sessionId)\n      Janus.debug(json)\n      var sender = json['sender']\n      if(!sender) {\n        Janus.warn('Missing sender...')\n        return\n      }\n      var pluginHandle = pluginHandles[sender]\n      if(!pluginHandle) {\n        Janus.debug('This handle is not attached to this session')\n        return\n      }\n      pluginHandle.webrtcState(false, json['reason'])\n      pluginHandle.hangup()\n    } else if(json['janus'] === 'detached') {\n      // A plugin asked the core to detach one of our handles\n      Janus.debug('Got a detached event on session ' + sessionId)\n      Janus.debug(json)\n      var sender = json['sender']\n      if(!sender) {\n        Janus.warn('Missing sender...')\n        return\n      }\n      var pluginHandle = pluginHandles[sender]\n      if(!pluginHandle) {\n        // Don't warn here because destroyHandle causes this situation.\n        return\n      }\n\n      // copied from our prev custom release, possibly a bug fix, maybe no longer necessary.\n      pluginHandle.detached = true\n\n      pluginHandle.ondetached()\n      pluginHandle.detach()\n    } else if(json['janus'] === 'media') {\n      // Media started/stopped flowing\n      Janus.debug('Got a media event on session ' + sessionId)\n      Janus.debug(json)\n      var sender = json['sender']\n      if(!sender) {\n        Janus.warn('Missing sender...')\n        return\n      }\n      var pluginHandle = pluginHandles[sender]\n      if(!pluginHandle) {\n        Janus.debug('This handle is not attached to this session')\n        return\n      }\n      pluginHandle.mediaState(json['type'], json['receiving'])\n    } else if(json['janus'] === 'slowlink') {\n      Janus.debug('Got a slowlink event on session ' + sessionId)\n      Janus.debug(json)\n      // Trouble uplink or downlink\n      var sender = json['sender']\n      if(!sender) {\n        Janus.warn('Missing sender...')\n        return\n      }\n      var pluginHandle = pluginHandles[sender]\n      if(!pluginHandle) {\n        Janus.debug('This handle is not attached to this session')\n        return\n      }\n      pluginHandle.slowLink(json['uplink'], json['lost'])\n    } else if(json['janus'] === 'error') {\n      // Oops, something wrong happened\n      Janus.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason) // FIXME\n      Janus.debug(json)\n      var transaction = json['transaction']\n      if(transaction) {\n        var reportSuccess = transactions[transaction]\n        if(reportSuccess) {\n          reportSuccess(json)\n        }\n        delete transactions[transaction]\n      }\n\n      if (json.error.code === 458) {\n        if (websockets) {\n          ws.close(3505, 'No such session')\n        }\n      }\n\n      return\n    } else if(json['janus'] === 'event') {\n      Janus.debug('Got a plugin event on session ' + sessionId)\n      Janus.debug(json)\n      var sender = json['sender']\n      if(!sender) {\n        Janus.warn('Missing sender...')\n        return\n      }\n      var plugindata = json['plugindata']\n      if(!plugindata) {\n        Janus.warn('Missing plugindata...')\n        return\n      }\n      Janus.debug('  -- Event is coming from ' + sender + ' (' + plugindata['plugin'] + ')')\n      var data = plugindata['data']\n      Janus.debug(data)\n      var pluginHandle = pluginHandles[sender]\n      if(!pluginHandle) {\n        Janus.warn('This handle is not attached to this session')\n        return\n      }\n      var jsep = json['jsep']\n      if(jsep) {\n        Janus.debug('Handling SDP as well...')\n        Janus.debug(jsep)\n      }\n      var callback = pluginHandle.onmessage\n      if(callback) {\n        Janus.debug('Notifying application...')\n        // Send to callback specified when attaching plugin handle\n        callback(data, jsep)\n      } else {\n        // Send to generic callback (?)\n        Janus.debug('No provided notification callback')\n      }\n    } else if(json['janus'] === 'timeout') {\n      Janus.error('Timeout on session ' + sessionId)\n      Janus.debug(json)\n      if (websockets) {\n        ws.close(3504, 'Gateway timeout')\n      }\n      return\n    } else {\n      Janus.warn('Unknown message/event  \\'' + json['janus'] + '\\' on session ' + sessionId)\n      Janus.debug(json)\n    }\n  }\n\n  // Private helper to send keep-alive messages on WebSockets\n  function keepAlive() {\n    if(!server || !websockets || !connected)\n      return\n    wsKeepaliveTimeoutId = setTimeout(keepAlive, keepAlivePeriod)\n    var request = { 'janus': 'keepalive', 'session_id': sessionId, 'transaction': Janus.randomString(12) }\n    if(token)\n      request['token'] = token\n    if(apisecret)\n      request['apisecret'] = apisecret\n    ws.send(JSON.stringify(request))\n  }\n\n  // Private method to create a session\n  function createSession(callbacks) {\n    var transaction = Janus.randomString(12)\n    var request = { 'janus': 'create', 'transaction': transaction }\n    if(callbacks['reconnect']) {\n      // We're reconnecting, claim the session\n      connected = false\n      request['janus'] = 'claim'\n      request['session_id'] = sessionId\n      // If we were using websockets, ignore the old connection\n      if(ws) {\n        ws.onopen = null\n        ws.onerror = null\n        ws.onclose = null\n        if(wsKeepaliveTimeoutId) {\n          clearTimeout(wsKeepaliveTimeoutId)\n          wsKeepaliveTimeoutId = null\n        }\n      }\n    }\n    if(token)\n      request['token'] = token\n    if(apisecret)\n      request['apisecret'] = apisecret\n    if(!server && Janus.isArray(servers)) {\n      // We still need to find a working server from the list we were given\n      server = servers[serversIndex]\n      if(server.indexOf('ws') === 0) {\n        websockets = true\n        Janus.log('Server #' + (serversIndex+1) + ': trying WebSockets to contact Janus (' + server + ')')\n      } else {\n        websockets = false\n        Janus.log('Server #' + (serversIndex+1) + ': trying REST API to contact Janus (' + server + ')')\n      }\n    }\n    if(websockets) {\n      ws = Janus.newWebSocket(server, 'janus-protocol')\n      wsHandlers = {\n        'error': function() {\n          Janus.error('Error connecting to the Janus WebSockets server... ' + server)\n          if (Janus.isArray(servers) && !callbacks['reconnect']) {\n            serversIndex++\n            if (serversIndex === servers.length) {\n              // We tried all the servers the user gave us and they all failed\n              callbacks.error('Error connecting to any of the provided Janus servers: Is the server down?')\n              return\n            }\n            // Let's try the next server\n            server = null\n            setTimeout(function() {\n              createSession(callbacks)\n            }, 200)\n            return\n          }\n          callbacks.error('Error connecting to the Janus WebSockets server: Is the server down?')\n        },\n\n        'open': function() {\n          callbacks.wsopened()\n\n          // We need to be notified about the success\n          transactions[transaction] = function(json) {\n            Janus.debug(json)\n            if (json['janus'] !== 'success') {\n              Janus.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason) // FIXME\n              callbacks.error(json['error'].reason)\n              return\n            }\n            wsKeepaliveTimeoutId = setTimeout(keepAlive, keepAlivePeriod)\n            connected = true\n            sessionId = json['session_id'] ? json['session_id'] : json.data['id']\n            if(callbacks['reconnect']) {\n              Janus.log('Claimed session: ' + sessionId)\n            } else {\n              Janus.log('Created session: ' + sessionId)\n            }\n            Janus.sessions[sessionId] = that\n            callbacks.success()\n          }\n          ws.send(JSON.stringify(request))\n        },\n\n        'message': function(event) {\n          handleEvent(JSON.parse(event.data))\n        },\n\n        'close': function() {\n          if (!server || !connected) {\n            return\n          }\n          connected = false\n          // FIXME What if this is called when the page is closed?\n          gatewayCallbacks.error('Lost connection to the server (is it down?)')\n        }\n      }\n\n      for(var eventName in wsHandlers) {\n        ws.addEventListener(eventName, wsHandlers[eventName])\n      }\n\n      return\n    }\n    Janus.httpAPICall(server, {\n      verb: 'POST',\n      withCredentials: withCredentials,\n      body: request,\n      success: function(json) {\n        Janus.debug(json)\n        if(json['janus'] !== 'success') {\n          Janus.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason) // FIXME\n          callbacks.error(json['error'].reason)\n          return\n        }\n        connected = true\n        sessionId = json['session_id'] ? json['session_id'] : json.data['id']\n        if(callbacks['reconnect']) {\n          Janus.log('Claimed session: ' + sessionId)\n        } else {\n          Janus.log('Created session: ' + sessionId)\n        }\n        Janus.sessions[sessionId] = that\n        eventHandler()\n        callbacks.success()\n      },\n      error: function(textStatus, errorThrown) {\n        Janus.error(textStatus + ':', errorThrown) // FIXME\n        if(Janus.isArray(servers) && !callbacks['reconnect']) {\n          serversIndex++\n          if(serversIndex === servers.length) {\n            // We tried all the servers the user gave us and they all failed\n            callbacks.error('Error connecting to any of the provided Janus servers: Is the server down?')\n            return\n          }\n          // Let's try the next server\n          server = null\n          setTimeout(function() { createSession(callbacks) }, 200)\n          return\n        }\n        if(errorThrown === '')\n          callbacks.error(textStatus + ': Is the server down?')\n        else\n          callbacks.error(textStatus + ': ' + errorThrown)\n      }\n    })\n  }\n\n  // Private method to get info on the server\n  function getInfo(callbacks) {\n    callbacks = callbacks || {}\n    // FIXME This method triggers a success even when we fail\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : Janus.noop\n    Janus.log('Getting info on Janus instance')\n    if(!connected) {\n      Janus.warn('Is the server down? (connected=false)')\n      callbacks.error('Is the server down? (connected=false)')\n      return\n    }\n    // We just need to send an \"info\" request\n    var transaction = Janus.randomString(12)\n    var request = { 'janus': 'info', 'transaction': transaction }\n    if(token)\n      request['token'] = token\n    if(apisecret)\n      request['apisecret'] = apisecret\n    if(websockets) {\n      transactions[transaction] = function(json) {\n        Janus.log('Server info:')\n        Janus.debug(json)\n        if(json['janus'] !== 'server_info') {\n          Janus.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason) // FIXME\n        }\n        callbacks.success(json)\n      }\n      ws.send(JSON.stringify(request))\n      return\n    }\n    Janus.httpAPICall(server, {\n      verb: 'POST',\n      withCredentials: withCredentials,\n      body: request,\n      success: function(json) {\n        Janus.log('Server info:')\n        Janus.debug(json)\n        if(json['janus'] !== 'server_info') {\n          Janus.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason) // FIXME\n        }\n        callbacks.success(json)\n      },\n      error: function(textStatus, errorThrown) {\n        Janus.error(textStatus + ':', errorThrown) // FIXME\n        if(errorThrown === '')\n          callbacks.error(textStatus + ': Is the server down?')\n        else\n          callbacks.error(textStatus + ': ' + errorThrown)\n      }\n    })\n  }\n\n  // Private method to destroy a session\n  function destroySession(callbacks) {\n    callbacks = callbacks || {}\n    // FIXME This method triggers a success even when we fail\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : Janus.noop\n    var unload = (callbacks.unload === true)\n    var notifyDestroyed = true\n    if(callbacks.notifyDestroyed !== undefined && callbacks.notifyDestroyed !== null)\n      notifyDestroyed = (callbacks.notifyDestroyed === true)\n    var cleanupHandles = (callbacks.cleanupHandles === true)\n    Janus.log('Destroying session ' + sessionId + ' (unload=' + unload + ')')\n    if(!sessionId) {\n      Janus.warn('No session to destroy')\n      callbacks.success()\n      if(notifyDestroyed)\n        gatewayCallbacks.destroyed()\n      return\n    }\n    if(cleanupHandles) {\n      for(var handleId in pluginHandles)\n        destroyHandle(handleId, { noRequest: true })\n    }\n    if(!connected) {\n      Janus.warn('Is the server down? (connected=false)')\n      sessionId = null\n      callbacks.success()\n      return\n    }\n    // No need to destroy all handles first, Janus will do that itself\n    var request = { 'janus': 'destroy', 'transaction': Janus.randomString(12) }\n    if(token)\n      request['token'] = token\n    if(apisecret)\n      request['apisecret'] = apisecret\n    if(unload) {\n      // We're unloading the page: use sendBeacon for HTTP instead,\n      // or just close the WebSocket connection if we're using that\n      if(websockets) {\n        ws.onclose = null\n        ws.close()\n        ws = null\n      } else {\n        navigator.sendBeacon(server + '/' + sessionId, JSON.stringify(request))\n      }\n      Janus.log('Destroyed session:')\n      sessionId = null\n      connected = false\n      callbacks.success()\n      if(notifyDestroyed)\n        gatewayCallbacks.destroyed()\n      return\n    }\n    if(websockets) {\n      request['session_id'] = sessionId\n\n      var unbindWebSocket = function() {\n        for(var eventName in wsHandlers) {\n          ws.removeEventListener(eventName, wsHandlers[eventName])\n        }\n        ws.removeEventListener('message', onUnbindMessage)\n        ws.removeEventListener('error', onUnbindError)\n        if(wsKeepaliveTimeoutId) {\n          clearTimeout(wsKeepaliveTimeoutId)\n        }\n        ws.close()\n      }\n\n      var onUnbindMessage = function(event){\n        var data = JSON.parse(event.data)\n        if(data.session_id == request.session_id && data.transaction == request.transaction) {\n          unbindWebSocket()\n          callbacks.success()\n          if(notifyDestroyed)\n            gatewayCallbacks.destroyed()\n        }\n      }\n      var onUnbindError = function(event) {\n        unbindWebSocket()\n        callbacks.error('Failed to destroy the server: Is the server down?')\n        if(notifyDestroyed)\n          gatewayCallbacks.destroyed()\n      }\n\n      ws.addEventListener('message', onUnbindMessage)\n      ws.addEventListener('error', onUnbindError)\n\n      if (ws.readyState === 1) {\n        ws.send(JSON.stringify(request))\n      } else {\n        onUnbindError()\n      }\n\n      return\n    }\n    Janus.httpAPICall(server + '/' + sessionId, {\n      verb: 'POST',\n      withCredentials: withCredentials,\n      body: request,\n      success: function(json) {\n        Janus.log('Destroyed session:')\n        Janus.debug(json)\n        sessionId = null\n        connected = false\n        if(json['janus'] !== 'success') {\n          Janus.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason) // FIXME\n        }\n        callbacks.success()\n        if(notifyDestroyed)\n          gatewayCallbacks.destroyed()\n      },\n      error: function(textStatus, errorThrown) {\n        Janus.error(textStatus + ':', errorThrown) // FIXME\n        // Reset everything anyway\n        sessionId = null\n        connected = false\n        callbacks.success()\n        if(notifyDestroyed)\n          gatewayCallbacks.destroyed()\n      }\n    })\n  }\n\n  // Private method to create a plugin handle\n  function createHandle(callbacks) {\n    callbacks = callbacks || {}\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : Janus.noop\n    callbacks.consentDialog = (typeof callbacks.consentDialog == 'function') ? callbacks.consentDialog : Janus.noop\n    callbacks.iceState = (typeof callbacks.iceState == 'function') ? callbacks.iceState : Janus.noop\n    callbacks.mediaState = (typeof callbacks.mediaState == 'function') ? callbacks.mediaState : Janus.noop\n    callbacks.webrtcState = (typeof callbacks.webrtcState == 'function') ? callbacks.webrtcState : Janus.noop\n    callbacks.slowLink = (typeof callbacks.slowLink == 'function') ? callbacks.slowLink : Janus.noop\n    callbacks.onmessage = (typeof callbacks.onmessage == 'function') ? callbacks.onmessage : Janus.noop\n    callbacks.onlocalstream = (typeof callbacks.onlocalstream == 'function') ? callbacks.onlocalstream : Janus.noop\n    callbacks.onremotestream = (typeof callbacks.onremotestream == 'function') ? callbacks.onremotestream : Janus.noop\n    callbacks.ondata = (typeof callbacks.ondata == 'function') ? callbacks.ondata : Janus.noop\n    callbacks.ondataopen = (typeof callbacks.ondataopen == 'function') ? callbacks.ondataopen : Janus.noop\n    callbacks.oncleanup = (typeof callbacks.oncleanup == 'function') ? callbacks.oncleanup : Janus.noop\n    callbacks.ondetached = (typeof callbacks.ondetached == 'function') ? callbacks.ondetached : Janus.noop\n    if(!connected) {\n      Janus.warn('Is the server down? (connected=false)')\n      callbacks.error('Is the server down? (connected=false)')\n      return\n    }\n    var plugin = callbacks.plugin\n    if(!plugin) {\n      Janus.error('Invalid plugin')\n      callbacks.error('Invalid plugin')\n      return\n    }\n    var opaqueId = callbacks.opaqueId\n    var handleToken = callbacks.token ? callbacks.token : token\n    var transaction = Janus.randomString(12)\n    var request = { 'janus': 'attach', 'plugin': plugin, 'opaque_id': opaqueId, 'transaction': transaction }\n    if(handleToken)\n      request['token'] = handleToken\n    if(apisecret)\n      request['apisecret'] = apisecret\n    if(websockets) {\n      transactions[transaction] = function(json) {\n        Janus.debug(json)\n        if(json['janus'] !== 'success') {\n          Janus.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason) // FIXME\n          callbacks.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason)\n          return\n        }\n        var handleId = json.data['id']\n        Janus.log('Created handle: ' + handleId)\n        var pluginHandle =\n          {\n            session : that,\n            plugin : plugin,\n            id : handleId,\n            token : handleToken,\n            detached : false,\n            webrtcStuff : {\n              started : false,\n              myStream : null,\n              streamExternal : false,\n              remoteStream : null,\n              mySdp : null,\n              mediaConstraints : null,\n              pc : null,\n              dataChannel : {},\n              dtmfSender : null,\n              trickle : true,\n              iceDone : false,\n              volume : {\n                value : null,\n                timer : null\n              },\n              bitrate : {\n                value : null,\n                bsnow : null,\n                bsbefore : null,\n                tsnow : null,\n                tsbefore : null,\n                timer : null\n              }\n            },\n            getId : function() { return handleId },\n            getPlugin : function() { return plugin },\n            getVolume : function() { return getVolume(handleId, true) },\n            getRemoteVolume : function() { return getVolume(handleId, true) },\n            getLocalVolume : function() { return getVolume(handleId, false) },\n            isAudioMuted : function() { return isMuted(handleId, false) },\n            muteAudio : function() { return mute(handleId, false, true) },\n            unmuteAudio : function() { return mute(handleId, false, false) },\n            isVideoMuted : function() { return isMuted(handleId, true) },\n            muteVideo : function() { return mute(handleId, true, true) },\n            unmuteVideo : function() { return mute(handleId, true, false) },\n            getBitrate : function() { return getBitrate(handleId) },\n            send : function(callbacks) { sendMessage(handleId, callbacks) },\n            data : function(callbacks) { sendData(handleId, callbacks) },\n            dtmf : function(callbacks) { sendDtmf(handleId, callbacks) },\n            consentDialog : callbacks.consentDialog,\n            iceState : callbacks.iceState,\n            mediaState : callbacks.mediaState,\n            webrtcState : callbacks.webrtcState,\n            slowLink : callbacks.slowLink,\n            onmessage : callbacks.onmessage,\n            createOffer : function(callbacks) { prepareWebrtc(handleId, true, callbacks) },\n            createAnswer : function(callbacks) { prepareWebrtc(handleId, false, callbacks) },\n            handleRemoteJsep : function(callbacks) { prepareWebrtcPeer(handleId, callbacks) },\n            onlocalstream : callbacks.onlocalstream,\n            onremotestream : callbacks.onremotestream,\n            ontrackmuted : callbacks.ontrackmuted,\n            ontrackunmuted : callbacks.ontrackunmuted,\n            ondata : callbacks.ondata,\n            ondataopen : callbacks.ondataopen,\n            oncleanup : callbacks.oncleanup,\n            ondetached : callbacks.ondetached,\n            hangup : function(sendRequest) { cleanupWebrtc(handleId, sendRequest === true) },\n            detach : function(callbacks) { destroyHandle(handleId, callbacks) }\n          }\n        pluginHandles[handleId] = pluginHandle\n        callbacks.success(pluginHandle)\n      }\n      request['session_id'] = sessionId\n      ws.send(JSON.stringify(request))\n      return\n    }\n    Janus.httpAPICall(server + '/' + sessionId, {\n      verb: 'POST',\n      withCredentials: withCredentials,\n      body: request,\n      success: function(json) {\n        Janus.debug(json)\n        if(json['janus'] !== 'success') {\n          Janus.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason) // FIXME\n          callbacks.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason)\n          return\n        }\n        var handleId = json.data['id']\n        Janus.log('Created handle: ' + handleId)\n        var pluginHandle =\n          {\n            session : that,\n            plugin : plugin,\n            id : handleId,\n            token : handleToken,\n            detached : false,\n            webrtcStuff : {\n              started : false,\n              myStream : null,\n              streamExternal : false,\n              remoteStream : null,\n              mySdp : null,\n              mediaConstraints : null,\n              pc : null,\n              dataChannel : {},\n              dtmfSender : null,\n              trickle : true,\n              iceDone : false,\n              volume : {\n                value : null,\n                timer : null\n              },\n              bitrate : {\n                value : null,\n                bsnow : null,\n                bsbefore : null,\n                tsnow : null,\n                tsbefore : null,\n                timer : null\n              }\n            },\n            getId : function() { return handleId },\n            getPlugin : function() { return plugin },\n            getVolume : function() { return getVolume(handleId, true) },\n            getRemoteVolume : function() { return getVolume(handleId, true) },\n            getLocalVolume : function() { return getVolume(handleId, false) },\n            isAudioMuted : function() { return isMuted(handleId, false) },\n            muteAudio : function() { return mute(handleId, false, true) },\n            unmuteAudio : function() { return mute(handleId, false, false) },\n            isVideoMuted : function() { return isMuted(handleId, true) },\n            muteVideo : function() { return mute(handleId, true, true) },\n            unmuteVideo : function() { return mute(handleId, true, false) },\n            getBitrate : function() { return getBitrate(handleId) },\n            send : function(callbacks) { sendMessage(handleId, callbacks) },\n            data : function(callbacks) { sendData(handleId, callbacks) },\n            dtmf : function(callbacks) { sendDtmf(handleId, callbacks) },\n            consentDialog : callbacks.consentDialog,\n            iceState : callbacks.iceState,\n            mediaState : callbacks.mediaState,\n            webrtcState : callbacks.webrtcState,\n            slowLink : callbacks.slowLink,\n            onmessage : callbacks.onmessage,\n            createOffer : function(callbacks) { prepareWebrtc(handleId, true, callbacks) },\n            createAnswer : function(callbacks) { prepareWebrtc(handleId, false, callbacks) },\n            handleRemoteJsep : function(callbacks) { prepareWebrtcPeer(handleId, callbacks) },\n            onlocalstream : callbacks.onlocalstream,\n            onremotestream : callbacks.onremotestream,\n            ontrackmuted : callbacks.ontrackmuted,\n            ontrackunmuted : callbacks.ontrackunmuted,\n            ondata : callbacks.ondata,\n            ondataopen : callbacks.ondataopen,\n            oncleanup : callbacks.oncleanup,\n            ondetached : callbacks.ondetached,\n            hangup : function(sendRequest) { cleanupWebrtc(handleId, sendRequest === true) },\n            detach : function(callbacks) { destroyHandle(handleId, callbacks) }\n          }\n        pluginHandles[handleId] = pluginHandle\n        callbacks.success(pluginHandle)\n      },\n      error: function(textStatus, errorThrown) {\n        Janus.error(textStatus + ':', errorThrown) // FIXME\n        if(errorThrown === '')\n          callbacks.error(textStatus + ': Is the server down?')\n        else\n          callbacks.error(textStatus + ': ' + errorThrown)\n      }\n    })\n  }\n\n  // Private method to send a message\n  function sendMessage(handleId, callbacks) {\n    callbacks = callbacks || {}\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : Janus.noop\n    if(!connected) {\n      Janus.warn('Is the server down? (connected=false)')\n      callbacks.error('Is the server down? (connected=false)')\n      return\n    }\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      callbacks.error('Invalid handle')\n      return\n    }\n    var message = callbacks.message\n    var jsep = callbacks.jsep\n    var transaction = Janus.randomString(12)\n    var request = { 'janus': 'message', 'body': message, 'transaction': transaction }\n    if(pluginHandle.token)\n      request['token'] = pluginHandle.token\n    if(apisecret)\n      request['apisecret'] = apisecret\n    if(jsep) {\n      request.jsep = {\n        type: jsep.type,\n        sdp: jsep.sdp\n      }\n      if(jsep.e2ee)\n        request.jsep.e2ee = true\n      if(jsep.rid_order === 'hml' || jsep.rid_order === 'lmh')\n        request.jsep.rid_order = jsep.rid_order\n    }\n    Janus.debug('Sending message to plugin (handle=' + handleId + '):')\n    Janus.debug(request)\n    if(websockets) {\n      request['session_id'] = sessionId\n      request['handle_id'] = handleId\n      transactions[transaction] = function(json) {\n        Janus.debug('Message sent!')\n        Janus.debug(json)\n        if(json['janus'] === 'success') {\n          // We got a success, must have been a synchronous transaction\n          var plugindata = json['plugindata']\n          if(!plugindata) {\n            Janus.warn('Request succeeded, but missing plugindata...')\n            callbacks.success()\n            return\n          }\n          Janus.log('Synchronous transaction successful (' + plugindata['plugin'] + ')')\n          var data = plugindata['data']\n          Janus.debug(data)\n          callbacks.success(data)\n          return\n        } else if(json['janus'] !== 'ack') {\n          // Not a success and not an ack, must be an error\n          if(json['error']) {\n            Janus.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason) // FIXME\n            callbacks.error(json['error'].code + ' ' + json['error'].reason)\n          } else {\n            Janus.error('Unknown error') // FIXME\n            callbacks.error('Unknown error')\n          }\n          return\n        }\n        // If we got here, the plugin decided to handle the request asynchronously\n        callbacks.success()\n      }\n      ws.send(JSON.stringify(request))\n      return\n    }\n    Janus.httpAPICall(server + '/' + sessionId + '/' + handleId, {\n      verb: 'POST',\n      withCredentials: withCredentials,\n      body: request,\n      success: function(json) {\n        Janus.debug('Message sent!')\n        Janus.debug(json)\n        if(json['janus'] === 'success') {\n          // We got a success, must have been a synchronous transaction\n          var plugindata = json['plugindata']\n          if(!plugindata) {\n            Janus.warn('Request succeeded, but missing plugindata...')\n            callbacks.success()\n            return\n          }\n          Janus.log('Synchronous transaction successful (' + plugindata['plugin'] + ')')\n          var data = plugindata['data']\n          Janus.debug(data)\n          callbacks.success(data)\n          return\n        } else if(json['janus'] !== 'ack') {\n          // Not a success and not an ack, must be an error\n          if(json['error']) {\n            Janus.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason) // FIXME\n            callbacks.error(json['error'].code + ' ' + json['error'].reason)\n          } else {\n            Janus.error('Unknown error') // FIXME\n            callbacks.error('Unknown error')\n          }\n          return\n        }\n        // If we got here, the plugin decided to handle the request asynchronously\n        callbacks.success()\n      },\n      error: function(textStatus, errorThrown) {\n        Janus.error(textStatus + ':', errorThrown) // FIXME\n        callbacks.error(textStatus + ': ' + errorThrown)\n      }\n    })\n  }\n\n  // Private method to send a trickle candidate\n  function sendTrickleCandidate(handleId, candidate) {\n    if(!connected) {\n      Janus.warn('Is the server down? (connected=false)')\n      return\n    }\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      return\n    }\n    var request = { 'janus': 'trickle', 'candidate': candidate, 'transaction': Janus.randomString(12) }\n    if(pluginHandle.token)\n      request['token'] = pluginHandle.token\n    if(apisecret)\n      request['apisecret'] = apisecret\n    Janus.vdebug('Sending trickle candidate (handle=' + handleId + '):')\n    Janus.vdebug(request)\n    if(websockets) {\n      request['session_id'] = sessionId\n      request['handle_id'] = handleId\n      ws.send(JSON.stringify(request))\n      return\n    }\n    Janus.httpAPICall(server + '/' + sessionId + '/' + handleId, {\n      verb: 'POST',\n      withCredentials: withCredentials,\n      body: request,\n      success: function(json) {\n        Janus.vdebug('Candidate sent!')\n        Janus.vdebug(json)\n        if(json['janus'] !== 'ack') {\n          Janus.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason) // FIXME\n          return\n        }\n      },\n      error: function(textStatus, errorThrown) {\n        Janus.error(textStatus + ':', errorThrown) // FIXME\n      }\n    })\n  }\n\n  // Private method to create a data channel\n  function createDataChannel(handleId, dclabel, dcprotocol, incoming, pendingData) {\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      return\n    }\n    var config = pluginHandle.webrtcStuff\n    if(!config.pc) {\n      Janus.warn('Invalid PeerConnection')\n      return\n    }\n    var onDataChannelMessage = function(event) {\n      var label = event.target.label\n      pluginHandle.ondata(event.data, label)\n    }\n    var onDataChannelStateChange = function(event) {\n      Janus.log('Received state change on data channel:', event)\n      var label = event.target.label\n      var protocol = event.target.protocol\n      var dcState = config.dataChannel[label] ? config.dataChannel[label].readyState : 'null'\n      Janus.log('State change on <' + label + '> data channel: ' + dcState)\n      if(dcState === 'open') {\n        // Any pending messages to send?\n        if(config.dataChannel[label].pending && config.dataChannel[label].pending.length > 0) {\n          Janus.log('Sending pending messages on <' + label + '>:', config.dataChannel[label].pending.length)\n          for(var data of config.dataChannel[label].pending) {\n            Janus.log('Sending data on data channel <' + label + '>')\n            Janus.debug(data)\n            config.dataChannel[label].send(data)\n          }\n          config.dataChannel[label].pending = []\n        }\n        // Notify the open data channel\n        pluginHandle.ondataopen(label, protocol)\n      }\n    }\n    var onDataChannelError = function(error) {\n      Janus.error('Got error on data channel:', error)\n      // TODO\n    }\n    if(!incoming) {\n      // FIXME Add options (ordered, maxRetransmits, etc.)\n      var dcoptions = { ordered: true }\n      if(dcprotocol)\n        dcoptions.protocol = dcprotocol\n      config.dataChannel[dclabel] = config.pc.createDataChannel(dclabel, dcoptions)\n    } else {\n      // The channel was created by Janus\n      config.dataChannel[dclabel] = incoming\n    }\n    config.dataChannel[dclabel].onmessage = onDataChannelMessage\n    config.dataChannel[dclabel].onopen = onDataChannelStateChange\n    config.dataChannel[dclabel].onclose = onDataChannelStateChange\n    config.dataChannel[dclabel].onerror = onDataChannelError\n    config.dataChannel[dclabel].pending = []\n    if(pendingData)\n      config.dataChannel[dclabel].pending.push(pendingData)\n  }\n\n  // Private method to send a data channel message\n  function sendData(handleId, callbacks) {\n    callbacks = callbacks || {}\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : Janus.noop\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      callbacks.error('Invalid handle')\n      return\n    }\n    var config = pluginHandle.webrtcStuff\n    var data = callbacks.text || callbacks.data\n    if(!data) {\n      Janus.warn('Invalid data')\n      callbacks.error('Invalid data')\n      return\n    }\n    var label = callbacks.label ? callbacks.label : Janus.dataChanDefaultLabel\n    if(!config.dataChannel[label]) {\n      // Create new data channel and wait for it to open\n      createDataChannel(handleId, label, callbacks.protocol, false, data, callbacks.protocol)\n      callbacks.success()\n      return\n    }\n    if(config.dataChannel[label].readyState !== 'open') {\n      config.dataChannel[label].pending.push(data)\n      callbacks.success()\n      return\n    }\n    Janus.log('Sending data on data channel <' + label + '>')\n    Janus.debug(data)\n    config.dataChannel[label].send(data)\n    callbacks.success()\n  }\n\n  // Private method to send a DTMF tone\n  function sendDtmf(handleId, callbacks) {\n    callbacks = callbacks || {}\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : Janus.noop\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      callbacks.error('Invalid handle')\n      return\n    }\n    var config = pluginHandle.webrtcStuff\n    if(!config.dtmfSender) {\n      // Create the DTMF sender the proper way, if possible\n      if(config.pc) {\n        var senders = config.pc.getSenders()\n        var audioSender = senders.find(function(sender) {\n          return sender.track && sender.track.kind === 'audio'\n        })\n        if(!audioSender) {\n          Janus.warn('Invalid DTMF configuration (no audio track)')\n          callbacks.error('Invalid DTMF configuration (no audio track)')\n          return\n        }\n        config.dtmfSender = audioSender.dtmf\n        if(config.dtmfSender) {\n          Janus.log('Created DTMF Sender')\n          config.dtmfSender.ontonechange = function(tone) { Janus.debug('Sent DTMF tone: ' + tone.tone) }\n        }\n      }\n      if(!config.dtmfSender) {\n        Janus.warn('Invalid DTMF configuration')\n        callbacks.error('Invalid DTMF configuration')\n        return\n      }\n    }\n    var dtmf = callbacks.dtmf\n    if(!dtmf) {\n      Janus.warn('Invalid DTMF parameters')\n      callbacks.error('Invalid DTMF parameters')\n      return\n    }\n    var tones = dtmf.tones\n    if(!tones) {\n      Janus.warn('Invalid DTMF string')\n      callbacks.error('Invalid DTMF string')\n      return\n    }\n    var duration = (typeof dtmf.duration === 'number') ? dtmf.duration : 500 // We choose 500ms as the default duration for a tone\n    var gap = (typeof dtmf.gap === 'number') ? dtmf.gap : 50 // We choose 50ms as the default gap between tones\n    Janus.debug('Sending DTMF string ' + tones + ' (duration ' + duration + 'ms, gap ' + gap + 'ms)')\n    config.dtmfSender.insertDTMF(tones, duration, gap)\n    callbacks.success()\n  }\n\n  // Private method to destroy a plugin handle\n  function destroyHandle(handleId, callbacks) {\n    callbacks = callbacks || {}\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : Janus.noop\n    var noRequest = (callbacks.noRequest === true)\n    Janus.log('Destroying handle ' + handleId + ' (only-locally=' + noRequest + ')')\n    cleanupWebrtc(handleId)\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || pluginHandle.detached) {\n      // Plugin was already detached by Janus, calling detach again will return a handle not found error, so just exit here\n      delete pluginHandles[handleId]\n      callbacks.success()\n      return\n    }\n    pluginHandle.detached = true\n    if(noRequest) {\n      // We're only removing the handle locally\n      delete pluginHandles[handleId]\n      callbacks.success()\n      return\n    }\n    if(!connected) {\n      Janus.warn('Is the server down? (connected=false)')\n      callbacks.error('Is the server down? (connected=false)')\n      return\n    }\n    var request = { 'janus': 'detach', 'transaction': Janus.randomString(12) }\n    if(pluginHandle.token)\n      request['token'] = pluginHandle.token\n    if(apisecret)\n      request['apisecret'] = apisecret\n    if(websockets) {\n      request['session_id'] = sessionId\n      request['handle_id'] = handleId\n      ws.send(JSON.stringify(request))\n      delete pluginHandles[handleId]\n      callbacks.success()\n      return\n    }\n    Janus.httpAPICall(server + '/' + sessionId + '/' + handleId, {\n      verb: 'POST',\n      withCredentials: withCredentials,\n      body: request,\n      success: function(json) {\n        Janus.log('Destroyed handle:')\n        Janus.debug(json)\n        if(json['janus'] !== 'success') {\n          Janus.error('Ooops: ' + json['error'].code + ' ' + json['error'].reason) // FIXME\n        }\n        delete pluginHandles[handleId]\n        callbacks.success()\n      },\n      error: function(textStatus, errorThrown) {\n        Janus.error(textStatus + ':', errorThrown) // FIXME\n        // We cleanup anyway\n        delete pluginHandles[handleId]\n        callbacks.success()\n      }\n    })\n  }\n\n  // WebRTC stuff\n  function streamsDone(handleId, jsep, media, callbacks, stream) {\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      // Close all tracks if the given stream has been created internally\n      if(!callbacks.stream) {\n        Janus.stopAllTracks(stream)\n      }\n      callbacks.error('Invalid handle')\n      return\n    }\n    var config = pluginHandle.webrtcStuff\n    Janus.debug('streamsDone:', stream)\n    if(stream) {\n      Janus.debug('  -- Audio tracks:', stream.getAudioTracks())\n      Janus.debug('  -- Video tracks:', stream.getVideoTracks())\n    }\n    // We're now capturing the new stream: check if we're updating or if it's a new thing\n    var addTracks = false\n    if(!config.myStream || !media.update || (config.streamExternal && !media.replaceAudio && !media.replaceVideo)) {\n      config.myStream = stream\n      addTracks = true\n    } else {\n      // We only need to update the existing stream\n      if(((!media.update && isAudioSendEnabled(media)) || (media.update && (media.addAudio || media.replaceAudio))) &&\n          stream.getAudioTracks() && stream.getAudioTracks().length) {\n        config.myStream.addTrack(stream.getAudioTracks()[0])\n        if(Janus.unifiedPlan) {\n          // Use Transceivers\n          Janus.log((media.replaceAudio ? 'Replacing' : 'Adding') + ' audio track:', stream.getAudioTracks()[0])\n          var audioTransceiver = null\n          var transceivers = config.pc.getTransceivers()\n          if(transceivers && transceivers.length > 0) {\n            for(var t of transceivers) {\n              if((t.sender && t.sender.track && t.sender.track.kind === 'audio') ||\n                  (t.receiver && t.receiver.track && t.receiver.track.kind === 'audio')) {\n                audioTransceiver = t\n                break\n              }\n            }\n          }\n          if(audioTransceiver && audioTransceiver.sender) {\n            audioTransceiver.sender.replaceTrack(stream.getAudioTracks()[0])\n          } else {\n            config.pc.addTrack(stream.getAudioTracks()[0], stream)\n          }\n        } else {\n          Janus.log((media.replaceAudio ? 'Replacing' : 'Adding') + ' audio track:', stream.getAudioTracks()[0])\n          config.pc.addTrack(stream.getAudioTracks()[0], stream)\n        }\n      }\n      if(((!media.update && isVideoSendEnabled(media)) || (media.update && (media.addVideo || media.replaceVideo))) &&\n          stream.getVideoTracks() && stream.getVideoTracks().length) {\n        config.myStream.addTrack(stream.getVideoTracks()[0])\n        if(Janus.unifiedPlan) {\n          // Use Transceivers\n          Janus.log((media.replaceVideo ? 'Replacing' : 'Adding') + ' video track:', stream.getVideoTracks()[0])\n          var videoTransceiver = null\n          var transceivers = config.pc.getTransceivers()\n          if(transceivers && transceivers.length > 0) {\n            for(var t of transceivers) {\n              if((t.sender && t.sender.track && t.sender.track.kind === 'video') ||\n                  (t.receiver && t.receiver.track && t.receiver.track.kind === 'video')) {\n                videoTransceiver = t\n                break\n              }\n            }\n          }\n          if(videoTransceiver && videoTransceiver.sender) {\n            videoTransceiver.sender.replaceTrack(stream.getVideoTracks()[0])\n          } else {\n            config.pc.addTrack(stream.getVideoTracks()[0], stream)\n          }\n        } else {\n          Janus.log((media.replaceVideo ? 'Replacing' : 'Adding') + ' video track:', stream.getVideoTracks()[0])\n          config.pc.addTrack(stream.getVideoTracks()[0], stream)\n        }\n      }\n    }\n    // If we still need to create a PeerConnection, let's do that\n    if(!config.pc) {\n      var pc_config = {'iceServers': iceServers, 'iceTransportPolicy': iceTransportPolicy, 'bundlePolicy': bundlePolicy}\n      if(Janus.webRTCAdapter.browserDetails.browser === 'chrome') {\n        // For Chrome versions before 72, we force a plan-b semantic, and unified-plan otherwise\n        pc_config['sdpSemantics'] = (Janus.webRTCAdapter.browserDetails.version < 72) ? 'plan-b' : 'unified-plan'\n      }\n      var pc_constraints = {\n        'optional': [{'DtlsSrtpKeyAgreement': true}]\n      }\n      if(ipv6Support) {\n        pc_constraints.optional.push({'googIPv6':true})\n      }\n      // Any custom constraint to add?\n      if(callbacks.rtcConstraints && typeof callbacks.rtcConstraints === 'object') {\n        Janus.debug('Adding custom PeerConnection constraints:', callbacks.rtcConstraints)\n        for(var i in callbacks.rtcConstraints) {\n          pc_constraints.optional.push(callbacks.rtcConstraints[i])\n        }\n      }\n      if(Janus.webRTCAdapter.browserDetails.browser === 'edge') {\n        // This is Edge, enable BUNDLE explicitly\n        pc_config.bundlePolicy = 'max-bundle'\n      }\n      // Check if a sender or receiver transform has been provided\n      if(RTCRtpSender && (RTCRtpSender.prototype.createEncodedStreams ||\n          (RTCRtpSender.prototype.createEncodedAudioStreams &&\n          RTCRtpSender.prototype.createEncodedVideoStreams)) &&\n          (callbacks.senderTransforms || callbacks.receiverTransforms)) {\n        config.senderTransforms = callbacks.senderTransforms\n        config.receiverTransforms = callbacks.receiverTransforms\n        pc_config['forceEncodedAudioInsertableStreams'] = true\n        pc_config['forceEncodedVideoInsertableStreams'] = true\n        pc_config['encodedInsertableStreams'] = true\n      }\n      Janus.log('Creating PeerConnection')\n      Janus.debug(pc_constraints)\n      config.pc = new RTCPeerConnection(pc_config, pc_constraints)\n      Janus.debug(config.pc)\n      if(config.pc.getStats) { // FIXME\n        config.volume = {}\n      }\n      Janus.log('Preparing local SDP and gathering candidates (trickle=' + config.trickle + ')')\n      config.pc.oniceconnectionstatechange = function(e) {\n        if(config.pc)\n          pluginHandle.iceState(config.pc.iceConnectionState)\n      }\n      config.pc.onicecandidate = function(event) {\n        if (!event.candidate ||\n            (Janus.webRTCAdapter.browserDetails.browser === 'edge' && event.candidate.candidate.indexOf('endOfCandidates') > 0)) {\n          Janus.log('End of candidates.')\n          config.iceDone = true\n          if(config.trickle === true) {\n            // Notify end of candidates\n            sendTrickleCandidate(handleId, {'completed': true})\n          } else {\n            // No trickle, time to send the complete SDP (including all candidates)\n            sendSDP(handleId, callbacks)\n          }\n        } else {\n          // JSON.stringify doesn't work on some WebRTC objects anymore\n          // See https://code.google.com/p/chromium/issues/detail?id=467366\n          var candidate = {\n            'candidate': event.candidate.candidate,\n            'sdpMid': event.candidate.sdpMid,\n            'sdpMLineIndex': event.candidate.sdpMLineIndex\n          }\n          if(config.trickle === true) {\n            // Send candidate\n            sendTrickleCandidate(handleId, candidate)\n          }\n        }\n      }\n      config.pc.ontrack = function(event) {\n        Janus.log('Handling Remote Track')\n        Janus.debug(event)\n        if(!event.streams)\n          return\n        config.remoteStream = event.streams[0]\n        pluginHandle.onremotestream(config.remoteStream)\n        if(event.track.onended)\n          return\n        if(config.receiverTransforms) {\n          var receiverStreams = null\n          if(RTCRtpSender.prototype.createEncodedStreams) {\n            receiverStreams = event.receiver.createEncodedStreams()\n          } else if(RTCRtpSender.prototype.createAudioEncodedStreams || RTCRtpSender.prototype.createEncodedVideoStreams) {\n            if(event.track.kind === 'audio' && config.receiverTransforms['audio']) {\n              receiverStreams = event.receiver.createEncodedAudioStreams()\n            } else if(event.track.kind === 'video' && config.receiverTransforms['video']) {\n              receiverStreams = event.receiver.createEncodedVideoStreams()\n            }\n          }\n          if(receiverStreams) {\n            console.log(receiverStreams)\n            if(receiverStreams.readableStream && receiverStreams.writableStream) {\n              receiverStreams.readableStream\n                .pipeThrough(config.receiverTransforms[event.track.kind])\n                .pipeTo(receiverStreams.writableStream)\n            } else if(receiverStreams.readable && receiverStreams.writable) {\n              receiverStreams.readable\n                .pipeThrough(config.receiverTransforms[event.track.kind])\n                .pipeTo(receiverStreams.writable)\n            }\n          }\n        }\n        var trackMutedTimeoutId = null\n        Janus.log('Adding onended callback to track:', event.track)\n        event.track.onended = function(ev) {\n          Janus.log('Remote track removed:', ev)\n          if(config.remoteStream) {\n            clearTimeout(trackMutedTimeoutId)\n            config.remoteStream.removeTrack(ev.target)\n            pluginHandle.onremotestream(config.remoteStream)\n          }\n        }\n        event.track.onmute = function(ev) {\n          Janus.log('Remote track muted:', ev)\n          if(config.remoteStream && trackMutedTimeoutId == null) {\n            trackMutedTimeoutId = setTimeout(function() {\n              Janus.log('Removing remote track')\n              if (config.remoteStream) {\n                config.remoteStream.removeTrack(ev.target)\n                pluginHandle.onremotestream(config.remoteStream)\n                pluginHandle.ontrackmuted()\n              }\n              trackMutedTimeoutId = null\n            // Chrome seems to raise mute events only at multiples of 834ms;\n            // we set the timeout to three times this value (rounded to 840ms)\n            }, 3 * 840)\n          }\n        }\n        event.track.onunmute = function(ev) {\n          Janus.log('Remote track flowing again:', ev)\n          if(trackMutedTimeoutId != null) {\n            clearTimeout(trackMutedTimeoutId)\n            trackMutedTimeoutId = null\n          } else {\n            try {\n              config.remoteStream.addTrack(ev.target)\n              pluginHandle.onremotestream(config.remoteStream)\n              pluginHandle.ontrackunmuted()\n            } catch(e) {\n              Janus.error(e)\n            }\n          }\n        }\n      }\n    }\n    if(addTracks && stream) {\n      Janus.log('Adding local stream')\n      var simulcast2 = (callbacks.simulcast2 === true)\n      stream.getTracks().forEach(function(track) {\n        Janus.log('Adding local track:', track)\n        var sender = null\n        if(!simulcast2 || track.kind === 'audio') {\n          sender = config.pc.addTrack(track, stream)\n        } else {\n          Janus.log('Enabling rid-based simulcasting:', track)\n          var maxBitrates = getMaxBitrates(callbacks.simulcastMaxBitrates)\n          var tr = config.pc.addTransceiver(track, {\n            direction: 'sendrecv',\n            streams: [stream],\n            sendEncodings: callbacks.sendEncodings || [\n              { rid: 'h', active: true, maxBitrate: maxBitrates.high },\n              { rid: 'm', active: true, maxBitrate: maxBitrates.medium, scaleResolutionDownBy: 2 },\n              { rid: 'l', active: true, maxBitrate: maxBitrates.low, scaleResolutionDownBy: 4 }\n            ]\n          })\n          if(tr)\n            sender = tr.sender\n        }\n        // Check if insertable streams are involved\n        if(sender && config.senderTransforms) {\n          var senderStreams = null\n          if(RTCRtpSender.prototype.createEncodedStreams) {\n            senderStreams = sender.createEncodedStreams()\n          } else if(RTCRtpSender.prototype.createAudioEncodedStreams || RTCRtpSender.prototype.createEncodedVideoStreams) {\n            if(sender.track.kind === 'audio' && config.senderTransforms['audio']) {\n              senderStreams = sender.createEncodedAudioStreams()\n            } else if(sender.track.kind === 'video' && config.senderTransforms['video']) {\n              senderStreams = sender.createEncodedVideoStreams()\n            }\n          }\n          if(senderStreams) {\n            console.log(senderStreams)\n            if(senderStreams.readableStream && senderStreams.writableStream) {\n              senderStreams.readableStream\n                .pipeThrough(config.senderTransforms[sender.track.kind])\n                .pipeTo(senderStreams.writableStream)\n            } else if(senderStreams.readable && senderStreams.writable) {\n              senderStreams.readable\n                .pipeThrough(config.senderTransforms[sender.track.kind])\n                .pipeTo(senderStreams.writable)\n            }\n          }\n        }\n      })\n    }\n    // Any data channel to create?\n    if(isDataEnabled(media) && !config.dataChannel[Janus.dataChanDefaultLabel]) {\n      Janus.log('Creating default data channel')\n      createDataChannel(handleId, Janus.dataChanDefaultLabel, null, false)\n      config.pc.ondatachannel = function(event) {\n        Janus.log('Data channel created by Janus:', event)\n        createDataChannel(handleId, event.channel.label, event.channel.protocol, event.channel)\n      }\n    }\n    // If there's a new local stream, let's notify the application\n    if(config.myStream) {\n      pluginHandle.onlocalstream(config.myStream)\n    }\n    // Create offer/answer now\n    if(!jsep) {\n      createOffer(handleId, media, callbacks)\n    } else {\n      // some firefox vs 420029 fix here, copied from our prev custom release\n      var oldsdp = jsep['sdp']\n      var pattern = /420029/gi\n      var newsdp = oldsdp.replace(pattern,'42e01f')\n      Janus.log(newsdp)\n      jsep['sdp'] = newsdp\n      config.pc.setRemoteDescription(jsep)\n        .then(function() {\n          Janus.log('Remote description accepted!')\n          config.remoteSdp = jsep.sdp\n          // Any trickle candidate we cached?\n          if(config.candidates && config.candidates.length > 0) {\n            for(var i = 0; i< config.candidates.length; i++) {\n              var candidate = config.candidates[i]\n              Janus.debug('Adding remote candidate:', candidate)\n              if(!candidate || candidate.completed === true) {\n                // end-of-candidates\n                config.pc.addIceCandidate(Janus.endOfCandidates)\n              } else {\n                // New candidate\n                config.pc.addIceCandidate(candidate)\n              }\n            }\n            config.candidates = []\n          }\n          // Create the answer now\n          createAnswer(handleId, media, callbacks)\n        }, callbacks.error)\n    }\n  }\n\n  function prepareWebrtc(handleId, offer, callbacks) {\n    callbacks = callbacks || {}\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : webrtcError\n    var jsep = callbacks.jsep\n    if(offer && jsep) {\n      Janus.error('Provided a JSEP to a createOffer')\n      callbacks.error('Provided a JSEP to a createOffer')\n      return\n    } else if(!offer && (!jsep || !jsep.type || !jsep.sdp)) {\n      Janus.error('A valid JSEP is required for createAnswer')\n      callbacks.error('A valid JSEP is required for createAnswer')\n      return\n    }\n    /* Check that callbacks.media is a (not null) Object */\n    callbacks.media = (typeof callbacks.media === 'object' && callbacks.media) ? callbacks.media : { audio: true, video: true }\n    var media = callbacks.media\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      callbacks.error('Invalid handle')\n      return\n    }\n    var config = pluginHandle.webrtcStuff\n    config.trickle = isTrickleEnabled(callbacks.trickle)\n    // Are we updating a session?\n    if(!config.pc) {\n      // Nope, new PeerConnection\n      media.update = false\n      media.keepAudio = false\n      media.keepVideo = false\n    } else {\n      Janus.log('Updating existing media session')\n      media.update = true\n      // Check if there's anything to add/remove/replace, or if we\n      // can go directly to preparing the new SDP offer or answer\n      if(callbacks.stream) {\n        // External stream: is this the same as the one we were using before?\n        if(callbacks.stream !== config.myStream) {\n          Janus.log('Renegotiation involves a new external stream')\n        }\n      } else {\n        // Check if there are changes on audio\n        if(media.addAudio) {\n          media.keepAudio = false\n          media.replaceAudio = false\n          media.removeAudio = false\n          media.audioSend = true\n          if(config.myStream && config.myStream.getAudioTracks() && config.myStream.getAudioTracks().length) {\n            Janus.error('Can\\'t add audio stream, there already is one')\n            callbacks.error('Can\\'t add audio stream, there already is one')\n            return\n          }\n        } else if(media.removeAudio) {\n          media.keepAudio = false\n          media.replaceAudio = false\n          media.addAudio = false\n          media.audioSend = false\n        } else if(media.replaceAudio) {\n          media.keepAudio = false\n          media.addAudio = false\n          media.removeAudio = false\n          media.audioSend = true\n        }\n        if(!config.myStream) {\n          // No media stream: if we were asked to replace, it's actually an \"add\"\n          if(media.replaceAudio) {\n            media.keepAudio = false\n            media.replaceAudio = false\n            media.addAudio = true\n            media.audioSend = true\n          }\n          if(isAudioSendEnabled(media)) {\n            media.keepAudio = false\n            media.addAudio = true\n          }\n        } else {\n          if(!config.myStream.getAudioTracks() || config.myStream.getAudioTracks().length === 0) {\n            // No audio track: if we were asked to replace, it's actually an \"add\"\n            if(media.replaceAudio) {\n              media.keepAudio = false\n              media.replaceAudio = false\n              media.addAudio = true\n              media.audioSend = true\n            }\n            if(isAudioSendEnabled(media)) {\n              media.keepAudio = false\n              media.addAudio = true\n            }\n          } else {\n            // We have an audio track: should we keep it as it is?\n            if(isAudioSendEnabled(media) &&\n                !media.removeAudio && !media.replaceAudio) {\n              media.keepAudio = true\n            }\n          }\n        }\n        // Check if there are changes on video\n        if(media.addVideo) {\n          media.keepVideo = false\n          media.replaceVideo = false\n          media.removeVideo = false\n          media.videoSend = true\n          if(config.myStream && config.myStream.getVideoTracks() && config.myStream.getVideoTracks().length) {\n            Janus.error('Can\\'t add video stream, there already is one')\n            callbacks.error('Can\\'t add video stream, there already is one')\n            return\n          }\n        } else if(media.removeVideo) {\n          media.keepVideo = false\n          media.replaceVideo = false\n          media.addVideo = false\n          media.videoSend = false\n        } else if(media.replaceVideo) {\n          media.keepVideo = false\n          media.addVideo = false\n          media.removeVideo = false\n          media.videoSend = true\n        }\n        if(!config.myStream) {\n          // No media stream: if we were asked to replace, it's actually an \"add\"\n          if(media.replaceVideo) {\n            media.keepVideo = false\n            media.replaceVideo = false\n            media.addVideo = true\n            media.videoSend = true\n          }\n          if(isVideoSendEnabled(media)) {\n            media.keepVideo = false\n            media.addVideo = true\n          }\n        } else {\n          if(!config.myStream.getVideoTracks() || config.myStream.getVideoTracks().length === 0) {\n            // No video track: if we were asked to replace, it's actually an \"add\"\n            if(media.replaceVideo) {\n              media.keepVideo = false\n              media.replaceVideo = false\n              media.addVideo = true\n              media.videoSend = true\n            }\n            if(isVideoSendEnabled(media)) {\n              media.keepVideo = false\n              media.addVideo = true\n            }\n          } else {\n            // We have a video track: should we keep it as it is?\n            if(isVideoSendEnabled(media) && !media.removeVideo && !media.replaceVideo) {\n              media.keepVideo = true\n            }\n          }\n        }\n        // Data channels can only be added\n        if(media.addData) {\n          media.data = true\n        }\n      }\n      // If we're updating and keeping all tracks, let's skip the getUserMedia part\n      if((isAudioSendEnabled(media) && media.keepAudio) &&\n          (isVideoSendEnabled(media) && media.keepVideo)) {\n        pluginHandle.consentDialog(false)\n        streamsDone(handleId, jsep, media, callbacks, config.myStream)\n        return\n      }\n    }\n    // If we're updating, check if we need to remove/replace one of the tracks\n    if(media.update && (!config.streamExternal || (config.streamExternal && (media.replaceAudio || media.replaceVideo)))) {\n      if(media.removeAudio || media.replaceAudio) {\n        if(config.myStream && config.myStream.getAudioTracks() && config.myStream.getAudioTracks().length) {\n          var at = config.myStream.getAudioTracks()[0]\n          Janus.log('Removing audio track:', at)\n          config.myStream.removeTrack(at)\n          try {\n            at.stop()\n          } catch(e) {}\n        }\n        if(config.pc.getSenders() && config.pc.getSenders().length) {\n          var ra = true\n          if(media.replaceAudio && Janus.unifiedPlan) {\n            // We can use replaceTrack\n            ra = false\n          }\n          if(ra) {\n            for(var asnd of config.pc.getSenders()) {\n              if(asnd && asnd.track && asnd.track.kind === 'audio') {\n                Janus.log('Removing audio sender:', asnd)\n                config.pc.removeTrack(asnd)\n              }\n            }\n          }\n        }\n      }\n      if(media.removeVideo || media.replaceVideo) {\n        if(config.myStream && config.myStream.getVideoTracks() && config.myStream.getVideoTracks().length) {\n          var vt = config.myStream.getVideoTracks()[0]\n          Janus.log('Removing video track:', vt)\n          config.myStream.removeTrack(vt)\n          try {\n            vt.stop()\n          } catch(e) {}\n        }\n        if(config.pc.getSenders() && config.pc.getSenders().length) {\n          var rv = true\n          if(media.replaceVideo && Janus.unifiedPlan) {\n            // We can use replaceTrack\n            rv = false\n          }\n          if(rv) {\n            for(var vsnd of config.pc.getSenders()) {\n              if(vsnd && vsnd.track && vsnd.track.kind === 'video') {\n                Janus.log('Removing video sender:', vsnd)\n                config.pc.removeTrack(vsnd)\n              }\n            }\n          }\n        }\n      }\n    }\n    // Was a MediaStream object passed, or do we need to take care of that?\n    if(callbacks.stream) {\n      var stream = callbacks.stream\n      Janus.log('MediaStream provided by the application')\n      Janus.debug(stream)\n      // If this is an update, let's check if we need to release the previous stream\n      if(media.update && config.myStream && config.myStream !== callbacks.stream && !config.streamExternal && !media.replaceAudio && !media.replaceVideo) {\n        // We're replacing a stream we captured ourselves with an external one\n        Janus.stopAllTracks(config.myStream)\n        config.myStream = null\n      }\n      // Skip the getUserMedia part\n      config.streamExternal = true\n      pluginHandle.consentDialog(false)\n      streamsDone(handleId, jsep, media, callbacks, stream)\n      return\n    }\n    if(isAudioSendEnabled(media) || isVideoSendEnabled(media)) {\n      if(!Janus.isGetUserMediaAvailable()) {\n        callbacks.error('getUserMedia not available')\n        return\n      }\n      var constraints = { mandatory: {}, optional: []}\n      pluginHandle.consentDialog(true)\n      var audioSupport = isAudioSendEnabled(media)\n      if(audioSupport && media && typeof media.audio === 'object')\n        audioSupport = media.audio\n      var videoSupport = isVideoSendEnabled(media)\n      if(videoSupport && media) {\n        var simulcast = (callbacks.simulcast === true)\n        var simulcast2 = (callbacks.simulcast2 === true)\n        if((simulcast || simulcast2) && !jsep && !media.video)\n          media.video = 'hires'\n        if(media.video && media.video != 'screen' && media.video != 'window') {\n          if(typeof media.video === 'object') {\n            videoSupport = media.video\n          } else {\n            var width = 0\n            var height = 0, maxHeight = 0\n            if(media.video === 'lowres') {\n              // Small resolution, 4:3\n              height = 240\n              maxHeight = 240\n              width = 320\n            } else if(media.video === 'lowres-16:9') {\n              // Small resolution, 16:9\n              height = 180\n              maxHeight = 180\n              width = 320\n            } else if(media.video === 'hires' || media.video === 'hires-16:9' || media.video === 'hdres') {\n              // High(HD) resolution is only 16:9\n              height = 720\n              maxHeight = 720\n              width = 1280\n            } else if(media.video === 'fhdres') {\n              // Full HD resolution is only 16:9\n              height = 1080\n              maxHeight = 1080\n              width = 1920\n            } else if(media.video === '4kres') {\n              // 4K resolution is only 16:9\n              height = 2160\n              maxHeight = 2160\n              width = 3840\n            } else if(media.video === 'stdres') {\n              // Normal resolution, 4:3\n              height = 480\n              maxHeight = 480\n              width = 640\n            } else if(media.video === 'stdres-16:9') {\n              // Normal resolution, 16:9\n              height = 360\n              maxHeight = 360\n              width = 640\n            } else {\n              Janus.log('Default video setting is stdres 4:3')\n              height = 480\n              maxHeight = 480\n              width = 640\n            }\n            Janus.log('Adding media constraint:', media.video)\n            videoSupport = {\n              'height': {'ideal': height},\n              'width': {'ideal': width}\n            }\n            Janus.log('Adding video constraint:', videoSupport)\n          }\n        } else if(media.video === 'screen' || media.video === 'window') {\n          if(navigator.mediaDevices && navigator.mediaDevices.getDisplayMedia) {\n            // The new experimental getDisplayMedia API is available, let's use that\n            // https://groups.google.com/forum/#!topic/discuss-webrtc/Uf0SrR4uxzk\n            // https://webrtchacks.com/chrome-screensharing-getdisplaymedia/\n            constraints.video = {}\n            if(media.screenshareFrameRate) {\n              constraints.video.frameRate = media.screenshareFrameRate\n            }\n            if(media.screenshareHeight) {\n              constraints.video.height = media.screenshareHeight\n            }\n            if(media.screenshareWidth) {\n              constraints.video.width = media.screenshareWidth\n            }\n            constraints.audio = media.captureDesktopAudio\n            navigator.mediaDevices.getDisplayMedia(constraints)\n              .then(function(stream) {\n                pluginHandle.consentDialog(false)\n                if(isAudioSendEnabled(media) && !media.keepAudio) {\n                  navigator.mediaDevices.getUserMedia({ audio: true, video: false })\n                    .then(function (audioStream) {\n                      stream.addTrack(audioStream.getAudioTracks()[0])\n                      streamsDone(handleId, jsep, media, callbacks, stream)\n                    })\n                } else {\n                  streamsDone(handleId, jsep, media, callbacks, stream)\n                }\n              }, function (error) {\n                pluginHandle.consentDialog(false)\n                callbacks.error(error)\n              })\n            return\n          }\n          // We're going to try and use the extension for Chrome 34+, the old approach\n          // for older versions of Chrome, or the experimental support in Firefox 33+\n          function callbackUserMedia (error, stream) {\n            pluginHandle.consentDialog(false)\n            if(error) {\n              callbacks.error(error)\n            } else {\n              streamsDone(handleId, jsep, media, callbacks, stream)\n            }\n          }\n          function getScreenMedia(constraints, gsmCallback, useAudio) {\n            Janus.log('Adding media constraint (screen capture)')\n            Janus.debug(constraints)\n            navigator.mediaDevices.getUserMedia(constraints)\n              .then(function(stream) {\n                if(useAudio) {\n                  navigator.mediaDevices.getUserMedia({ audio: true, video: false })\n                    .then(function (audioStream) {\n                      stream.addTrack(audioStream.getAudioTracks()[0])\n                      gsmCallback(null, stream)\n                    })\n                } else {\n                  gsmCallback(null, stream)\n                }\n              })\n              .catch(function(error) { pluginHandle.consentDialog(false); gsmCallback(error) })\n          }\n          if(Janus.webRTCAdapter.browserDetails.browser === 'chrome') {\n            var chromever = Janus.webRTCAdapter.browserDetails.version\n            var maxver = 33\n            if(window.navigator.userAgent.match('Linux'))\n              maxver = 35 // \"known\" crash in chrome 34 and 35 on linux\n            if(chromever >= 26 && chromever <= maxver) {\n              // Chrome 26->33 requires some awkward chrome://flags manipulation\n              constraints = {\n                video: {\n                  mandatory: {\n                    googLeakyBucket: true,\n                    maxWidth: window.screen.width,\n                    maxHeight: window.screen.height,\n                    minFrameRate: media.screenshareFrameRate,\n                    maxFrameRate: media.screenshareFrameRate,\n                    chromeMediaSource: 'screen'\n                  }\n                },\n                audio: isAudioSendEnabled(media) && !media.keepAudio\n              }\n              getScreenMedia(constraints, callbackUserMedia)\n            } else {\n              // Chrome 34+ requires an extension\n              Janus.extension.getScreen(function (error, sourceId) {\n                if (error) {\n                  pluginHandle.consentDialog(false)\n                  return callbacks.error(error)\n                }\n                constraints = {\n                  audio: false,\n                  video: {\n                    mandatory: {\n                      chromeMediaSource: 'desktop',\n                      maxWidth: window.screen.width,\n                      maxHeight: window.screen.height,\n                      minFrameRate: media.screenshareFrameRate,\n                      maxFrameRate: media.screenshareFrameRate,\n                    },\n                    optional: [\n                      {googLeakyBucket: true},\n                      {googTemporalLayeredScreencast: true}\n                    ]\n                  }\n                }\n                constraints.video.mandatory.chromeMediaSourceId = sourceId\n                getScreenMedia(constraints, callbackUserMedia,\n                  isAudioSendEnabled(media) && !media.keepAudio)\n              })\n            }\n          } else if(Janus.webRTCAdapter.browserDetails.browser === 'firefox') {\n            if(Janus.webRTCAdapter.browserDetails.version >= 33) {\n              // Firefox 33+ has experimental support for screen sharing\n              constraints = {\n                video: {\n                  mozMediaSource: media.video,\n                  mediaSource: media.video\n                },\n                audio: isAudioSendEnabled(media) && !media.keepAudio\n              }\n              getScreenMedia(constraints, function (err, stream) {\n                callbackUserMedia(err, stream)\n                // Workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=1045810\n                if (!err) {\n                  var lastTime = stream.currentTime\n                  var polly = window.setInterval(function () {\n                    if(!stream)\n                      window.clearInterval(polly)\n                    if(stream.currentTime == lastTime) {\n                      window.clearInterval(polly)\n                      if(stream.onended) {\n                        stream.onended()\n                      }\n                    }\n                    lastTime = stream.currentTime\n                  }, 500)\n                }\n              })\n            } else {\n              var error = new Error('NavigatorUserMediaError')\n              error.name = 'Your version of Firefox does not support screen sharing, please install Firefox 33 (or more recent versions)'\n              pluginHandle.consentDialog(false)\n              callbacks.error(error)\n              return\n            }\n          }\n          return\n        }\n      }\n      // If we got here, we're not screensharing\n      if(!media || media.video !== 'screen') {\n        // Check whether all media sources are actually available or not\n        navigator.mediaDevices.enumerateDevices().then(function(devices) {\n          var audioExist = devices.some(function(device) {\n              return device.kind === 'audioinput'\n            }),\n            videoExist = isScreenSendEnabled(media) || devices.some(function(device) {\n              return device.kind === 'videoinput'\n            })\n\n          // Check whether a missing device is really a problem\n          var audioSend = isAudioSendEnabled(media)\n          var videoSend = isVideoSendEnabled(media)\n          var needAudioDevice = isAudioSendRequired(media)\n          var needVideoDevice = isVideoSendRequired(media)\n          if(audioSend || videoSend || needAudioDevice || needVideoDevice) {\n            // We need to send either audio or video\n            var haveAudioDevice = audioSend ? audioExist : false\n            var haveVideoDevice = videoSend ? videoExist : false\n            if(!haveAudioDevice && !haveVideoDevice) {\n              // FIXME Should we really give up, or just assume recvonly for both?\n              pluginHandle.consentDialog(false)\n              callbacks.error('No capture device found')\n              return false\n            } else if(!haveAudioDevice && needAudioDevice) {\n              pluginHandle.consentDialog(false)\n              callbacks.error('Audio capture is required, but no capture device found')\n              return false\n            } else if(!haveVideoDevice && needVideoDevice) {\n              pluginHandle.consentDialog(false)\n              callbacks.error('Video capture is required, but no capture device found')\n              return false\n            }\n          }\n\n          var gumConstraints = {\n            audio: (audioExist && !media.keepAudio) ? audioSupport : false,\n            video: (videoExist && !media.keepVideo) ? videoSupport : false\n          }\n          Janus.debug('getUserMedia constraints', gumConstraints)\n          if (!gumConstraints.audio && !gumConstraints.video) {\n            pluginHandle.consentDialog(false)\n            streamsDone(handleId, jsep, media, callbacks, stream)\n          } else {\n            navigator.mediaDevices.getUserMedia(gumConstraints)\n              .then(function(stream) {\n                pluginHandle.consentDialog(false)\n                streamsDone(handleId, jsep, media, callbacks, stream)\n              }).catch(function(error) {\n                pluginHandle.consentDialog(false)\n                callbacks.error({code: error.code, name: error.name, message: error.message})\n              })\n          }\n        })\n          .catch(function(error) {\n            pluginHandle.consentDialog(false)\n            callbacks.error(error)\n          })\n      }\n    } else {\n      // No need to do a getUserMedia, create offer/answer right away\n      streamsDone(handleId, jsep, media, callbacks)\n    }\n  }\n\n  function prepareWebrtcPeer(handleId, callbacks) {\n    callbacks = callbacks || {}\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : webrtcError\n    callbacks.customizeSdp = (typeof callbacks.customizeSdp == 'function') ? callbacks.customizeSdp : Janus.noop\n    var jsep = callbacks.jsep\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      callbacks.error('Invalid handle')\n      return\n    }\n    var config = pluginHandle.webrtcStuff\n    if(jsep) {\n      if(!config.pc) {\n        Janus.warn('Wait, no PeerConnection?? if this is an answer, use createAnswer and not handleRemoteJsep')\n        callbacks.error('No PeerConnection: if this is an answer, use createAnswer and not handleRemoteJsep')\n        return\n      }\n      callbacks.customizeSdp(jsep)\n      config.pc.setRemoteDescription(jsep)\n        .then(function() {\n          Janus.log('Remote description accepted!')\n          config.remoteSdp = jsep.sdp\n          // Any trickle candidate we cached?\n          if(config.candidates && config.candidates.length > 0) {\n            for(var i = 0; i< config.candidates.length; i++) {\n              var candidate = config.candidates[i]\n              Janus.debug('Adding remote candidate:', candidate)\n              if(!candidate || candidate.completed === true) {\n                // end-of-candidates\n                config.pc.addIceCandidate(Janus.endOfCandidates)\n              } else {\n                // New candidate\n                config.pc.addIceCandidate(candidate)\n              }\n            }\n            config.candidates = []\n          }\n          // Done\n          callbacks.success()\n        }, callbacks.error)\n    } else {\n      callbacks.error('Invalid JSEP')\n    }\n  }\n\n  function createOffer(handleId, media, callbacks) {\n    callbacks = callbacks || {}\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : Janus.noop\n    callbacks.customizeSdp = (typeof callbacks.customizeSdp == 'function') ? callbacks.customizeSdp : Janus.noop\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      callbacks.error('Invalid handle')\n      return\n    }\n    var config = pluginHandle.webrtcStuff\n    var simulcast = (callbacks.simulcast === true)\n    if(!simulcast) {\n      Janus.log('Creating offer (iceDone=' + config.iceDone + ')')\n    } else {\n      Janus.log('Creating offer (iceDone=' + config.iceDone + ', simulcast=' + simulcast + ')')\n    }\n    // https://code.google.com/p/webrtc/issues/detail?id=3508\n    var mediaConstraints = {}\n    if(Janus.unifiedPlan) {\n      // We can use Transceivers\n      var audioTransceiver = null, videoTransceiver = null\n      var transceivers = config.pc.getTransceivers()\n      if(transceivers && transceivers.length > 0) {\n        for(var t of transceivers) {\n          if((t.sender && t.sender.track && t.sender.track.kind === 'audio') ||\n              (t.receiver && t.receiver.track && t.receiver.track.kind === 'audio')) {\n            if(!audioTransceiver) {\n              audioTransceiver = t\n            }\n            continue\n          }\n          if((t.sender && t.sender.track && t.sender.track.kind === 'video') ||\n              (t.receiver && t.receiver.track && t.receiver.track.kind === 'video')) {\n            if(!videoTransceiver) {\n              videoTransceiver = t\n            }\n            continue\n          }\n        }\n      }\n      // Handle audio (and related changes, if any)\n      var audioSend = isAudioSendEnabled(media)\n      var audioRecv = isAudioRecvEnabled(media)\n      if(!audioSend && !audioRecv) {\n        // Audio disabled: have we removed it?\n        if(media.removeAudio && audioTransceiver) {\n          if (audioTransceiver.setDirection) {\n            audioTransceiver.setDirection('inactive')\n          } else {\n            audioTransceiver.direction = 'inactive'\n          }\n          Janus.log('Setting audio transceiver to inactive:', audioTransceiver)\n        }\n      } else {\n        // Take care of audio m-line\n        if(audioSend && audioRecv) {\n          if(audioTransceiver) {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('sendrecv')\n            } else {\n              audioTransceiver.direction = 'sendrecv'\n            }\n            Janus.log('Setting audio transceiver to sendrecv:', audioTransceiver)\n          }\n        } else if(audioSend && !audioRecv) {\n          if(audioTransceiver) {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('sendonly')\n            } else {\n              audioTransceiver.direction = 'sendonly'\n            }\n            Janus.log('Setting audio transceiver to sendonly:', audioTransceiver)\n          }\n        } else if(!audioSend && audioRecv) {\n          if(audioTransceiver) {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('recvonly')\n            } else {\n              audioTransceiver.direction = 'recvonly'\n            }\n            Janus.log('Setting audio transceiver to recvonly:', audioTransceiver)\n          } else {\n            // In theory, this is the only case where we might not have a transceiver yet\n            audioTransceiver = config.pc.addTransceiver('audio', { direction: 'recvonly' })\n            Janus.log('Adding recvonly audio transceiver:', audioTransceiver)\n          }\n        }\n      }\n      // Handle video (and related changes, if any)\n      var videoSend = isVideoSendEnabled(media)\n      var videoRecv = isVideoRecvEnabled(media)\n      if(!videoSend && !videoRecv) {\n        // Video disabled: have we removed it?\n        if(media.removeVideo && videoTransceiver) {\n          if (videoTransceiver.setDirection) {\n            videoTransceiver.setDirection('inactive')\n          } else {\n            videoTransceiver.direction = 'inactive'\n          }\n          Janus.log('Setting video transceiver to inactive:', videoTransceiver)\n        }\n      } else {\n        // Take care of video m-line\n        if(videoSend && videoRecv) {\n          if(videoTransceiver) {\n            if (videoTransceiver.setDirection) {\n              videoTransceiver.setDirection('sendrecv')\n            } else {\n              videoTransceiver.direction = 'sendrecv'\n            }\n            Janus.log('Setting video transceiver to sendrecv:', videoTransceiver)\n          }\n        } else if(videoSend && !videoRecv) {\n          if(videoTransceiver) {\n            if (videoTransceiver.setDirection) {\n              videoTransceiver.setDirection('sendonly')\n            } else {\n              videoTransceiver.direction = 'sendonly'\n            }\n            Janus.log('Setting video transceiver to sendonly:', videoTransceiver)\n          }\n        } else if(!videoSend && videoRecv) {\n          if(videoTransceiver) {\n            if (videoTransceiver.setDirection) {\n              videoTransceiver.setDirection('recvonly')\n            } else {\n              videoTransceiver.direction = 'recvonly'\n            }\n            Janus.log('Setting video transceiver to recvonly:', videoTransceiver)\n          } else {\n            // In theory, this is the only case where we might not have a transceiver yet\n            videoTransceiver = config.pc.addTransceiver('video', { direction: 'recvonly' })\n            Janus.log('Adding recvonly video transceiver:', videoTransceiver)\n          }\n        }\n      }\n    } else {\n      mediaConstraints['offerToReceiveAudio'] = isAudioRecvEnabled(media)\n      mediaConstraints['offerToReceiveVideo'] = isVideoRecvEnabled(media)\n    }\n    var iceRestart = (callbacks.iceRestart === true)\n    if(iceRestart) {\n      mediaConstraints['iceRestart'] = true\n    }\n    Janus.debug(mediaConstraints)\n    // Check if this is Firefox and we've been asked to do simulcasting\n    var sendVideo = isVideoSendEnabled(media)\n    if(sendVideo && simulcast && Janus.webRTCAdapter.browserDetails.browser === 'firefox') {\n      // FIXME Based on https://gist.github.com/voluntas/088bc3cc62094730647b\n      Janus.log('Enabling Simulcasting for Firefox (RID)')\n      var sender = config.pc.getSenders().find(function(s) {return s.track && s.track.kind === 'video'})\n      if(sender) {\n        var parameters = sender.getParameters()\n        if(!parameters) {\n          parameters = {}\n        }\n        var maxBitrates = getMaxBitrates(callbacks.simulcastMaxBitrates)\n        parameters.encodings = callbacks.sendEncodings || [\n          { rid: 'h', active: true, maxBitrate: maxBitrates.high },\n          { rid: 'm', active: true, maxBitrate: maxBitrates.medium, scaleResolutionDownBy: 2 },\n          { rid: 'l', active: true, maxBitrate: maxBitrates.low, scaleResolutionDownBy: 4 }\n        ]\n        sender.setParameters(parameters)\n      }\n    }\n    config.pc.createOffer(mediaConstraints)\n      .then(function(offer) {\n        Janus.debug(offer)\n        // JSON.stringify doesn't work on some WebRTC objects anymore\n        // See https://code.google.com/p/chromium/issues/detail?id=467366\n        var jsep = {\n          'type': offer.type,\n          'sdp': offer.sdp\n        }\n        callbacks.customizeSdp(jsep)\n        offer.sdp = jsep.sdp\n        Janus.log('Setting local description')\n        if(sendVideo && simulcast) {\n          // This SDP munging only works with Chrome (Safari STP may support it too)\n          if(Janus.webRTCAdapter.browserDetails.browser === 'chrome' ||\n              Janus.webRTCAdapter.browserDetails.browser === 'safari') {\n            Janus.log('Enabling Simulcasting for Chrome (SDP munging)')\n            offer.sdp = mungeSdpForSimulcasting(offer.sdp)\n          } else if(Janus.webRTCAdapter.browserDetails.browser !== 'firefox') {\n            Janus.warn('simulcast=true, but this is not Chrome nor Firefox, ignoring')\n          }\n        }\n        config.mySdp = {\n          type: 'offer',\n          sdp: offer.sdp\n        }\n        config.pc.setLocalDescription(offer)\n          .catch(callbacks.error)\n        config.mediaConstraints = mediaConstraints\n        if(!config.iceDone && !config.trickle) {\n          // Don't do anything until we have all candidates\n          Janus.log('Waiting for all candidates...')\n          return\n        }\n        // If transforms are present, notify Janus that the media is end-to-end encrypted\n        if(config.senderTransforms || config.receiverTransforms) {\n          offer['e2ee'] = true\n        }\n        callbacks.success(offer)\n      }, callbacks.error)\n  }\n\n  function createAnswer(handleId, media, callbacks) {\n    callbacks = callbacks || {}\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : Janus.noop\n    callbacks.customizeSdp = (typeof callbacks.customizeSdp == 'function') ? callbacks.customizeSdp : Janus.noop\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      callbacks.error('Invalid handle')\n      return\n    }\n    var config = pluginHandle.webrtcStuff\n    var simulcast = (callbacks.simulcast === true)\n    if(!simulcast) {\n      Janus.log('Creating answer (iceDone=' + config.iceDone + ')')\n    } else {\n      Janus.log('Creating answer (iceDone=' + config.iceDone + ', simulcast=' + simulcast + ')')\n    }\n    var mediaConstraints = null\n    if(Janus.unifiedPlan) {\n      // We can use Transceivers\n      mediaConstraints = {}\n      var audioTransceiver = null, videoTransceiver = null\n      var transceivers = config.pc.getTransceivers()\n      if(transceivers && transceivers.length > 0) {\n        for(var t of transceivers) {\n          if((t.sender && t.sender.track && t.sender.track.kind === 'audio') ||\n              (t.receiver && t.receiver.track && t.receiver.track.kind === 'audio')) {\n            if(!audioTransceiver)\n              audioTransceiver = t\n            continue\n          }\n          if((t.sender && t.sender.track && t.sender.track.kind === 'video') ||\n              (t.receiver && t.receiver.track && t.receiver.track.kind === 'video')) {\n            if(!videoTransceiver)\n              videoTransceiver = t\n            continue\n          }\n        }\n      }\n      // Handle audio (and related changes, if any)\n      var audioSend = isAudioSendEnabled(media)\n      var audioRecv = isAudioRecvEnabled(media)\n      if(!audioSend && !audioRecv) {\n        // Audio disabled: have we removed it?\n        if(media.removeAudio && audioTransceiver) {\n          try {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('inactive')\n            } else {\n              audioTransceiver.direction = 'inactive'\n            }\n            Janus.log('Setting audio transceiver to inactive:', audioTransceiver)\n          } catch(e) {\n            Janus.error(e)\n          }\n        }\n      } else {\n        // Take care of audio m-line\n        if(audioSend && audioRecv) {\n          if(audioTransceiver) {\n            try {\n              if (audioTransceiver.setDirection) {\n                audioTransceiver.setDirection('sendrecv')\n              } else {\n                audioTransceiver.direction = 'sendrecv'\n              }\n              Janus.log('Setting audio transceiver to sendrecv:', audioTransceiver)\n            } catch(e) {\n              Janus.error(e)\n            }\n          }\n        } else if(audioSend && !audioRecv) {\n          try {\n            if(audioTransceiver) {\n              if (audioTransceiver.setDirection) {\n                audioTransceiver.setDirection('sendonly')\n              } else {\n                audioTransceiver.direction = 'sendonly'\n              }\n              Janus.log('Setting audio transceiver to sendonly:', audioTransceiver)\n            }\n          } catch(e) {\n            Janus.error(e)\n          }\n        } else if(!audioSend && audioRecv) {\n          if(audioTransceiver) {\n            try {\n              if (audioTransceiver.setDirection) {\n                audioTransceiver.setDirection('recvonly')\n              } else {\n                audioTransceiver.direction = 'recvonly'\n              }\n              Janus.log('Setting audio transceiver to recvonly:', audioTransceiver)\n            } catch(e) {\n              Janus.error(e)\n            }\n          } else {\n            // In theory, this is the only case where we might not have a transceiver yet\n            audioTransceiver = config.pc.addTransceiver('audio', { direction: 'recvonly' })\n            Janus.log('Adding recvonly audio transceiver:', audioTransceiver)\n          }\n        }\n      }\n      // Handle video (and related changes, if any)\n      var videoSend = isVideoSendEnabled(media)\n      var videoRecv = isVideoRecvEnabled(media)\n      if(!videoSend && !videoRecv) {\n        // Video disabled: have we removed it?\n        if(media.removeVideo && videoTransceiver) {\n          try {\n            if (videoTransceiver.setDirection) {\n              videoTransceiver.setDirection('inactive')\n            } else {\n              videoTransceiver.direction = 'inactive'\n            }\n            Janus.log('Setting video transceiver to inactive:', videoTransceiver)\n          } catch(e) {\n            Janus.error(e)\n          }\n        }\n      } else {\n        // Take care of video m-line\n        if(videoSend && videoRecv) {\n          if(videoTransceiver) {\n            try {\n              if (videoTransceiver.setDirection) {\n                videoTransceiver.setDirection('sendrecv')\n              } else {\n                videoTransceiver.direction = 'sendrecv'\n              }\n              Janus.log('Setting video transceiver to sendrecv:', videoTransceiver)\n            } catch(e) {\n              Janus.error(e)\n            }\n          }\n        } else if(videoSend && !videoRecv) {\n          if(videoTransceiver) {\n            try {\n              if (videoTransceiver.setDirection) {\n                videoTransceiver.setDirection('sendonly')\n              } else {\n                videoTransceiver.direction = 'sendonly'\n              }\n              Janus.log('Setting video transceiver to sendonly:', videoTransceiver)\n            } catch(e) {\n              Janus.error(e)\n            }\n          }\n        } else if(!videoSend && videoRecv) {\n          if(videoTransceiver) {\n            try {\n              if (videoTransceiver.setDirection) {\n                videoTransceiver.setDirection('recvonly')\n              } else {\n                videoTransceiver.direction = 'recvonly'\n              }\n              Janus.log('Setting video transceiver to recvonly:', videoTransceiver)\n            } catch(e) {\n              Janus.error(e)\n            }\n          } else {\n            // In theory, this is the only case where we might not have a transceiver yet\n            videoTransceiver = config.pc.addTransceiver('video', { direction: 'recvonly' })\n            Janus.log('Adding recvonly video transceiver:', videoTransceiver)\n          }\n        }\n      }\n    } else {\n      if(Janus.webRTCAdapter.browserDetails.browser === 'firefox' || Janus.webRTCAdapter.browserDetails.browser === 'edge') {\n        mediaConstraints = {\n          offerToReceiveAudio: isAudioRecvEnabled(media),\n          offerToReceiveVideo: isVideoRecvEnabled(media)\n        }\n      } else {\n        mediaConstraints = {\n          mandatory: {\n            OfferToReceiveAudio: isAudioRecvEnabled(media),\n            OfferToReceiveVideo: isVideoRecvEnabled(media)\n          }\n        }\n      }\n    }\n    Janus.debug(mediaConstraints)\n    // Check if this is Firefox and we've been asked to do simulcasting\n    var sendVideo = isVideoSendEnabled(media)\n    if(sendVideo && simulcast && Janus.webRTCAdapter.browserDetails.browser === 'firefox') {\n      // FIXME Based on https://gist.github.com/voluntas/088bc3cc62094730647b\n      Janus.log('Enabling Simulcasting for Firefox (RID)')\n      var sender = config.pc.getSenders()[1]\n      Janus.log(sender)\n      var parameters = sender.getParameters()\n      Janus.log(parameters)\n\n      var maxBitrates = getMaxBitrates(callbacks.simulcastMaxBitrates)\n      sender.setParameters({encodings: callbacks.sendEncodings || [\n        { rid: 'h', active: true, maxBitrate: maxBitrates.high },\n        { rid: 'm', active: true, maxBitrate: maxBitrates.medium, scaleResolutionDownBy: 2},\n        { rid: 'l', active: true, maxBitrate: maxBitrates.low, scaleResolutionDownBy: 4}\n      ]})\n    }\n    config.pc.createAnswer(mediaConstraints)\n      .then(function(answer) {\n        Janus.debug(answer)\n        // JSON.stringify doesn't work on some WebRTC objects anymore\n        // See https://code.google.com/p/chromium/issues/detail?id=467366\n        var jsep = {\n          'type': answer.type,\n          'sdp': answer.sdp\n        }\n        callbacks.customizeSdp(jsep)\n        answer.sdp = jsep.sdp\n        Janus.log('Setting local description')\n        if(sendVideo && simulcast) {\n          // This SDP munging only works with Chrome\n          if(Janus.webRTCAdapter.browserDetails.browser === 'chrome') {\n            // FIXME Apparently trying to simulcast when answering breaks video in Chrome...\n            //~ Janus.log(\"Enabling Simulcasting for Chrome (SDP munging)\");\n            //~ answer.sdp = mungeSdpForSimulcasting(answer.sdp);\n            Janus.warn('simulcast=true, but this is an answer, and video breaks in Chrome if we enable it')\n          } else if(Janus.webRTCAdapter.browserDetails.browser !== 'firefox') {\n            Janus.warn('simulcast=true, but this is not Chrome nor Firefox, ignoring')\n          }\n        }\n        config.mySdp = {\n          type: 'answer',\n          sdp: answer.sdp\n        }\n        config.pc.setLocalDescription(answer)\n          .catch(callbacks.error)\n        config.mediaConstraints = mediaConstraints\n        if(!config.iceDone && !config.trickle) {\n          // Don't do anything until we have all candidates\n          Janus.log('Waiting for all candidates...')\n          return\n        }\n        // If transforms are present, notify Janus that the media is end-to-end encrypted\n        if(config.senderTransforms || config.receiverTransforms) {\n          answer['e2ee'] = true\n        }\n        callbacks.success(answer)\n      }, callbacks.error)\n  }\n\n  function sendSDP(handleId, callbacks) {\n    callbacks = callbacks || {}\n    callbacks.success = (typeof callbacks.success == 'function') ? callbacks.success : Janus.noop\n    callbacks.error = (typeof callbacks.error == 'function') ? callbacks.error : Janus.noop\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle, not sending anything')\n      return\n    }\n    var config = pluginHandle.webrtcStuff\n    Janus.log('Sending offer/answer SDP...')\n    if(!config.mySdp) {\n      Janus.warn('Local SDP instance is invalid, not sending anything...')\n      return\n    }\n    config.mySdp = {\n      'type': config.pc.localDescription.type,\n      'sdp': config.pc.localDescription.sdp\n    }\n    if(config.trickle === false)\n      config.mySdp['trickle'] = false\n    Janus.debug(callbacks)\n    config.sdpSent = true\n    callbacks.success(config.mySdp)\n  }\n\n  function getVolume(handleId, remote) {\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      return 0\n    }\n    var stream = remote ? 'remote' : 'local'\n    var config = pluginHandle.webrtcStuff\n    if(!config.volume[stream])\n      config.volume[stream] = { value: 0 }\n    // Start getting the volume, if audioLevel in getStats is supported (apparently\n    // they're only available in Chrome/Safari right now: https://webrtc-stats.callstats.io/)\n    if(config.pc.getStats && (Janus.webRTCAdapter.browserDetails.browser === 'chrome' ||\n        Janus.webRTCAdapter.browserDetails.browser === 'safari')) {\n      if(remote && !config.remoteStream) {\n        Janus.warn('Remote stream unavailable')\n        return 0\n      } else if(!remote && !config.myStream) {\n        Janus.warn('Local stream unavailable')\n        return 0\n      }\n      if(!config.volume[stream].timer) {\n        Janus.log('Starting ' + stream + ' volume monitor')\n        config.volume[stream].timer = setInterval(function() {\n          config.pc.getStats()\n            .then(function(stats) {\n              stats.forEach(function (res) {\n                if(!res || res.kind !== 'audio')\n                  return\n                if((remote && !res.remoteSource) || (!remote && res.type !== 'media-source'))\n                  return\n                config.volume[stream].value = (res.audioLevel ? res.audioLevel : 0)\n              })\n            })\n        }, 200)\n        return 0 // We don't have a volume to return yet\n      }\n      return config.volume[stream].value\n    } else {\n      // audioInputLevel and audioOutputLevel seem only available in Chrome? audioLevel\n      // seems to be available on Chrome and Firefox, but they don't seem to work\n      Janus.warn('Getting the ' + stream + ' volume unsupported by browser')\n      return 0\n    }\n  }\n\n  function isMuted(handleId, video) {\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      return true\n    }\n    var config = pluginHandle.webrtcStuff\n    if(!config.pc) {\n      Janus.warn('Invalid PeerConnection')\n      return true\n    }\n    if(!config.myStream) {\n      Janus.warn('Invalid local MediaStream')\n      return true\n    }\n    if(video) {\n      // Check video track\n      if(!config.myStream.getVideoTracks() || config.myStream.getVideoTracks().length === 0) {\n        Janus.warn('No video track')\n        return true\n      }\n      return !config.myStream.getVideoTracks()[0].enabled\n    } else {\n      // Check audio track\n      if(!config.myStream.getAudioTracks() || config.myStream.getAudioTracks().length === 0) {\n        Janus.warn('No audio track')\n        return true\n      }\n      return !config.myStream.getAudioTracks()[0].enabled\n    }\n  }\n\n  function mute(handleId, video, mute) {\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      return false\n    }\n    var config = pluginHandle.webrtcStuff\n    if(!config.pc) {\n      Janus.warn('Invalid PeerConnection')\n      return false\n    }\n    if(!config.myStream) {\n      Janus.warn('Invalid local MediaStream')\n      return false\n    }\n    if(video) {\n      // Mute/unmute video track\n      if(!config.myStream.getVideoTracks() || config.myStream.getVideoTracks().length === 0) {\n        Janus.warn('No video track')\n        return false\n      }\n      config.myStream.getVideoTracks()[0].enabled = !mute\n      return true\n    } else {\n      // Mute/unmute audio track\n      if(!config.myStream.getAudioTracks() || config.myStream.getAudioTracks().length === 0) {\n        Janus.warn('No audio track')\n        return false\n      }\n      config.myStream.getAudioTracks()[0].enabled = !mute\n      return true\n    }\n  }\n\n  function getBitrate(handleId) {\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle || !pluginHandle.webrtcStuff) {\n      Janus.warn('Invalid handle')\n      return 'Invalid handle'\n    }\n    var config = pluginHandle.webrtcStuff\n    if(!config.pc)\n      return 'Invalid PeerConnection'\n    // Start getting the bitrate, if getStats is supported\n    if(config.pc.getStats) {\n      if(!config.bitrate.timer) {\n        Janus.log('Starting bitrate timer (via getStats)')\n        config.bitrate.timer = setInterval(function() {\n          config.pc.getStats()\n            .then(function(stats) {\n              stats.forEach(function (res) {\n                if(!res)\n                  return\n                var inStats = false\n                // Check if these are statistics on incoming media\n                if((res.mediaType === 'video' || res.id.toLowerCase().indexOf('video') > -1) &&\n                    res.type === 'inbound-rtp' && res.id.indexOf('rtcp') < 0) {\n                  // New stats\n                  inStats = true\n                } else if(res.type == 'ssrc' && res.bytesReceived &&\n                    (res.googCodecName === 'VP8' || res.googCodecName === '')) {\n                  // Older Chromer versions\n                  inStats = true\n                }\n                // Parse stats now\n                if(inStats) {\n                  config.bitrate.fps = res.framesPerSecond\n                  config.bitrate.bsnow = res.bytesReceived\n                  config.bitrate.tsnow = res.timestamp\n                  if(config.bitrate.bsbefore === null || config.bitrate.tsbefore === null) {\n                    // Skip this round\n                    config.bitrate.bsbefore = config.bitrate.bsnow\n                    config.bitrate.tsbefore = config.bitrate.tsnow\n                  } else {\n                    // Calculate bitrate\n                    var timePassed = config.bitrate.tsnow - config.bitrate.tsbefore\n                    if(Janus.webRTCAdapter.browserDetails.browser === 'safari')\n                      timePassed = timePassed/1000 // Apparently the timestamp is in microseconds, in Safari\n                    var bitRate = Math.round((config.bitrate.bsnow - config.bitrate.bsbefore) * 8 / timePassed)\n                    if(Janus.webRTCAdapter.browserDetails.browser === 'safari')\n                      bitRate = parseInt(bitRate/1000)\n                    config.bitrate.value = bitRate + ' kbps'\n                    //~ Janus.log(\"Estimated bitrate is \" + config.bitrate.value);\n                    config.bitrate.bsbefore = config.bitrate.bsnow\n                    config.bitrate.tsbefore = config.bitrate.tsnow\n                  }\n                }\n              })\n            })\n        }, 1000)\n      }\n      return config.bitrate\n    } else {\n      Janus.warn('Getting the video bitrate unsupported by browser')\n      return 'Feature unsupported by browser'\n    }\n  }\n\n  function webrtcError(error) {\n    Janus.error('WebRTC error:', error)\n  }\n\n  function cleanupWebrtc(handleId, hangupRequest) {\n    Janus.log('Cleaning WebRTC stuff')\n    var pluginHandle = pluginHandles[handleId]\n    if(!pluginHandle) {\n      // Nothing to clean\n      return\n    }\n    var config = pluginHandle.webrtcStuff\n    if(config) {\n      if(hangupRequest === true) {\n        // Send a hangup request (we don't really care about the response)\n        var request = { 'janus': 'hangup', 'transaction': Janus.randomString(12) }\n        if(pluginHandle.token)\n          request['token'] = pluginHandle.token\n        if(apisecret)\n          request['apisecret'] = apisecret\n        Janus.debug('Sending hangup request (handle=' + handleId + '):')\n        Janus.debug(request)\n        if(websockets) {\n          request['session_id'] = sessionId\n          request['handle_id'] = handleId\n          ws.send(JSON.stringify(request))\n        } else {\n          Janus.httpAPICall(server + '/' + sessionId + '/' + handleId, {\n            verb: 'POST',\n            withCredentials: withCredentials,\n            body: request\n          })\n        }\n      }\n      // Cleanup stack\n      config.remoteStream = null\n      if(config.volume) {\n        if(config.volume['local'] && config.volume['local'].timer)\n          clearInterval(config.volume['local'].timer)\n        if(config.volume['remote'] && config.volume['remote'].timer)\n          clearInterval(config.volume['remote'].timer)\n      }\n      config.volume = {}\n      if(config.bitrate.timer)\n        clearInterval(config.bitrate.timer)\n      config.bitrate.timer = null\n      config.bitrate.bsnow = null\n      config.bitrate.bsbefore = null\n      config.bitrate.tsnow = null\n      config.bitrate.tsbefore = null\n      config.bitrate.value = null\n      if(!config.streamExternal && config.myStream) {\n        Janus.log('Stopping local stream tracks')\n        Janus.stopAllTracks(config.myStream)\n      }\n      config.streamExternal = false\n      config.myStream = null\n      // Close PeerConnection\n      try {\n        config.pc.close()\n      } catch(e) {\n        // Do nothing\n      }\n      config.pc = null\n      config.candidates = null\n      config.mySdp = null\n      config.remoteSdp = null\n      config.iceDone = false\n      config.dataChannel = {}\n      config.dtmfSender = null\n      config.senderTransforms = null\n      config.receiverTransforms = null\n    }\n    pluginHandle.oncleanup()\n  }\n\n  // Helper method to munge an SDP to enable simulcasting (Chrome only)\n  function mungeSdpForSimulcasting(sdp) {\n    // Let's munge the SDP to add the attributes for enabling simulcasting\n    // (based on https://gist.github.com/ggarber/a19b4c33510028b9c657)\n    var lines = sdp.split('\\r\\n')\n    var video = false\n    var ssrc = [ -1 ], ssrc_fid = [ -1 ]\n    var cname = null, msid = null, mslabel = null, label = null\n    var insertAt = -1\n    for(var i=0; i<lines.length; i++) {\n      var mline = lines[i].match(/m=(\\w+) */)\n      if(mline) {\n        var medium = mline[1]\n        if(medium === 'video') {\n          // New video m-line: make sure it's the first one\n          if(ssrc[0] < 0) {\n            video = true\n          } else {\n            // We're done, let's add the new attributes here\n            insertAt = i\n            break\n          }\n        } else {\n          // New non-video m-line: do we have what we were looking for?\n          if(ssrc[0] > -1) {\n            // We're done, let's add the new attributes here\n            insertAt = i\n            break\n          }\n        }\n        continue\n      }\n      if(!video)\n        continue\n      var sim = lines[i].match(/a=ssrc-group:SIM (\\d+) (\\d+) (\\d+)/)\n      if(sim) {\n        Janus.warn('The SDP already contains a SIM attribute, munging will be skipped')\n        return sdp\n      }\n      var fid = lines[i].match(/a=ssrc-group:FID (\\d+) (\\d+)/)\n      if(fid) {\n        ssrc[0] = fid[1]\n        ssrc_fid[0] = fid[2]\n        lines.splice(i, 1); i--\n        continue\n      }\n      if(ssrc[0]) {\n        var match = lines[i].match('a=ssrc:' + ssrc[0] + ' cname:(.+)')\n        if(match) {\n          cname = match[1]\n        }\n        match = lines[i].match('a=ssrc:' + ssrc[0] + ' msid:(.+)')\n        if(match) {\n          msid = match[1]\n        }\n        match = lines[i].match('a=ssrc:' + ssrc[0] + ' mslabel:(.+)')\n        if(match) {\n          mslabel = match[1]\n        }\n        match = lines[i].match('a=ssrc:' + ssrc[0] + ' label:(.+)')\n        if(match) {\n          label = match[1]\n        }\n        if(lines[i].indexOf('a=ssrc:' + ssrc_fid[0]) === 0) {\n          lines.splice(i, 1); i--\n          continue\n        }\n        if(lines[i].indexOf('a=ssrc:' + ssrc[0]) === 0) {\n          lines.splice(i, 1); i--\n          continue\n        }\n      }\n      if(lines[i].length == 0) {\n        lines.splice(i, 1); i--\n        continue\n      }\n    }\n    if(ssrc[0] < 0) {\n      // Couldn't find a FID attribute, let's just take the first video SSRC we find\n      insertAt = -1\n      video = false\n      for(var i=0; i<lines.length; i++) {\n        var mline = lines[i].match(/m=(\\w+) */)\n        if(mline) {\n          var medium = mline[1]\n          if(medium === 'video') {\n            // New video m-line: make sure it's the first one\n            if(ssrc[0] < 0) {\n              video = true\n            } else {\n              // We're done, let's add the new attributes here\n              insertAt = i\n              break\n            }\n          } else {\n            // New non-video m-line: do we have what we were looking for?\n            if(ssrc[0] > -1) {\n              // We're done, let's add the new attributes here\n              insertAt = i\n              break\n            }\n          }\n          continue\n        }\n        if(!video)\n          continue\n        if(ssrc[0] < 0) {\n          var value = lines[i].match(/a=ssrc:(\\d+)/)\n          if(value) {\n            ssrc[0] = value[1]\n            lines.splice(i, 1); i--\n            continue\n          }\n        } else {\n          var match = lines[i].match('a=ssrc:' + ssrc[0] + ' cname:(.+)')\n          if(match) {\n            cname = match[1]\n          }\n          match = lines[i].match('a=ssrc:' + ssrc[0] + ' msid:(.+)')\n          if(match) {\n            msid = match[1]\n          }\n          match = lines[i].match('a=ssrc:' + ssrc[0] + ' mslabel:(.+)')\n          if(match) {\n            mslabel = match[1]\n          }\n          match = lines[i].match('a=ssrc:' + ssrc[0] + ' label:(.+)')\n          if(match) {\n            label = match[1]\n          }\n          if(lines[i].indexOf('a=ssrc:' + ssrc_fid[0]) === 0) {\n            lines.splice(i, 1); i--\n            continue\n          }\n          if(lines[i].indexOf('a=ssrc:' + ssrc[0]) === 0) {\n            lines.splice(i, 1); i--\n            continue\n          }\n        }\n        if(lines[i].length === 0) {\n          lines.splice(i, 1); i--\n          continue\n        }\n      }\n    }\n    if(ssrc[0] < 0) {\n      // Still nothing, let's just return the SDP we were asked to munge\n      Janus.warn('Couldn\\'t find the video SSRC, simulcasting NOT enabled')\n      return sdp\n    }\n    if(insertAt < 0) {\n      // Append at the end\n      insertAt = lines.length\n    }\n    // Generate a couple of SSRCs (for retransmissions too)\n    // Note: should we check if there are conflicts, here?\n    ssrc[1] = Math.floor(Math.random()*0xFFFFFFFF)\n    ssrc[2] = Math.floor(Math.random()*0xFFFFFFFF)\n    ssrc_fid[1] = Math.floor(Math.random()*0xFFFFFFFF)\n    ssrc_fid[2] = Math.floor(Math.random()*0xFFFFFFFF)\n    // Add attributes to the SDP\n    for(var i=0; i<ssrc.length; i++) {\n      if(cname) {\n        lines.splice(insertAt, 0, 'a=ssrc:' + ssrc[i] + ' cname:' + cname)\n        insertAt++\n      }\n      if(msid) {\n        lines.splice(insertAt, 0, 'a=ssrc:' + ssrc[i] + ' msid:' + msid)\n        insertAt++\n      }\n      if(mslabel) {\n        lines.splice(insertAt, 0, 'a=ssrc:' + ssrc[i] + ' mslabel:' + mslabel)\n        insertAt++\n      }\n      if(label) {\n        lines.splice(insertAt, 0, 'a=ssrc:' + ssrc[i] + ' label:' + label)\n        insertAt++\n      }\n      // Add the same info for the retransmission SSRC\n      if(cname) {\n        lines.splice(insertAt, 0, 'a=ssrc:' + ssrc_fid[i] + ' cname:' + cname)\n        insertAt++\n      }\n      if(msid) {\n        lines.splice(insertAt, 0, 'a=ssrc:' + ssrc_fid[i] + ' msid:' + msid)\n        insertAt++\n      }\n      if(mslabel) {\n        lines.splice(insertAt, 0, 'a=ssrc:' + ssrc_fid[i] + ' mslabel:' + mslabel)\n        insertAt++\n      }\n      if(label) {\n        lines.splice(insertAt, 0, 'a=ssrc:' + ssrc_fid[i] + ' label:' + label)\n        insertAt++\n      }\n    }\n    lines.splice(insertAt, 0, 'a=ssrc-group:FID ' + ssrc[2] + ' ' + ssrc_fid[2])\n    lines.splice(insertAt, 0, 'a=ssrc-group:FID ' + ssrc[1] + ' ' + ssrc_fid[1])\n    lines.splice(insertAt, 0, 'a=ssrc-group:FID ' + ssrc[0] + ' ' + ssrc_fid[0])\n    lines.splice(insertAt, 0, 'a=ssrc-group:SIM ' + ssrc[0] + ' ' + ssrc[1] + ' ' + ssrc[2])\n    sdp = lines.join('\\r\\n')\n    if(!sdp.endsWith('\\r\\n'))\n      sdp += '\\r\\n'\n    return sdp\n  }\n\n  // Helper methods to parse a media object\n  function isAudioSendEnabled(media) {\n    Janus.debug('isAudioSendEnabled:', media)\n    if(!media)\n      return true // Default\n    if(media.audio === false)\n      return false // Generic audio has precedence\n    if(media.audioSend === undefined || media.audioSend === null)\n      return true // Default\n    return (media.audioSend === true)\n  }\n\n  function isAudioSendRequired(media) {\n    Janus.debug('isAudioSendRequired:', media)\n    if(!media)\n      return false // Default\n    if(media.audio === false || media.audioSend === false)\n      return false // If we're not asking to capture audio, it's not required\n    if(media.failIfNoAudio === undefined || media.failIfNoAudio === null)\n      return false // Default\n    return (media.failIfNoAudio === true)\n  }\n\n  function isAudioRecvEnabled(media) {\n    Janus.debug('isAudioRecvEnabled:', media)\n    if(!media)\n      return true // Default\n    if(media.audio === false)\n      return false // Generic audio has precedence\n    if(media.audioRecv === undefined || media.audioRecv === null)\n      return true // Default\n    return (media.audioRecv === true)\n  }\n\n  function isVideoSendEnabled(media) {\n    Janus.debug('isVideoSendEnabled:', media)\n    if(!media)\n      return true // Default\n    if(media.video === false)\n      return false // Generic video has precedence\n    if(media.videoSend === undefined || media.videoSend === null)\n      return true // Default\n    return (media.videoSend === true)\n  }\n\n  function isVideoSendRequired(media) {\n    Janus.debug('isVideoSendRequired:', media)\n    if(!media)\n      return false // Default\n    if(media.video === false || media.videoSend === false)\n      return false // If we're not asking to capture video, it's not required\n    if(media.failIfNoVideo === undefined || media.failIfNoVideo === null)\n      return false // Default\n    return (media.failIfNoVideo === true)\n  }\n\n  function isVideoRecvEnabled(media) {\n    Janus.debug('isVideoRecvEnabled:', media)\n    if(!media)\n      return true // Default\n    if(media.video === false)\n      return false // Generic video has precedence\n    if(media.videoRecv === undefined || media.videoRecv === null)\n      return true // Default\n    return (media.videoRecv === true)\n  }\n\n  function isScreenSendEnabled(media) {\n    Janus.debug('isScreenSendEnabled:', media)\n    if (!media)\n      return false\n    if (typeof media.video !== 'object' || typeof media.video.mandatory !== 'object')\n      return false\n    var constraints = media.video.mandatory\n    if (constraints.chromeMediaSource)\n      return constraints.chromeMediaSource === 'desktop' || constraints.chromeMediaSource === 'screen'\n    else if (constraints.mozMediaSource)\n      return constraints.mozMediaSource === 'window' || constraints.mozMediaSource === 'screen'\n    else if (constraints.mediaSource)\n      return constraints.mediaSource === 'window' || constraints.mediaSource === 'screen'\n    return false\n  }\n\n  function isDataEnabled(media) {\n    Janus.debug('isDataEnabled:', media)\n    if(Janus.webRTCAdapter.browserDetails.browser === 'edge') {\n      Janus.warn('Edge doesn\\'t support data channels yet')\n      return false\n    }\n    if(media === undefined || media === null)\n      return false // Default\n    return (media.data === true)\n  }\n\n  function isTrickleEnabled(trickle) {\n    Janus.debug('isTrickleEnabled:', trickle)\n    return (trickle === false) ? false : true\n  }\n}\n\nexport default Janus\n","import get from 'lodash/get'\nimport find from 'lodash/find'\n\nimport Janus from '@src/lib/janus'\n\nlet printerWebRTCUrl = (printerId) => `/ws/janus/${printerId}/`\nlet printerSharedWebRTCUrl = (token) => `/ws/share_token/janus/${token}/`\n\nfunction iceServers(authToken) {\n  const turnServer = window.location.hostname.replace('app', 'turn')\n\n  return [\n    {\n      urls: ['stun:stun.l.google.com:19302'],\n    },\n    {\n      urls: `turn:${turnServer}:80?transport=udp`,\n      credential: authToken,\n      username: authToken,\n    },\n    {\n      urls: `turn:${turnServer}:80?transport=tcp`,\n      credential: authToken,\n      username: authToken,\n    },\n  ]\n}\n\nexport default function WebRTCConnection() {\n  let self = {\n    callbacks: {},\n    initialized: false,\n    mainWebRTCConn: MainWebRTCConnection(),\n    mjpegWebRTCConn: MJpegtWebRTCConnection(),\n\n    openForShareToken(shareToken) {\n      self.connect(printerSharedWebRTCUrl(shareToken), shareToken)\n    },\n\n    openForPrinter(printerId, authToken) {\n      self.connect(printerWebRTCUrl(printerId), authToken)\n    },\n    connect(wsUri, token) {\n      self.initialized = true\n      self.mainWebRTCConn.connect(wsUri, token)\n      self.mjpegWebRTCConn.connect(wsUri, token)\n    },\n    stopStream() {\n      self.mainWebRTCConn.stopStream()\n      self.mjpegWebRTCConn.stopStream()\n    },\n    sendData(data) {\n      self.mainWebRTCConn.sendData(data) // Data channel in the default stream is used to pass data from client to agent\n    },\n    startStream() {\n      self.mainWebRTCConn.startStream()\n      self.mjpegWebRTCConn.startStream()\n    },\n    setCallbacks(callbacks) {\n      self.callbacks = { ...self.callbacks, ...callbacks }\n      self.mainWebRTCConn.callbacks = self.callbacks\n      self.mjpegWebRTCConn.callbacks = self.callbacks\n    },\n  }\n  return self\n}\n\nfunction MJpegtWebRTCConnection() {\n  let self = {\n    callbacks: {},\n    streamId: undefined,\n    streaming: undefined,\n    bitrateInterval: null,\n\n    connect(wsUri, token) {\n      Janus.init({\n        debug: 'all',\n        callback: () => {\n          if (!Janus.isWebrtcSupported()) {\n            return\n          }\n          self.connectJanusWebSocket(wsUri, token)\n        },\n      })\n    },\n\n    connectJanusWebSocket(wsUri, token) {\n      var janus = new Janus({\n        server:\n          window.location.protocol.replace('http', 'ws') + '//' + window.location.host + wsUri,\n        iceServers: iceServers(token),\n        ipv6: true,\n        success: () => {\n          janus.attach({\n            plugin: 'janus.plugin.streaming',\n            opaqueId: 'streamingtest-' + Janus.randomString(12),\n            success: function (pluginHandle) {\n              Janus.log(\n                'Plugin attached! (' +\n                  pluginHandle.getPlugin() +\n                  ', id=' +\n                  pluginHandle.getId() +\n                  ')'\n              )\n              const body = { request: 'info', id: 2 } // id=2 is for mjpeg stream. This stream may not exist in the agent.\n              Janus.debug('Sending message (' + JSON.stringify(body) + ')')\n              pluginHandle.send({\n                message: body,\n                success: function (result) {\n                  let stream = get(result, 'info')\n                  if (stream) {\n                    self.streamId = stream.id\n                    self.streaming = pluginHandle\n                    if (get(stream, 'media[0].type') === 'data') {\n                      self.callbacks.onStreamAvailable()\n                    }\n                  } else {\n                    janus.destroy()\n                  }\n                },\n              })\n            },\n            error: function (error) {\n              Janus.error('  -- Error attaching plugin... ', error)\n              janus.destroy()\n            },\n            onmessage: function (msg, jsep) {\n              self.onMessage(msg, jsep)\n            },\n            onremotestream: function (stream) {},\n            ondataopen: function () {},\n            ondata: function (rawData) {\n              if ('onMJpegData' in self.callbacks) {\n                self.callbacks.onMJpegData(rawData)\n              }\n            },\n            oncleanup: function () {},\n          })\n        },\n        error(e) {\n          Janus.error('  -- Error -- ', e)\n          janus.destroy()\n        },\n        destroyed() {\n          self.streaming = undefined\n          self.streamId = undefined\n        },\n      })\n    },\n    onMessage(msg, jsep) {\n      let self = this\n      Janus.debug(' ::: Got a message :::')\n      Janus.debug(msg)\n      let result = msg['result']\n      if (result !== null && result !== undefined) {\n        if (result['status'] !== undefined && result['status'] !== null) {\n          var status = result['status']\n          if (status === 'starting') console.log('Starting')\n          else if (status === 'started') console.log('Started')\n          else if (status === 'stopped') {\n            self.stopStream()\n          }\n        }\n      } else if (msg['error'] !== undefined && msg['error'] !== null) {\n        Janus.error(msg)\n        self.stopStream()\n        return\n      }\n      if (jsep !== undefined && jsep !== null) {\n        // Offer from the plugin, let's answer\n        self.streaming?.createAnswer({\n          jsep: jsep,\n          // We want recvonly audio/video and, if negotiated, datachannels\n          media: { audioSend: false, videoSend: false, data: true },\n          success: function (jsep) {\n            Janus.debug('Got SDP!')\n            Janus.debug(jsep)\n            var body = { request: 'start' }\n            self.streaming?.send({ message: body, jsep: jsep })\n          },\n          error: function (error) {\n            Janus.error('WebRTC error:', error)\n          },\n        })\n      }\n    },\n    channelOpen() {\n      return !(self.streamId === undefined || self.streaming === undefined)\n    },\n    startStream() {\n      if (!self.channelOpen()) {\n        return\n      }\n      const body = { request: 'watch', offer_video: false, id: parseInt(self.streamId) }\n      self.streaming?.send({ message: body })\n    },\n    stopStream() {\n      const body = { request: 'stop' }\n      self.streaming?.send({ message: body })\n      self.streaming?.hangup()\n    },\n  }\n\n  return self\n}\n\nfunction MainWebRTCConnection() {\n  let self = {\n    callbacks: {},\n    streamId: undefined,\n    streaming: undefined,\n    bitrateInterval: null,\n\n    connect(wsUri, token) {\n      Janus.init({\n        debug: 'all',\n        callback: () => {\n          if (!Janus.isWebrtcSupported()) {\n            return\n          }\n          self.connectJanusWebSocket(wsUri, token)\n        },\n      })\n    },\n\n    connectJanusWebSocket(wsUri, token) {\n      var janus = new Janus({\n        server:\n          window.location.protocol.replace('http', 'ws') + '//' + window.location.host + wsUri,\n        iceServers: iceServers(token),\n        ipv6: true,\n        success: () => {\n          janus.attach({\n            plugin: 'janus.plugin.streaming',\n            opaqueId: 'streamingtest-' + Janus.randomString(12),\n            success: function (pluginHandle) {\n              // Janus.log('Plugin attached! (' + pluginHandle.getPlugin() + ', id=' + pluginHandle.getId() + ')')\n\n              // Old plugin versions use stream_id=0, which is no longer valid in Janus 1.x so plugin 2.2.x switched to stream_id=1\n              // Both ides are tried. The invalid one will return a failure and ignored.\n              ;[0, 1].forEach((streamIdToTest) => {\n                const body = { request: 'info', id: streamIdToTest }\n                Janus.debug('Sending message (' + JSON.stringify(body) + ')')\n                pluginHandle.send({\n                  message: body,\n                  success: function (result) {\n                    let stream = get(result, 'info')\n                    if (stream) {\n                      self.streamId = stream.id\n                      self.streaming = pluginHandle\n\n                      const videoStreamExisting =\n                        get(stream, 'video') || // Janus 0.x format\n                        find(get(stream, 'media', []), { type: 'video' }) // Janus 1.x format\n\n                      if (videoStreamExisting) {\n                        self.callbacks.onStreamAvailable()\n                      }\n                    }\n                  },\n                })\n              })\n            },\n            error: function (error) {\n              Janus.error('  -- Error attaching plugin... ', error)\n              janus.destroy()\n            },\n            onmessage: function (msg, jsep) {\n              self.onMessage(msg, jsep)\n            },\n            onremotestream: function (stream) {\n              Janus.debug(' ::: Got a remote stream :::')\n              Janus.debug(stream)\n              if ('onRemoteStream' in self.callbacks) {\n                self.callbacks.onRemoteStream(stream)\n              }\n            },\n            ontrackmuted: function () {\n              if ('onTrackMuted' in self.callbacks) {\n                self.callbacks.onTrackMuted()\n              }\n            },\n            ontrackunmuted: function () {\n              if ('onTrackUnmuted' in self.callbacks) {\n                self.callbacks.onTrackUnmuted()\n              }\n            },\n            slowLink: function (uplink, lost) {\n              if ('onSlowLink' in self.callbacks) {\n                self.callbacks.onSlowLink(lost)\n              }\n            },\n            ondataopen: function () {},\n            ondata: function (rawData) {\n              if ('onData' in self.callbacks) {\n                self.callbacks.onData(rawData)\n              }\n            },\n            oncleanup: function () {\n              if ('onDefaultStreamCleanup' in self.callbacks) {\n                self.callbacks.onDefaultStreamCleanup()\n              }\n            },\n          })\n        },\n        error(e) {\n          Janus.error('  -- Error -- ', e)\n          janus.destroy()\n        },\n        destroyed() {\n          self.streaming = undefined\n          self.streamId = undefined\n          self.clearBitrateInterval()\n        },\n      })\n    },\n    onMessage(msg, jsep) {\n      let self = this\n      Janus.debug(' ::: Got a message :::')\n      Janus.debug(msg)\n      let result = msg['result']\n      if (result !== null && result !== undefined) {\n        if (result['status'] !== undefined && result['status'] !== null) {\n          var status = result['status']\n          if (status === 'starting') console.log('Starting')\n          else if (status === 'started') console.log('Started')\n          else if (status === 'stopped') {\n            self.stopStream()\n          }\n        }\n      } else if (msg['error'] !== undefined && msg['error'] !== null) {\n        Janus.error(msg)\n        self.stopStream()\n        return\n      }\n      if (jsep !== undefined && jsep !== null) {\n        // Offer from the plugin, let's answer\n        self.streaming?.createAnswer({\n          jsep: jsep,\n          // We want recvonly audio/video and, if negotiated, datachannels\n          media: { audioSend: false, videoSend: false, data: true },\n          success: function (jsep) {\n            Janus.debug('Got SDP!')\n            Janus.debug(jsep)\n            var body = { request: 'start' }\n            self.streaming?.send({ message: body, jsep: jsep })\n          },\n          error: function (error) {\n            Janus.error('WebRTC error:', error)\n          },\n        })\n      }\n    },\n    channelOpen() {\n      return !(self.streamId === undefined || self.streaming === undefined)\n    },\n    startStream() {\n      if (!self.channelOpen()) {\n        return\n      }\n      const body = { request: 'watch', offer_video: true, id: parseInt(self.streamId) }\n      self.streaming?.send({ message: body })\n\n      self.clearBitrateInterval()\n      self.bitrateInterval = setInterval(function () {\n        if (self.streaming) {\n          const bitrate = self.streaming.getBitrate()\n          if (bitrate && bitrate.value) {\n            self.callbacks.onBitrateUpdated(self.streaming.getBitrate())\n          } else {\n            self.callbacks.onBitrateUpdated({ value: null })\n          }\n        } else {\n          self.callbacks.onBitrateUpdated({ value: null })\n        }\n      }, 5000)\n    },\n    stopStream() {\n      self.clearBitrateInterval()\n      if (!self.channelOpen()) {\n        return\n      }\n      const body = { request: 'stop' }\n      self.streaming?.send({ message: body })\n      self.streaming?.hangup()\n    },\n\n    sendData(data) {\n      if (self.channelOpen()) {\n        self.streaming?.data({ text: data, success: () => {} })\n      }\n    },\n\n    clearBitrateInterval() {\n      if (self.bitrateInterval) {\n        clearInterval(self.bitrateInterval)\n        self.bitrateInterval = null\n        self.callbacks.onBitrateUpdated({ value: null })\n      }\n    },\n  }\n\n  return self\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card-img-top webcam_container\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.slowLinkLoss > 50),expression:\"slowLinkLoss > 50\"}],ref:\"slowLinkWrapper\",staticClass:\"slow-link-wrapper\",on:{\"click\":_vm.slowLinkClicked,\"mouseenter\":function($event){_vm.fixSlowLinkTextWidth()\n      _vm.slowLinkShowing = true\n      _vm.slowLinkHiding = false},\"mouseleave\":function($event){_vm.fixSlowLinkTextWidth()\n      _vm.slowLinkShowing = false\n      _vm.slowLinkHiding = true}}},[_vm._m(0),_c('div',{ref:\"slowLinkText\",staticClass:\"text\",class:{\n        'show-and-hide': !_vm.slowLinkShowing && !_vm.slowLinkHiding,\n        showing: _vm.slowLinkShowing && !_vm.slowLinkHiding,\n        hiding: !_vm.slowLinkShowing && _vm.slowLinkHiding,\n      }},[_vm._v(\" Video frames dropped \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.trackMuted),expression:\"trackMuted\"}],staticClass:\"muted-status-wrapper\"},[_c('div',{staticClass:\"text\"},[_vm._v(\"Buffering...\")]),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.showMutedStatusDescription($event)}}},[_vm._v(\"Why is it stuck?\")])]),(\n      _vm.isVideoAvailable && !_vm.autoplay && (_vm.isBasicStreamingReadyToPlay || _vm.isBasicStreamingFrozen)\n    )?_c('b-button',{staticClass:\"centered-element p-0\",attrs:{\"disabled\":_vm.isBasicStreamingFrozen},on:{\"click\":_vm.onPlayBtnClicked}},[(_vm.isBasicStreamingReadyToPlay)?_c('i',{staticClass:\"fas fa-play ml-1\"}):_vm._e(),(_vm.isBasicStreamingFrozen)?_c('span',{staticClass:\"medium\"},[_vm._v(_vm._s(_vm.remainingSecondsUntilNextCycle)+\"s\")]):_vm._e()]):_vm._e(),(_vm.trackMuted || _vm.videoLoading)?_c('b-spinner',{staticClass:\"centered-element\",attrs:{\"label\":\"Buffering...\"}}):_vm._e(),(_vm.isVideoAvailable)?_c('div',[((!_vm.autoplay && _vm.isBasicStreamingInProgress) || _vm.currentBitrate)?_c('div',{staticClass:\"streaming-info overlay-info small\",class:{ clickable: _vm.isBasicStreamingInProgress },on:{\"click\":_vm.onInfoClicked}},[(_vm.isBasicStreamingInProgress)?_c('div',{staticClass:\"text-success\"},[_vm._v(\" \"+_vm._s(_vm.remainingSecondsCurrentVideoCycle)+\" \")]):_vm._e(),(_vm.currentBitrate)?_c('div',[_vm._v(_vm._s(_vm.currentBitrate))]):_vm._e()]):_vm._e(),(!_vm.autoplay && (_vm.isBasicStreamingReadyToPlay || _vm.isBasicStreamingFrozen))?_c('div',{staticClass:\"streaming-guide overlay-info\",on:{\"click\":_vm.onInfoClicked}},[(_vm.isBasicStreamingReadyToPlay)?_c('div',{staticClass:\"message\"},[_vm._v(\" Webcam streams up to 5 FPS for Free \")]):_vm._e(),(_vm.isBasicStreamingFrozen)?_c('div',{staticClass:\"message text-warning\"},[_vm._v(\" \"+_vm._s(_vm.remainingSecondsUntilNextCycle)+\"s left in the cooldown period \")]):_vm._e(),_c('a',{staticClass:\"learn-more\",attrs:{\"href\":\"#\"}},[_vm._v(\"Learn more...\")])]):_vm._e()]):_vm._e(),_c('div',{class:_vm.webcamRotateClass},[_c('div',{staticClass:\"webcam_fixed_ratio\",class:_vm.webcamRatioClass},[_c('div',{staticClass:\"webcam_fixed_ratio_inner full\"},[(_vm.taggedSrc !== _vm.printerStockImgSrc)?_c('img',{staticClass:\"tagged-jpg\",class:{ flipH: _vm.printer.settings.webcam_flipH, flipV: _vm.printer.settings.webcam_flipV },attrs:{\"src\":_vm.taggedSrc,\"alt\":_vm.printer.name + ' current image'}}):_c('svg',{staticClass:\"poster-placeholder\"},[_c('use',{attrs:{\"href\":_vm.printerStockImgSrc}})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showMJpeg),expression:\"showMJpeg\"}],staticClass:\"webcam_fixed_ratio_inner ontop full\"},[_c('img',{staticClass:\"tagged-jpg\",attrs:{\"src\":_vm.mjpgSrc}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showVideo),expression:\"showVideo\"}],staticClass:\"webcam_fixed_ratio_inner ontop full\"},[_c('video',{ref:\"video\",staticClass:\"remote-video\",class:{ flipH: _vm.printer.settings.webcam_flipH, flipV: _vm.printer.settings.webcam_flipV },attrs:{\"width\":\"960\",\"height\":_vm.webcamVideoHeight,\"poster\":_vm.taggedSrc !== _vm.printerStockImgSrc ? _vm.taggedSrc : '',\"autoplay\":\"\",\"muted\":\"\",\"playsinline\":\"\"},domProps:{\"muted\":true},on:{\"loadstart\":function($event){return _vm.onLoadStart()},\"canplay\":function($event){return _vm.onCanPlay()}}})])])])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"icon bg-warning\"},[_c('i',{staticClass:\"fas fa-exclamation\"})])\n}]\n\nexport { render, staticRenderFns }","import { isLocalStorageSupported } from '@static/js/utils'\n\nexport default function ViewingThrottle(printerId, countDownCallback) {\n  const localStorageItemId = `tsNextVideoCycle-${printerId}`\n  let self = {\n    countDownTimer: null,\n  }\n\n  self.startOrResumeVideoCycle = function () {\n    if (!self.countDownTimer) {\n      self.countDownTimer = setInterval(() => self.countDown(), 1000)\n    }\n  }\n\n  self.resumeVideoCycle = function () {\n    if (remainingSeconds < 60 && !self.countDownTimer) {\n      self.countDownTimer = setInterval(() => self.countDown(), 1000)\n    }\n  }\n\n  self.countDown = function () {\n    self.updateRemainingSeconds(remainingSeconds - 1)\n\n    if (isLocalStorageSupported()) {\n      localStorage.setItem(localStorageItemId, new Date().getTime() / 1000 + remainingSeconds)\n    }\n\n    if (remainingSeconds < 0) {\n      self.updateRemainingSeconds(60)\n      clearInterval(this.countDownTimer)\n      this.countDownTimer = null\n    }\n  }\n\n  self.updateRemainingSeconds = function (newValue) {\n    remainingSeconds = newValue\n    const remainingViewableSeconds = remainingSeconds - 30\n    const remainingSecondsUntilNextCycle = remainingSeconds > 30 ? -1 : remainingSeconds\n    countDownCallback(remainingViewableSeconds, remainingSecondsUntilNextCycle)\n  }\n\n  let remainingSeconds\n  if (isLocalStorageSupported()) {\n    const tsNextVideoCycle = parseFloat(localStorage.getItem(localStorageItemId))\n    const now = new Date().getTime() / 1000\n    if (!tsNextVideoCycle || now > tsNextVideoCycle) {\n      self.updateRemainingSeconds(60)\n    } else {\n      self.updateRemainingSeconds(Math.round(tsNextVideoCycle - now))\n    }\n  } else {\n    self.updateRemainingSeconds(60)\n  }\n\n  return self\n}\n","<template>\n  <div class=\"card-img-top webcam_container\">\n    <div\n      v-show=\"slowLinkLoss > 50\"\n      ref=\"slowLinkWrapper\"\n      class=\"slow-link-wrapper\"\n      @click=\"slowLinkClicked\"\n      @mouseenter=\"\n        fixSlowLinkTextWidth()\n        slowLinkShowing = true\n        slowLinkHiding = false\n      \"\n      @mouseleave=\"\n        fixSlowLinkTextWidth()\n        slowLinkShowing = false\n        slowLinkHiding = true\n      \"\n    >\n      <div class=\"icon bg-warning\">\n        <i class=\"fas fa-exclamation\"></i>\n      </div>\n      <div\n        ref=\"slowLinkText\"\n        class=\"text\"\n        :class=\"{\n          'show-and-hide': !slowLinkShowing && !slowLinkHiding,\n          showing: slowLinkShowing && !slowLinkHiding,\n          hiding: !slowLinkShowing && slowLinkHiding,\n        }\"\n      >\n        Video frames dropped\n      </div>\n    </div>\n    <div v-show=\"trackMuted\" class=\"muted-status-wrapper\">\n      <div class=\"text\">Buffering...</div>\n      <a href=\"#\" @click=\"showMutedStatusDescription($event)\">Why is it stuck?</a>\n    </div>\n    <b-button\n      v-if=\"\n        isVideoAvailable && !autoplay && (isBasicStreamingReadyToPlay || isBasicStreamingFrozen)\n      \"\n      class=\"centered-element p-0\"\n      :disabled=\"isBasicStreamingFrozen\"\n      @click=\"onPlayBtnClicked\"\n    >\n      <i v-if=\"isBasicStreamingReadyToPlay\" class=\"fas fa-play ml-1\"></i>\n      <span v-if=\"isBasicStreamingFrozen\" class=\"medium\"\n        >{{ remainingSecondsUntilNextCycle }}s</span\n      >\n    </b-button>\n    <b-spinner\n      v-if=\"trackMuted || videoLoading\"\n      class=\"centered-element\"\n      label=\"Buffering...\"\n    ></b-spinner>\n\n    <div v-if=\"isVideoAvailable\">\n      <!-- show countdown and bitrate while streaming -->\n      <div\n        v-if=\"(!autoplay && isBasicStreamingInProgress) || currentBitrate\"\n        class=\"streaming-info overlay-info small\"\n        :class=\"{ clickable: isBasicStreamingInProgress }\"\n        @click=\"onInfoClicked\"\n      >\n        <div v-if=\"isBasicStreamingInProgress\" class=\"text-success\">\n          {{ remainingSecondsCurrentVideoCycle }}\n        </div>\n        <div v-if=\"currentBitrate\">{{ currentBitrate }}</div>\n      </div>\n      <!-- show full-width info message -->\n      <div\n        v-if=\"!autoplay && (isBasicStreamingReadyToPlay || isBasicStreamingFrozen)\"\n        class=\"streaming-guide overlay-info\"\n        @click=\"onInfoClicked\"\n      >\n        <div v-if=\"isBasicStreamingReadyToPlay\" class=\"message\">\n          Webcam streams up to 5 FPS for Free\n        </div>\n        <div v-if=\"isBasicStreamingFrozen\" class=\"message text-warning\">\n          {{ remainingSecondsUntilNextCycle }}s left in the cooldown period\n        </div>\n        <a href=\"#\" class=\"learn-more\">Learn more...</a>\n      </div>\n    </div>\n\n    <div :class=\"webcamRotateClass\">\n      <div class=\"webcam_fixed_ratio\" :class=\"webcamRatioClass\">\n        <div class=\"webcam_fixed_ratio_inner full\">\n          <img\n            v-if=\"taggedSrc !== printerStockImgSrc\"\n            class=\"tagged-jpg\"\n            :class=\"{ flipH: printer.settings.webcam_flipH, flipV: printer.settings.webcam_flipV }\"\n            :src=\"taggedSrc\"\n            :alt=\"printer.name + ' current image'\"\n          />\n          <svg v-else class=\"poster-placeholder\">\n            <use :href=\"printerStockImgSrc\" />\n          </svg>\n        </div>\n        <div v-show=\"showMJpeg\" class=\"webcam_fixed_ratio_inner ontop full\">\n          <img class=\"tagged-jpg\" :src=\"mjpgSrc\" />\n        </div>\n        <div v-show=\"showVideo\" class=\"webcam_fixed_ratio_inner ontop full\">\n          <video\n            ref=\"video\"\n            class=\"remote-video\"\n            :class=\"{ flipH: printer.settings.webcam_flipH, flipV: printer.settings.webcam_flipV }\"\n            width=\"960\"\n            :height=\"webcamVideoHeight\"\n            :poster=\"taggedSrc !== printerStockImgSrc ? taggedSrc : ''\"\n            autoplay\n            muted\n            playsinline\n            @loadstart=\"onLoadStart()\"\n            @canplay=\"onCanPlay()\"\n          ></video>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport get from 'lodash/get'\nimport ifvisible from 'ifvisible'\n\nimport Janus from '@src/lib/janus'\nimport { toArrayBuffer } from '@src/lib/utils'\nimport ViewingThrottle from '@src/lib/viewing-throttle'\n\nfunction MJpegStreamDecoder(onFrame) {\n  const self = {\n    onFrame,\n    contentLength: NaN,\n    imageBuffer: '',\n    bytesRead: 0,\n    originalJpgLength: 0,\n  }\n\n  self.onMJpegChunk = function (maybeBin) {\n    toArrayBuffer(maybeBin, (arrayBuffer) => {\n      const value = new TextDecoder('utf-8').decode(new Uint8Array(arrayBuffer))\n      if (self.contentLength) {\n        self.imageBuffer += value\n        self.bytesRead += value.length\n\n        if (self.bytesRead >= self.contentLength) {\n          const jpg = self.imageBuffer\n          const jpgLength = self.originalJpgLength\n          self.contentLength = NaN\n          self.imageBuffer = ''\n          self.bytesRead = 0\n          self.originalJpgLength = 0\n          self.onFrame(jpg, jpgLength)\n        }\n      } else {\n        if (value.slice(0, 2) == '\\r\\n' && value.slice(value.length - 2) == '\\r\\n') {\n          // if (isEqual(value.slice(0, 2), crlf) && isEqual(value.slice(value.byteLength-2), crlf) ) {\n          // const lengthHeaders = (new TextDecoder(\"utf-8\")).decode( value.slice(2, value.byteLength - 2) ).split(':');\n          const lengthHeaders = value.slice(2, value.length - 2).split(':')\n          self.contentLength = parseInt(lengthHeaders[0])\n          self.originalJpgLength = parseInt(lengthHeaders[1])\n        }\n      }\n    })\n  }\n\n  return self\n}\n\nexport default {\n  name: 'StreamingBox',\n\n  props: {\n    printer: {\n      type: Object,\n      required: true,\n    },\n    webrtc: {\n      type: Object,\n      default: null,\n    },\n    autoplay: {\n      type: Boolean,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      stickyStreamingSrc: null,\n      isVideoAvailable: false,\n      isVideoVisible: false,\n      remainingSecondsCurrentVideoCycle: 30,\n      remainingSecondsUntilNextCycle: -1,\n      currentBitrate: null,\n      slowLinkLoss: 0,\n      slowLinkShowing: false, // show on mousenter\n      slowLinkHiding: false, // hide on moseleave\n      trackMuted: false,\n      videoLoading: false,\n      printerStockImgSrc: '#svg-3d-printer',\n      mjpgSrc: null,\n    }\n  },\n\n  computed: {\n    taggedImgAvailable() {\n      return this.taggedSrc !== this.printerStockImgSrc\n    },\n    showVideo() {\n      return this.isVideoVisible && this.stickyStreamingSrc !== 'IMAGE'\n    },\n    showMJpeg() {\n      return this.mjpgSrc && this.stickyStreamingSrc !== 'IMAGE'\n    },\n    webcamRotateClass() {\n      switch (this.printer.settings.webcam_rotate90) {\n        case true:\n          return 'webcam_rotated'\n        case false:\n          return 'webcam_unrotated'\n        default:\n          return 'webcam_unrotated'\n      }\n    },\n    webcamRatioClass() {\n      switch (this.printer.settings.ratio169) {\n        case true:\n          return 'ratio169'\n        case false:\n          return 'ratio43'\n        default:\n          return 'ratio43'\n      }\n    },\n    webcamVideoHeight() {\n      switch (this.printer.settings.ratio169) {\n        case true:\n          return 540\n        case false:\n          return 720\n        default:\n          return 720\n      }\n    },\n    taggedSrc() {\n      return get(this.printer, 'pic.img_url', this.printerStockImgSrc)\n    },\n\n    // streaming timeline\n    isBasicStreamingInProgress() {\n      return (\n        this.remainingSecondsCurrentVideoCycle > 0 && this.remainingSecondsCurrentVideoCycle < 30\n      )\n    },\n    isBasicStreamingReadyToPlay() {\n      return (\n        !this.isVideoVisible &&\n        !this.trackMuted &&\n        !this.videoLoading &&\n        (this.remainingSecondsCurrentVideoCycle == 30 || this.remainingSecondsUntilNextCycle == 0)\n      )\n    },\n    isBasicStreamingFrozen() {\n      return this.remainingSecondsUntilNextCycle > 0 && !this.isVideoVisible\n    },\n  },\n  created() {\n    this.mjpegStreamDecoder = new MJpegStreamDecoder((jpg, l) => {\n      this.mjpgSrc = 'data:image/jpg;base64, ' + jpg\n      this.onCanPlay()\n    })\n\n    if (this.webrtc) {\n      this.webrtc.setCallbacks({\n        onStreamAvailable: this.onStreamAvailable,\n        onRemoteStream: this.onWebRTCRemoteStream,\n        onDefaultStreamCleanup: () => (this.isVideoVisible = false),\n        onSlowLink: this.onSlowLink,\n        onTrackMuted: () => (this.trackMuted = true),\n        onTrackUnmuted: () => (this.trackMuted = false),\n        onBitrateUpdated: (bitrate) => (this.currentBitrate = bitrate.value),\n        onMJpegData: this.mjpegStreamDecoder.onMJpegChunk,\n      })\n\n      if (!this.autoplay) {\n        this.videoLimit = ViewingThrottle(this.printer.id, this.countDownCallback)\n      }\n\n      ifvisible.on('blur', () => {\n        if (this.webrtc) {\n          this.webrtc.stopStream()\n        }\n      })\n\n      ifvisible.on('focus', () => {\n        if (this.webrtc && this.autoplay) {\n          this.webrtc.startStream()\n        }\n      })\n    }\n  },\n\n  methods: {\n    onCanPlay() {\n      this.videoLoading = false\n      if (!this.autoplay) {\n        this.videoLimit.startOrResumeVideoCycle()\n      }\n    },\n    onLoadStart() {\n      this.videoLoading = true\n    },\n    onStreamAvailable() {\n      if (this.autoplay) {\n        this.webrtc.startStream()\n      } else {\n        if (!this.printer.basicStreamingInWebrtc()) {\n          return\n        }\n        if (!this.autoplay && this.isBasicStreamingInProgress) {\n          this.webrtc.startStream()\n        }\n        this.videoLimit.resumeVideoCycle()\n      }\n      this.isVideoAvailable = true\n    },\n    onWebRTCRemoteStream(stream) {\n      Janus.attachMediaStream(this.$refs.video, stream)\n\n      const videoTracks = stream.getVideoTracks()\n      if (videoTracks === null || videoTracks === undefined || videoTracks.length === 0) {\n        // No remote video\n        this.isVideoVisible = false\n      } else {\n        this.isVideoVisible = true\n      }\n    },\n\n    /** Free user streaming **/\n\n    countDownCallback(remainingSecondsCurrentVideoCycle, remainingSecondsUntilNextCycle) {\n      if (this.remainingSecondsCurrentVideoCycle > 0 && remainingSecondsCurrentVideoCycle <= 0) {\n        this.webrtc.stopStream()\n      }\n      this.remainingSecondsCurrentVideoCycle = remainingSecondsCurrentVideoCycle\n      this.remainingSecondsUntilNextCycle = remainingSecondsUntilNextCycle\n    },\n\n    onInfoClicked() {\n      if (this.autoplay) {\n        return\n      }\n\n      this.$swal.Prompt.fire({\n        title: 'Upgrade for Better Streaming',\n        html: `\n          <p>Because you are now on the <a target=\"_blank\" href=\"https://www.obico.io/docs/user-guides/upgrade-to-pro/?source=basic_streaming\">Obico Cloud Free plan</a>:</p>\n          <ul>\n            <li>Streaming is limited to 5 FPS (frames per second).</li>\n            <li>After 30 seconds of streaming there is a 30-second cooldown before you can resume streaming.</li>\n          </ul>\n          <p>Support the Obico project by <a href=\"https://app.obico.io/ent_pub/pricing/?source=basic_streaming\">upgrading to the Pro plan for little more than 1 Starbucks a month.</a></p> The Pro plan offers many perks, including the <a target=\"_blank\" href=\"https://www.obico.io/docs/user-guides/webcam-streaming-for-human-eyes/?source=basic_streaming\">Premium Streaming</a>:</p>\n          <ul>\n            <li>Smooth 25 FPS.</li>\n            <li>Unlimited streaming with no cooldowns.</li>\n          </ul>\n\n        `,\n        showCloseButton: true,\n      })\n    },\n\n    /** End of free user streaming **/\n\n    /** Video warning handling */\n\n    onPlayBtnClicked() {\n      this.webrtc.startStream()\n    },\n\n    fixSlowLinkTextWidth() {\n      const width = window.getComputedStyle(this.$refs.slowLinkText).width\n      this.$refs.slowLinkText.style.width = width\n    },\n\n    onSlowLink(loss) {\n      this.slowLinkLoss += loss\n    },\n\n    slowLinkClicked() {\n      this.slowLinkShowing = false\n      this.slowLinkHiding = false\n      this.slowLinkLoss = 0\n\n      this.$swal.Prompt.fire({\n        title: 'Video frames dropped',\n        html: `\n          <p>The video frames are getting dropped because there is a bandwidth bottleneck along the route it they take to travel from your Raspberry Pi to your computer. The bottleneck can be anywhere but in most cases <Text bold>it's either your computer's internet connection, or your Raspberry Pi's</Text>.</p>\n          <p>Make sure your computer is connected to the same network as your Pi. If you still see this warning, you need to trouble-shoot your computer's Wi-Fi connection, probably by moving closer to the Wi-Fi router.</p>\n          <p>If the webcam stream is smooth when your computer is on the same Wi-Fi network as your Pi, the bottleneck is likely with the upload speed of your internet connection. You need to run a speed test to make sure you have high-enough upload speed, as well as <b>low latency (ping)</b>.</p>\n          <p>Check out <a target=\"_blank\" href=\"https://www.obico.io/docs/user-guides/webcam-feed-is-laggy/\">the step-by-step trouble-shooting guide.</a></p>\n        `,\n        showCloseButton: true,\n      })\n    },\n\n    showMutedStatusDescription(event) {\n      event.preventDefault()\n\n      this.$swal.Prompt.fire({\n        title: 'Webcam stream buffering',\n        html: `\n          <p>When you see the messaging about webcam stream is \"buffering\" occasionally, you can just reload the page. If this message repeatedly appears, it may indicate one of the problems:</p>\n          <p class=\"lead\">1. A constricted video stream on <strong>your Raspberry Pi. The most common reasons are:</p>\n          <ul>\n            <li>Camera resolution is set too high.</li>\n            <li>Camera framerate is set too high.</li>\n            <li>The upload speed of your Raspberry Pi is too low.</li>\n          </ul>\n          <p class=\"lead\">2. The internet connection of your computer or phone is not fast enough.</p>\n          <p class=\"lead\">3. Your webcam is not properly connected to your Raspberry Pi.</p>\n          <br>\n          <p>Check <a target=\"_blank\" href=\"https://www.obico.io/docs/user-guides/webcam-feed-is-laggy\">this step-by-step troubleshooting guide</a>.</p>\n        `,\n        showCloseButton: true,\n      })\n    },\n    /** End of video warning handling */\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.centered-element\n  position: absolute\n  width: 3rem\n  height: 3rem\n  top: calc(50% - 1.5rem)\n  left: calc(50% - 1.5rem)\n  z-index: 99\n\n.overlay-info\n  position: absolute\n  right: 0\n  top: 0\n  z-index: 99\n  background-color: rgb(0 0 0 / .5)\n  padding: 4px 8px\n\n.streaming-info\n  text-align: right\n  &.clickable\n    cursor: pointer\n\n.streaming-guide\n  left: 0\n  display: flex\n  justify-content: space-between\n  cursor: pointer\n\n  @media (max-width: 576px)\n    font-size: .8rem\n\n  &:hover .learn-more\n    color: var(--color-primary-hover)\n\n.slow-link-wrapper\n  $height: 24px\n  position: absolute\n  height: $height\n  z-index: 10\n  background-color: rgb(0 0 0 / .2)\n  border-radius: $height\n  top: 10px\n  left: 10px\n  padding-left: $height\n  line-height: $height\n  font-size: 14px\n  width: auto\n\n  &:hover\n    cursor: pointer\n\n  .text\n    width: 0\n    height: $height\n    overflow: hidden\n    text-align: center\n    opacity: 0\n\n    &.show-and-hide\n      animation-name: showAndHideText\n      animation-duration: 3s\n\n    &.showing\n      animation-name: showText\n      animation-duration: .4s\n      animation-fill-mode: forwards\n\n    &.hiding\n      animation-name: hideText\n      animation-duration: .4s\n      animation-fill-mode: forwards\n\n    $widthFull: 160px\n    $paddingRightFull: 10px\n\n    @keyframes showText\n      from\n        opacity: 0\n      99%\n        width: $widthFull\n        padding-right: $paddingRightFull\n        opacity: 0\n      to\n        width: $widthFull\n        padding-right: $paddingRightFull\n        opacity: 1\n\n    @keyframes hideText\n      from\n        opacity: 1\n      1%\n        opacity: 0\n      to\n        width: 0\n        padding-right: 0\n        opacity: 0\n\n    @keyframes showAndHideText\n      0%\n        width: 0\n        opacity: 0\n      19%\n        width: $widthFull\n        padding-right: $paddingRightFull\n        opacity: 0\n      20%\n        opacity: 1\n      80%\n        opacity: 1\n        width: $widthFull\n        padding-right: $paddingRightFull\n      81%\n        opacity: 0\n      100%\n        width: 0\n        padding-right: 0\n        opacity: 0\n\n  .icon\n    width: 20px\n    height: 20px\n    border-radius: 10px\n    position: absolute\n    top: 2px\n    left: 2px\n    font-size: 12px\n    line-height: 20px\n    text-align: center\n    color: var(--color-on-warning)\n\n.muted-status-wrapper\n  position: absolute\n  width: 100%\n  z-index: 10\n  bottom: 0\n  left: 0\n  background-color: var(--color-overlay)\n  text-align: center\n  padding: 10px 0\n\n.poster-placeholder\n  $size: 150px\n  color: rgb(255 255 255 / .2)\n  width: $size\n  height: $size\n  position: absolute\n  left: calc(50% - #{$size / 2})\n  top: calc(50% - #{$size / 2})\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamingBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamingBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StreamingBox.vue?vue&type=template&id=15d3ba01&scoped=true&\"\nimport script from \"./StreamingBox.vue?vue&type=script&lang=js&\"\nexport * from \"./StreamingBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StreamingBox.vue?vue&type=style&index=0&id=15d3ba01&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15d3ba01\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(!_vm.valid && !_vm.printing)?_c('span',[_vm._v(\"-\")]):_vm._e(),(!_vm.valid && _vm.printing)?_c('b-spinner',{attrs:{\"small\":\"\",\"type\":\"grow\",\"label\":\"Calculating...\"}}):_vm._e(),(_vm.valid && _vm.showHours)?_c('span',[_vm._v(\" \"+_vm._s(_vm.hours)),_c('span',{staticClass:\"text-subscript text-muted\"},[_vm._v(\"h\")])]):_vm._e(),(_vm.valid && _vm.showMinutes)?_c('span',[_vm._v(\" \"+_vm._s(_vm.minutes)),_c('span',{staticClass:\"text-subscript text-muted\"},[_vm._v(\"m\")])]):_vm._e(),(_vm.valid && _vm.showSeconds)?_c('span',[_vm._v(\" \"+_vm._s(_vm.seconds)),_c('span',{staticClass:\"text-subscript text-muted\"},[_vm._v(\"s\")])]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <span v-if=\"!valid && !printing\">-</span>\n    <b-spinner v-if=\"!valid && printing\" small type=\"grow\" label=\"Calculating...\"></b-spinner>\n    <span v-if=\"valid && showHours\"\n      >&nbsp;{{ hours }}<span class=\"text-subscript text-muted\">h</span></span\n    >\n    <span v-if=\"valid && showMinutes\"\n      >&nbsp;{{ minutes }}<span class=\"text-subscript text-muted\">m</span></span\n    >\n    <span v-if=\"valid && showSeconds\"\n      >&nbsp;{{ seconds }}<span class=\"text-subscript text-muted\">s</span></span\n    >\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'DurationBlock',\n  props: {\n    valid: {\n      type: Boolean,\n      required: true,\n    },\n    printing: {\n      type: Boolean,\n      required: true,\n    },\n    hours: {\n      type: Number,\n      default() {\n        return 0\n      },\n    },\n    showHours: {\n      type: Boolean,\n      default() {\n        return false\n      },\n    },\n    minutes: {\n      type: Number,\n      default() {\n        return 0\n      },\n    },\n    showMinutes: {\n      type: Boolean,\n      default() {\n        return false\n      },\n    },\n    seconds: {\n      type: Number,\n      default() {\n        return 0\n      },\n    },\n    showSeconds: {\n      type: Boolean,\n      default() {\n        return false\n      },\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DurationBlock.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DurationBlock.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DurationBlock.vue?vue&type=template&id=439126f6&\"\nimport script from \"./DurationBlock.vue?vue&type=script&lang=js&\"\nexport * from \"./DurationBlock.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(!_vm.printer.isOffline() && _vm.printer.hasError())?_c('div',{staticClass:\"row my-2\"},[_c('div',{staticClass:\"col-12 bg-danger text-center\"},[_c('div',{staticClass:\"lead\"},[_vm._v(_vm._s(_vm.printer.agentDisplayName())+\" Error\")]),_c('div',[_vm._v(_vm._s(_vm.printer.status.state.error))])])]):_vm._e(),(_vm.printer.inUserInteractionRequired())?_c('div',{staticClass:\"row my-2\"},[_vm._m(0)]):_vm._e(),(_vm.printer.inTransientState())?_c('div',{staticClass:\"row my-2\"},[_c('div',{staticClass:\"col-12 text-center my-3\"},[_c('b-spinner',{attrs:{\"label\":\"Processing...\"}}),_c('div',[_vm._v(_vm._s(_vm.printer.status.state.text)+\" ...\")])],1)]):_c('div',{staticClass:\"row my-2\"},[(!_vm.printer.isOffline() && !_vm.printer.isDisconnected() && _vm.printer.isActive())?_c('div',{staticClass:\"col-sm-6\"},[(!_vm.printer.isPaused())?_c('button',{staticClass:\"btn btn-block mt-2 btn-outline-warning\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.onPauseToggled($event)}}},[_c('i',{staticClass:\"fas fa-pause\"}),_vm._v(\" Pause \")]):_c('button',{staticClass:\"btn btn-block mt-2 btn-outline-success\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.onPauseToggled($event)}}},[_c('i',{staticClass:\"fas fa-play\"}),_vm._v(\" Resume \")])]):_vm._e(),(!_vm.printer.isOffline() && !_vm.printer.isDisconnected() && _vm.printer.isActive())?_c('div',{staticClass:\"col-sm-6\"},[_c('button',{staticClass:\"btn btn-outline-danger btn-block mt-2 mb-2\",attrs:{\"id\":\"print-cancel\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('PrinterActionCancelClicked', $event)}}},[_c('i',{staticClass:\"fas fa-stop\"}),_vm._v(\" Cancel \")])]):_vm._e(),(!_vm.printer.isOffline() && !_vm.printer.isDisconnected() && !_vm.printer.isActive())?_c('div',{staticClass:\"col-sm-6\"},[_c('button',{staticClass:\"btn btn-outline-primary btn-block mt-2\",attrs:{\"id\":\"start-print\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('PrinterActionStartClicked', $event)}}},[_c('i',{staticClass:\"fas fa-star\"}),_vm._v(\"  Start Printing \")])]):_vm._e(),(!_vm.printer.isOffline() && !_vm.printer.isDisconnected() && !_vm.printer.isActive())?_c('div',{staticClass:\"col-sm-6\"},[_c('button',{staticClass:\"btn btn-outline-secondary btn-block mt-2 mb-2\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('PrinterActionControlClicked', $event)}}},[_c('i',{staticClass:\"fas fa-arrows-alt\"}),_vm._v(\"  Control \")])]):_vm._e()]),(!_vm.printer.isOffline() && _vm.printer.isDisconnected())?_c('div',{staticClass:\"row my-2\"},[_c('div',{staticClass:\"col-12 text-center py-2 text-warning\"},[_c('div',[_vm._v(\"Printer not connected at the serial port.\")]),(!_vm.printer.isAgentMoonraker())?_c('button',{staticClass:\"btn btn-outline-primary btn-block mt-2\",attrs:{\"id\":\"connect-printer\",\"type\":\"button\",\"disabled\":_vm.connecting},on:{\"click\":_vm.onConnectClicked}},[(_vm.connecting)?_c('b-spinner',{attrs:{\"small\":\"\"}}):_c('i',{staticClass:\"fab fa-usb\"}),_vm._v(\"   \"+_vm._s(_vm.connecting ? 'Contacting OctoPrint' : 'Connect')+\" \")],1):_vm._e()])]):_vm._e(),(_vm.printer.isOffline())?_c('div',{staticClass:\"row my-2\"},[_c('div',{staticClass:\"col-12 text-center py-3 text-warning\"},[_c('div',[_vm._v(\" Obico for \"+_vm._s(_vm.printer.isAgentMoonraker() ? 'Klipper' : 'OctoPrint')+\" is Offline. \"),_vm._m(1)])])]):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"col-12 bg-warning text-center\"},[_c('div',[_vm._v(\"Filament change or user interaction required\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://www.obico.io/docs/user-guides/troubleshoot-server-connection-issues/\"}},[_vm._v(\"Why? \"),_c('small',[_c('i',{staticClass:\"fas fa-external-link-alt\"})])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-if=\"!printer.isOffline() && printer.hasError()\" class=\"row my-2\">\n      <div class=\"col-12 bg-danger text-center\">\n        <div class=\"lead\">{{ printer.agentDisplayName() }} Error</div>\n        <div>{{ printer.status.state.error }}</div>\n      </div>\n    </div>\n    <div v-if=\"printer.inUserInteractionRequired()\" class=\"row my-2\">\n      <div class=\"col-12 bg-warning text-center\">\n        <div>Filament change or user interaction required</div>\n      </div>\n    </div>\n    <div v-if=\"printer.inTransientState()\" class=\"row my-2\">\n      <div class=\"col-12 text-center my-3\">\n        <b-spinner label=\"Processing...\"></b-spinner>\n        <div>{{ printer.status.state.text }} ...</div>\n      </div>\n    </div>\n    <div v-else class=\"row my-2\">\n      <div\n        v-if=\"!printer.isOffline() && !printer.isDisconnected() && printer.isActive()\"\n        class=\"col-sm-6\"\n      >\n        <button\n          v-if=\"!printer.isPaused()\"\n          type=\"button\"\n          class=\"btn btn-block mt-2 btn-outline-warning\"\n          @click=\"onPauseToggled($event)\"\n        >\n          <i class=\"fas fa-pause\"></i>&nbsp;Pause\n        </button>\n        <button\n          v-else\n          type=\"button\"\n          class=\"btn btn-block mt-2 btn-outline-success\"\n          @click=\"onPauseToggled($event)\"\n        >\n          <i class=\"fas fa-play\"></i>&nbsp;Resume\n        </button>\n      </div>\n\n      <div\n        v-if=\"!printer.isOffline() && !printer.isDisconnected() && printer.isActive()\"\n        class=\"col-sm-6\"\n      >\n        <button\n          id=\"print-cancel\"\n          type=\"button\"\n          class=\"btn btn-outline-danger btn-block mt-2 mb-2\"\n          @click=\"$emit('PrinterActionCancelClicked', $event)\"\n        >\n          <i class=\"fas fa-stop\"></i>&nbsp;Cancel\n        </button>\n      </div>\n\n      <div\n        v-if=\"!printer.isOffline() && !printer.isDisconnected() && !printer.isActive()\"\n        class=\"col-sm-6\"\n      >\n        <button\n          id=\"start-print\"\n          type=\"button\"\n          class=\"btn btn-outline-primary btn-block mt-2\"\n          @click=\"$emit('PrinterActionStartClicked', $event)\"\n        >\n          <i class=\"fas fa-star\"></i>&nbsp;&nbsp;Start Printing\n        </button>\n      </div>\n\n      <div\n        v-if=\"!printer.isOffline() && !printer.isDisconnected() && !printer.isActive()\"\n        class=\"col-sm-6\"\n      >\n        <button\n          type=\"button\"\n          class=\"btn btn-outline-secondary btn-block mt-2 mb-2\"\n          @click=\"$emit('PrinterActionControlClicked', $event)\"\n        >\n          <i class=\"fas fa-arrows-alt\"></i>&nbsp;&nbsp;Control\n        </button>\n      </div>\n    </div>\n    <div v-if=\"!printer.isOffline() && printer.isDisconnected()\" class=\"row my-2\">\n      <div class=\"col-12 text-center py-2 text-warning\">\n        <div>Printer not connected at the serial port.</div>\n        <button\n          v-if=\"!printer.isAgentMoonraker()\"\n          id=\"connect-printer\"\n          type=\"button\"\n          class=\"btn btn-outline-primary btn-block mt-2\"\n          :disabled=\"connecting\"\n          @click=\"onConnectClicked\"\n        >\n          <b-spinner v-if=\"connecting\" small></b-spinner>\n          <i v-else class=\"fab fa-usb\"></i>\n          &nbsp;&nbsp;{{ connecting ? 'Contacting OctoPrint' : 'Connect' }}\n        </button>\n      </div>\n    </div>\n    <div v-if=\"printer.isOffline()\" class=\"row my-2\">\n      <div class=\"col-12 text-center py-3 text-warning\">\n        <div>\n          Obico for {{ printer.isAgentMoonraker() ? 'Klipper' : 'OctoPrint' }} is Offline.\n          <a\n            target=\"_blank\"\n            href=\"https://www.obico.io/docs/user-guides/troubleshoot-server-connection-issues/\"\n            >Why? <small><i class=\"fas fa-external-link-alt\"></i></small\n          ></a>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'PrinterActions',\n\n  props: {\n    printer: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      connectBtnClicked: false,\n    }\n  },\n\n  computed: {\n    connecting() {\n      return this.connectBtnClicked && this.printer.isDisconnected()\n    },\n  },\n\n  methods: {\n    onPauseToggled(ev) {\n      if (this.printer.isPaused()) {\n        this.$emit('PrinterActionResumeClicked', ev)\n      } else {\n        this.$emit('PrinterActionPauseClicked', ev)\n      }\n    },\n    onConnectClicked(ev) {\n      this.$emit('PrinterActionConnectClicked', ev)\n      this.connectBtnClicked = true\n      setTimeout(() => {\n        this.connectBtnClicked = false\n      }, 10 * 1000)\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterActions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterActions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrinterActions.vue?vue&type=template&id=8c61885e&\"\nimport script from \"./PrinterActions.vue?vue&type=script&lang=js&\"\nexport * from \"./PrinterActions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"py-2\"},[_vm._m(0),_vm._l((_vm.temperatures),function(item,key){return _c('div',{key:key,staticClass:\"row\"},[_c('div',{staticClass:\"col-2 numbers\"},[_c('span',{staticClass:\"text-subscript text-muted\"},[_vm._v(_vm._s(_vm.temperatureDisplayName(key)))])]),_c('div',{staticClass:\"col-5 numbers\"},[_vm._v(\" \"+_vm._s(parseFloat(item.actual).toFixed(1))),_c('span',{staticClass:\"text-subscript text-muted\"},[_vm._v(\"°C\")])]),(_vm.isEditable(item))?_c('div',{staticClass:\"col-5 numbers\",on:{\"click\":function($event){return _vm.onEditClicked(key, item)}}},[_vm._v(\" \"+_vm._s(Math.round(item.target))),_c('span',{staticClass:\"text-subscript text-muted\"},[_vm._v(\"°C\")]),(_vm.editable)?_c('span',[_vm._v(\" \"),_c('i',{staticClass:\"fas fa-pencil-alt\",staticStyle:{\"font-size\":\"0.6em\"}})]):_vm._e()]):_c('div',{staticClass:\"col-5 numbers\"},[_vm._v(\"-\")])])})],2)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"row text-muted\"},[_c('div',{staticClass:\"col-2\"},[_c('i',{staticClass:\"fas fa-thermometer-half fa-lg\"})]),_c('small',{staticClass:\"col-5\"},[_vm._v(\" Actual \")]),_c('small',{staticClass:\"col-5\"},[_vm._v(\" Target \")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"py-2\">\n    <div class=\"row text-muted\">\n      <div class=\"col-2\">\n        <i class=\"fas fa-thermometer-half fa-lg\"></i>\n      </div>\n      <small class=\"col-5\"> Actual </small>\n      <small class=\"col-5\"> Target </small>\n    </div>\n    <div v-for=\"(item, key) in temperatures\" :key=\"key\" class=\"row\">\n      <div class=\"col-2 numbers\">\n        <span class=\"text-subscript text-muted\">{{ temperatureDisplayName(key) }}</span>\n      </div>\n      <div class=\"col-5 numbers\">\n        {{ parseFloat(item.actual).toFixed(1) }}<span class=\"text-subscript text-muted\">°C</span>\n      </div>\n      <div v-if=\"isEditable(item)\" class=\"col-5 numbers\" @click=\"onEditClicked(key, item)\">\n        {{ Math.round(item.target) }}<span class=\"text-subscript text-muted\">°C</span>\n        <span v-if=\"editable\"\n          >&nbsp;<i class=\"fas fa-pencil-alt\" style=\"font-size: 0.6em\"></i\n        ></span>\n      </div>\n      <div v-else class=\"col-5 numbers\">-</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { temperatureDisplayName } from '@src/lib/utils'\n\nexport default {\n  name: 'StatusTemp',\n  props: {\n    temperatures: {\n      type: Object,\n      required: true,\n    },\n    editable: {\n      type: Boolean,\n      required: true,\n    },\n  },\n  methods: {\n    onEditClicked(key, item) {\n      if (this.editable) {\n        this.$emit('TempEditClicked', key, item)\n      }\n    },\n    isEditable(temperature) {\n      // \"target === null\" means it's only a sensor, not a heater.\n      return temperature.target !== null\n    },\n    temperatureDisplayName: temperatureDisplayName,\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatusTemp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatusTemp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StatusTemp.vue?vue&type=template&id=2c8193b8&\"\nimport script from \"./StatusTemp.vue?vue&type=script&lang=js&\"\nexport * from \"./StatusTemp.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._m(0),_c('div',[_c('b-form-select',{attrs:{\"id\":\"connect-port\"},model:{value:(_vm.selectedPort),callback:function ($$v) {_vm.selectedPort=$$v},expression:\"selectedPort\"}},_vm._l((_vm.connectionOptions.ports),function(port){return _c('b-form-select-option',{key:port,attrs:{\"value\":port}},[_vm._v(\" \"+_vm._s(port)+\" \")])}),1)],1),_c('br'),_vm._m(1),_c('div',[_c('b-form-select',{attrs:{\"id\":\"connect-baudrate\"},model:{value:(_vm.selectedBaudrate),callback:function ($$v) {_vm.selectedBaudrate=$$v},expression:\"selectedBaudrate\"}},[_c('b-form-select-option',{attrs:{\"value\":\"\"}},[_vm._v(\" Auto \")]),_vm._l((_vm.connectionOptions.baudrates),function(baudrate){return _c('b-form-select-option',{key:baudrate,attrs:{\"value\":baudrate}},[_vm._v(\" \"+_vm._s(baudrate)+\" \")])})],2)],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h5',[_vm._v(\"Serial Port:\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h5',[_vm._v(\"Baudrate:\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div>\n      <h5>Serial Port:</h5>\n    </div>\n    <div>\n      <b-form-select id=\"connect-port\" v-model=\"selectedPort\">\n        <b-form-select-option v-for=\"port in connectionOptions.ports\" :key=\"port\" :value=\"port\">\n          {{ port }}\n        </b-form-select-option>\n      </b-form-select>\n    </div>\n    <br />\n    <div>\n      <h5>Baudrate:</h5>\n    </div>\n    <div>\n      <b-form-select id=\"connect-baudrate\" v-model=\"selectedBaudrate\">\n        <b-form-select-option value=\"\"> Auto </b-form-select-option>\n        <b-form-select-option\n          v-for=\"baudrate in connectionOptions.baudrates\"\n          :key=\"baudrate\"\n          :value=\"baudrate\"\n        >\n          {{ baudrate }}\n        </b-form-select-option>\n      </b-form-select>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ConnectPrinter',\n  props: {\n    connectionOptions: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      selectedPort: this.connectionOptions.ports[0],\n      selectedBaudrate: '',\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectPrinter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectPrinter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConnectPrinter.vue?vue&type=template&id=376bae80&\"\nimport script from \"./ConnectPrinter.vue?vue&type=script&lang=js&\"\nexport * from \"./ConnectPrinter.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"text-center\"},[(_vm.value > 0)?_c('h1',{staticClass:\"target-temp-degree\"},[_vm._v(\" \"+_vm._s(_vm.value)+\" \"),_c('span',{staticClass:\"text-subscript text-muted\"},[_vm._v(\"°C\")])]):_vm._e(),(_vm.value < 1)?_c('h1',{staticClass:\"target-temp-degree\"},[_vm._v(\"OFF\")]):_vm._e()]),_c('br'),_c('div',{staticClass:\"mb-5\"},[_vm._m(0),_c('div',[_c('b-form-select',{attrs:{\"id\":\"id_preset\"},on:{\"change\":_vm.onPresetChanged},model:{value:(_vm.preset),callback:function ($$v) {_vm.preset=$$v},expression:\"preset\"}},_vm._l((_vm.allPresets),function(pre){return _c('b-form-select-option',{key:pre.value,attrs:{\"value\":parseInt(pre.value)}},[_vm._v(\" \"+_vm._s(pre.title)+\" \")])}),1)],1),_c('br'),_c('h5',[_vm._v(\"Manual:\")]),_c('div',[_c('vue-slider',{attrs:{\"min\":0,\"max\":_vm.maxTemp,\"step\":1,\"tooltip\":'none'},on:{\"change\":_vm.onSliderChanged},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],attrs:{\"id\":\"target-temp\",\"type\":\"hidden\"},domProps:{\"value\":(_vm.value)},on:{\"input\":function($event){if($event.target.composing)return;_vm.value=$event.target.value}}})],1)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h5',[_vm._v(\"Presets:\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"text-center\">\n      <h1 v-if=\"value > 0\" class=\"target-temp-degree\">\n        {{ value }} <span class=\"text-subscript text-muted\">°C</span>\n      </h1>\n      <h1 v-if=\"value < 1\" class=\"target-temp-degree\">OFF</h1>\n    </div>\n    <br />\n    <div class=\"mb-5\">\n      <div>\n        <h5>Presets:</h5>\n      </div>\n      <div>\n        <b-form-select id=\"id_preset\" v-model=\"preset\" @change=\"onPresetChanged\">\n          <b-form-select-option\n            v-for=\"pre in allPresets\"\n            :key=\"pre.value\"\n            :value=\"parseInt(pre.value)\"\n          >\n            {{ pre.title }}\n          </b-form-select-option>\n        </b-form-select>\n      </div>\n      <br />\n      <h5>Manual:</h5>\n      <div>\n        <vue-slider\n          v-model=\"value\"\n          :min=\"0\"\n          :max=\"maxTemp\"\n          :step=\"1\"\n          :tooltip=\"'none'\"\n          @change=\"onSliderChanged\"\n        ></vue-slider>\n        <input id=\"target-temp\" v-model=\"value\" type=\"hidden\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport VueSlider from 'vue-slider-component'\n\nexport default {\n  name: 'TempTargetEditor',\n  components: {\n    VueSlider,\n  },\n  props: {\n    presets: {\n      type: Array,\n      required: true,\n    },\n    maxTemp: {\n      type: Number,\n      required: true,\n    },\n    curTarget: {\n      type: Number,\n      required: true,\n    },\n  },\n  data() {\n    let curPreset = this.presets.find((pre) => pre.target == this.curTarget) || {\n      target: this.curTarget != 0 ? -1 : 0,\n    }\n    return { value: this.curTarget, preset: curPreset.target }\n  },\n  computed: {\n    allPresets() {\n      let presets = []\n      presets.push({ value: -1, title: 'Manual' })\n      presets.push({ value: 0, title: 'OFF' })\n      this.presets.forEach((pre) => {\n        if (pre.target) {\n          presets.push({ value: pre.target, title: `${pre.name} (${pre.target}°C)` })\n        }\n      })\n      return presets\n    },\n  },\n  methods: {\n    onPresetChanged() {\n      if (this.preset > -1) {\n        this.value = this.preset\n      }\n    },\n    onSliderChanged() {\n      if (this.value == 0) {\n        this.preset = 0\n      } else {\n        this.preset = -1\n      }\n    },\n  },\n}\n</script>\n<style></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TempTargetEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TempTargetEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TempTargetEditor.vue?vue&type=template&id=286bb4c5&\"\nimport script from \"./TempTargetEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./TempTargetEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h2',{staticClass:\"text-center\"},[_vm._v(\"Printer Feed Sharing\")]),_c('hr'),(!_vm.isProAccount)?_c('div',[_vm._m(0),_c('p',[_vm._v(\"Printer feed sharing is a Pro feature.\")]),_vm._m(1),_vm._m(2)]):_c('div',[_c('div',{staticClass:\"py-3\"},[_c('div',{staticClass:\"custom-control custom-switch\"},[_c('input',{staticClass:\"custom-control-input update-printer\",attrs:{\"id\":'sharing_enabled-toggle-' + _vm.printer.id,\"type\":\"checkbox\"},domProps:{\"checked\":_vm.sharedResource},on:{\"click\":_vm.onSharingToggled}}),_c('label',{staticClass:\"custom-control-label\",staticStyle:{\"font-size\":\"1rem\"},attrs:{\"for\":'sharing_enabled-toggle-' + _vm.printer.id}},[_vm._v(\"Share live feed for printer \\\"\"),_c('b',[_vm._v(_vm._s(_vm.printer.name))]),_vm._v(\"\\\"\")])]),_c('div',{staticClass:\"form-group\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sharedLink),expression:\"sharedLink\"}]},[_c('div',{staticClass:\"input-group mt-4 mb-2\"},[_c('input',{ref:\"sharedLink\",staticClass:\"form-control shared-link-text\",attrs:{\"id\":\"secret-token-input\",\"type\":\"text\",\"aria-label\":\"Secret token\",\"readonly\":\"\"},domProps:{\"value\":_vm.sharedLink}}),_c('div',{staticClass:\"input-group-append\"},[_c('div',{staticClass:\"copy-button\",attrs:{\"id\":\"copy-link\",\"data-clipboard-target\":\"#secret-token-input\",\"aria-label\":\"Copy secure link to clipboard\"},on:{\"click\":_vm.copyToClipboard}},[_c('i',{staticClass:\"fas fa-clipboard\"})]),_c('b-tooltip',{attrs:{\"show\":_vm.copyStatus,\"target\":\"copy-link\",\"triggers\":\"click\",\"placement\":\"bottom\"},on:{\"update:show\":function($event){_vm.copyStatus=$event}}},[_vm._v(_vm._s(_vm.copyMessage))])],1)]),_c('div',{staticClass:\"my-1\"},[_vm._v(\" Click the clipboard icon above to copy the secure shareable link to your clipboard. \")]),_c('div',{staticClass:\"my-1\"},[_vm._v(\" You can test the shareable link by right-clicking \"),_c('a',{attrs:{\"href\":_vm.sharedLink}},[_vm._v(\"here\")]),_vm._v(\" and select \\\"Open Link in Incognito Window\\\". \")]),_c('br'),_vm._m(3)])]),_c('br')])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('h5',{staticClass:\"mb-5\"},[_vm._v(\" Wait! You need to \"),_c('a',{attrs:{\"href\":\"/ent_pub/pricing/\"}},[_vm._v(\"upgrade to the Pro plan\")]),_vm._v(\" to enable Printer feed. \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/upgrade-to-pro#why-cant-the-detective-just-work-for-free-people-love-free-you-know\"}},[_vm._v(\"Running the Obico app incurs non-trivial amount of costs\")]),_vm._v(\". With little more than 1 Starbucks per month, you can upgrade to a Pro account and help us run the Obico app smoothly. \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_c('a',{attrs:{\"href\":\"/ent_pub/pricing/\"}},[_vm._v(\"Check out Pro pricing >>>\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('em',{staticClass:\"text-muted\"},[_c('small',[_c('div',[_vm._v(\"Notes:\")]),_c('ul',[_c('li',[_vm._v(\" Send the secure link to anyone you want to share your printer feed with. They do NOT need the Obico account to see your printer feed. \")]),_c('li',[_vm._v(\" Anyone with this shareable link will be able to see your printer feed. \"),_c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/printer-feed-sharing/\"}},[_vm._v(\"Learn more about what they can see.\")])])])])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h2 class=\"text-center\">Printer Feed Sharing</h2>\n    <hr />\n    <div v-if=\"!isProAccount\">\n      <h5 class=\"mb-5\">\n        Wait! You need to <a href=\"/ent_pub/pricing/\">upgrade to the Pro plan</a> to enable Printer\n        feed.\n      </h5>\n      <p>Printer feed sharing is a Pro feature.</p>\n      <p>\n        <a\n          href=\"https://www.obico.io/docs/user-guides/upgrade-to-pro#why-cant-the-detective-just-work-for-free-people-love-free-you-know\"\n          >Running the Obico app incurs non-trivial amount of costs</a\n        >. With little more than 1 Starbucks per month, you can upgrade to a Pro account and help us\n        run the Obico app smoothly.\n      </p>\n      <p><a href=\"/ent_pub/pricing/\">Check out Pro pricing >>></a></p>\n    </div>\n    <div v-else>\n      <div class=\"py-3\">\n        <div class=\"custom-control custom-switch\">\n          <input\n            :id=\"'sharing_enabled-toggle-' + printer.id\"\n            type=\"checkbox\"\n            class=\"custom-control-input update-printer\"\n            :checked=\"sharedResource\"\n            @click=\"onSharingToggled\"\n          />\n          <label\n            class=\"custom-control-label\"\n            :for=\"'sharing_enabled-toggle-' + printer.id\"\n            style=\"font-size: 1rem\"\n            >Share live feed for printer \"<b>{{ printer.name }}</b\n            >\"</label\n          >\n        </div>\n        <div class=\"form-group\">\n          <div v-show=\"sharedLink\">\n            <div class=\"input-group mt-4 mb-2\">\n              <input\n                id=\"secret-token-input\"\n                ref=\"sharedLink\"\n                type=\"text\"\n                class=\"form-control shared-link-text\"\n                aria-label=\"Secret token\"\n                readonly\n                :value=\"sharedLink\"\n              />\n              <div class=\"input-group-append\">\n                <div\n                  id=\"copy-link\"\n                  class=\"copy-button\"\n                  data-clipboard-target=\"#secret-token-input\"\n                  aria-label=\"Copy secure link to clipboard\"\n                  @click=\"copyToClipboard\"\n                >\n                  <i class=\"fas fa-clipboard\"></i>\n                </div>\n                <b-tooltip\n                  :show.sync=\"copyStatus\"\n                  target=\"copy-link\"\n                  triggers=\"click\"\n                  placement=\"bottom\"\n                  >{{ copyMessage }}</b-tooltip\n                >\n              </div>\n            </div>\n            <div class=\"my-1\">\n              Click the clipboard icon above to copy the secure shareable link to your clipboard.\n            </div>\n            <div class=\"my-1\">\n              You can test the shareable link by right-clicking <a :href=\"sharedLink\">here</a> and\n              select \"Open Link in Incognito Window\".\n            </div>\n            <br />\n            <em class=\"text-muted\">\n              <small>\n                <div>Notes:</div>\n                <ul>\n                  <li>\n                    Send the secure link to anyone you want to share your printer feed with. They do\n                    NOT need the Obico account to see your printer feed.\n                  </li>\n                  <li>\n                    Anyone with this shareable link will be able to see your printer feed.\n                    <a href=\"https://www.obico.io/docs/user-guides/printer-feed-sharing/\"\n                      >Learn more about what they can see.</a\n                    >\n                  </li>\n                </ul>\n              </small>\n            </em>\n          </div>\n        </div>\n        <br />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport urls from '@config/server-urls'\n\nexport default {\n  props: {\n    isProAccount: {\n      type: Boolean,\n      default: false,\n    },\n    printer: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      share: false,\n      sharedResource: null,\n      copyStatus: false,\n      copyMessage: '',\n    }\n  },\n\n  computed: {\n    sharedLink() {\n      if (this.sharedResource) {\n        const url = window.location\n        return `${url.protocol}//${url.host}/printers/share_token/${this.sharedResource.share_token}/`\n      }\n\n      return ''\n    },\n  },\n\n  created() {\n    this.fetchSharedResources()\n  },\n\n  methods: {\n    fetchSharedResources() {\n      return axios.get(urls.sharedResources({ printer_id: this.printer.id })).then((response) => {\n        if (response.data.length > 0) {\n          this.sharedResource = response.data[0]\n        }\n      })\n    },\n    postSharedResources() {\n      return axios.post(urls.sharedResources({ printer_id: this.printer.id })).then((response) => {\n        if (response.data.length > 0) {\n          this.sharedResource = response.data[0]\n        }\n      })\n    },\n    deleteSharedResources() {\n      return axios.delete(urls.sharedResource(this.sharedResource.id)).then(() => {\n        this.sharedResource = null\n      })\n    },\n    onSharingToggled() {\n      if (this.sharedResource) {\n        this.deleteSharedResources()\n      } else {\n        this.postSharedResources()\n      }\n    },\n    // Copy share link to clipboard\n    copyToClipboard() {\n      this.copyStatus = true\n\n      this.$refs.sharedLink.focus()\n      this.$refs.sharedLink.select()\n      try {\n        document.execCommand('copy')\n        this.copyMessage = 'Copied!'\n      } catch (err) {\n        console.error('Fallback: Oops, unable to copy', err)\n        this.copyMessage = 'Failed!'\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\nhr\n  background-color: var(--color-divider)\n\n.shared-link-text\n  color: var(--text-primary) !important\n  height: 40px\n  border-color: var(--color-divider)\n  background-color: var(--color-input-background) !important\n\n.copy-button\n  color: var(--color-primary)\n  border: 2px solid var(--color-primary)\n  border-radius: 0 var(--border-radius-sm) var(--border-radius-sm) 0\n  background-color: transparent\n  display: inline-flex\n  align-items: center\n  justify-content: center\n  padding: 0 .75rem\n  font-size: 1rem\n  line-height: 1.5\n\n  &:hover\n    background-color: var(--color-primary)\n    color: var(--color-on-primary)\n    cursor: pointer\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharePrinter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharePrinter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SharePrinter.vue?vue&type=template&id=6f5a9b6b&scoped=true&\"\nimport script from \"./SharePrinter.vue?vue&type=script&lang=js&\"\nexport * from \"./SharePrinter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SharePrinter.vue?vue&type=style&index=0&id=6f5a9b6b&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6f5a9b6b\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div :id=\"printer.id\" class=\"col-sm-12 col-lg-6 printer-card\">\n    <div class=\"card\">\n      <div class=\"card-header\">\n        <div class=\"title-box\">\n          <div v-if=\"hasCurrentPrintFilename\" class=\"primary-title print-filename\">\n            {{ printer.current_print.filename }}\n          </div>\n          <div class=\"printer-name\" :class=\"{ 'secondary-title': hasCurrentPrintFilename }\">\n            {{ printer.name }} &nbsp; (<a\n              :href=\"'#printer-actions-' + printer.id\"\n              :class=\"statusClass\"\n              >{{ statusText }}</a\n            >)\n          </div>\n        </div>\n        <b-dropdown right no-caret toggle-class=\"icon-btn\">\n          <template #button-content>\n            <i class=\"fas fa-ellipsis-v\"></i>\n          </template>\n          <b-dropdown-item href=\"#\" @click.prevent=\"onSharePrinter()\">\n            <i class=\"fas fa-share-alt fa-lg\"></i>Share\n          </b-dropdown-item>\n          <b-dropdown-item v-if=\"!printer.isAgentMoonraker()\" :href=\"octoPrintTunnelUrl()\">\n            <svg class=\"menu-icon\">\n              <use href=\"#svg-octoprint-tunneling\" />\n            </svg>\n            Tunneling\n          </b-dropdown-item>\n          <div class=\"dropdown-divider\"></div>\n          <b-dropdown-item :href=\"settingsUrl()\">\n            <i class=\"fas fa-wrench fa-lg\"></i>Configure\n          </b-dropdown-item>\n        </b-dropdown>\n      </div>\n      <streaming-box :printer=\"printer\" :webrtc=\"webrtc\" :autoplay=\"isProAccount\" />\n      <div\n        v-if=\"printer.alertUnacknowledged()\"\n        class=\"failure-alert card-body bg-warning px-2 py-1\"\n      >\n        <i class=\"fas fa-exclamation-triangle align-middle\"></i>\n        <span class=\"align-middle\">Failure Detected!</span>\n        <button\n          id=\"not-a-failure\"\n          type=\"button\"\n          class=\"btn btn-outline-primary btn-sm float-right\"\n          @click=\"onNotAFailureClicked($event, false)\"\n        >\n          Not a failure?\n        </button>\n      </div>\n\n      <div class=\"card-body gauge-container\" :class=\"{ overlay: !isWatching }\">\n        <div\n          v-if=\"!isWatching\"\n          class=\"overlay-top text-center\"\n          style=\"left: 0; width: 100%; top: 50%; margin-top: -55px\"\n        >\n          <H1><i class=\"far fa-eye-slash\"></i></H1>\n          <h5 class=\"text-warning\">Failure Detection is Off</h5>\n          <small v-if=\"printer.not_watching_reason\"\n            >{{ printer.not_watching_reason }}.\n            <a href=\"https://www.obico.io/docs/user-guides/detective-not-watching/\" target=\"_blank\"\n              >Learn more. <small><i class=\"fas fa-external-link-alt\"></i></small></a\n          ></small>\n          <div></div>\n        </div>\n        <failure-detection-gauge :normalized-p=\"printer.normalized_p\" :is-watching=\"isWatching\" />\n        <hr />\n      </div>\n      <printer-actions\n        :id=\"'printer-actions-' + printer.id\"\n        class=\"container\"\n        v-bind=\"actionsProps\"\n        @PrinterActionPauseClicked=\"onPrinterActionPauseClicked\"\n        @PrinterActionResumeClicked=\"onPrinterActionResumeClicked($event)\"\n        @PrinterActionCancelClicked=\"onPrinterActionCancelClicked\"\n        @PrinterActionConnectClicked=\"onPrinterActionConnectClicked\"\n        @PrinterActionStartClicked=\"onPrinterActionStartClicked\"\n        @PrinterActionControlClicked=\"onPrinterActionControlClicked\"\n      ></printer-actions>\n      <div class=\"info-section settings\">\n        <button\n          type=\"button\"\n          class=\"info-section-toggle btn btn-sm no-corner mx-2\"\n          :class=\"{ pressed: section_toggles.settings }\"\n          @click=\"onSettingsToggleClicked()\"\n        >\n          <i class=\"fas fa-cog fa-lg\"></i>\n        </button>\n        <button\n          type=\"button\"\n          class=\"info-section-toggle btn btn-sm no-corner mx-2\"\n          :class=\"{ pressed: section_toggles.time }\"\n          @click=\"onTimeToggleClicked()\"\n        >\n          <i class=\"fas fa-clock fa-lg\"></i>\n        </button>\n        <button\n          type=\"button\"\n          class=\"info-section-toggle btn btn-sm no-corner mx-2\"\n          :class=\"{ pressed: section_toggles.statusTemp }\"\n          @click=\"onStatusTempToggleClicked()\"\n        >\n          <i class=\"fas fa-thermometer-half fa-lg\"></i>\n        </button>\n      </div>\n      <div class=\"info-section\" style=\"height: 0.3rem\"></div>\n      <div>\n        <div class=\"info-section container\">\n          <div v-if=\"section_toggles.settings\" id=\"panel-settings\">\n            <div class=\"pt-2 pb-3\">\n              <div class=\"row justify-content-center px-3\">\n                <div class=\"col-12 setting-item\">\n                  <label class=\"toggle-label\" :for=\"'watching_enabled-toggle-' + printer.id\"\n                    >Enable AI failure detection\n                    <div v-if=\"!watchForFailures\" class=\"text-muted font-weight-light font-size-sm\">\n                      AI failure detection is disabled. You are on your own.\n                    </div>\n                  </label>\n                  <div class=\"custom-control custom-switch\">\n                    <input\n                      :id=\"'watching_enabled-toggle-' + printer.id\"\n                      type=\"checkbox\"\n                      name=\"watching_enabled\"\n                      class=\"custom-control-input update-printer\"\n                      :checked=\"watchForFailures\"\n                      @click=\"onWatchForFailuresToggled\"\n                    />\n                    <label\n                      class=\"custom-control-label\"\n                      :for=\"'watching_enabled-toggle-' + printer.id\"\n                      style=\"font-size: 1rem\"\n                    ></label>\n                  </div>\n                </div>\n              </div>\n              <div class=\"row justify-content-center px-3\">\n                <div class=\"col-12 setting-item\">\n                  <label class=\"toggle-label\" :for=\"'pause-toggle-' + printer.id\"\n                    >Pause on detected failures\n                    <div v-if=\"!pauseOnFailure\" class=\"text-muted font-weight-light font-size-sm\">\n                      You will still be alerted via notifications\n                    </div>\n                  </label>\n                  <div class=\"custom-control custom-switch\">\n                    <input\n                      :id=\"'pause-toggle-' + printer.id\"\n                      type=\"checkbox\"\n                      name=\"pause_on_failure\"\n                      class=\"custom-control-input update-printer\"\n                      :checked=\"pauseOnFailure\"\n                      @click=\"onPauseOnFailureToggled\"\n                    />\n                    <label\n                      class=\"custom-control-label\"\n                      :for=\"'pause-toggle-' + printer.id\"\n                      style=\"font-size: 1rem\"\n                    >\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div v-if=\"section_toggles.time\" id=\"print-time\">\n            <div class=\"py-2\">\n              <div class=\"row text-muted\">\n                <small class=\"col-5 offset-2\"> Remaining </small>\n                <small class=\"col-5\"> Total </small>\n              </div>\n              <div class=\"row\">\n                <div class=\"col-2 text-muted\">\n                  <i class=\"fas fa-clock\"></i>\n                </div>\n                <duration-block\n                  id=\"print-time-remaining\"\n                  class=\"col-5 numbers\"\n                  v-bind=\"timeRemaining\"\n                ></duration-block>\n                <duration-block\n                  id=\"print-time-total\"\n                  class=\"col-5 numbers\"\n                  v-bind=\"timeTotal\"\n                ></duration-block>\n                <div class=\"col-12\">\n                  <div class=\"progress\" style=\"height: 2px\">\n                    <div\n                      id=\"print-progress\"\n                      class=\"progress-bar\"\n                      :class=\"{\n                        'progress-bar-striped': progressPct < 100,\n                        'progress-bar-animated': progressPct < 100,\n                      }\"\n                      role=\"progressbar\"\n                      aria-valuenow=\"0\"\n                      aria-valuemin=\"0\"\n                      aria-valuemax=\"100\"\n                      :style=\"`width: ${progressPct}%;`\"\n                    ></div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <status-temp\n            v-if=\"section_toggles.statusTemp && tempProps.show\"\n            id=\"status_temp_block\"\n            v-bind=\"tempProps\"\n            @TempEditClicked=\"onTempEditClicked\"\n          ></status-temp>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport get from 'lodash/get'\nimport moment from 'moment'\nimport axios from 'axios'\n\nimport urls from '@config/server-urls'\nimport { normalizedPrinter } from '@src/lib/normalizers'\nimport PrinterComm from '@src/lib/printer-comm'\nimport { temperatureDisplayName } from '@src/lib/utils'\nimport WebRTCConnection from '@src/lib/webrtc'\nimport FailureDetectionGauge from '@src/components/FailureDetectionGauge'\nimport StreamingBox from '@src/components/StreamingBox'\nimport { getLocalPref, setLocalPref } from '@src/lib/pref'\nimport DurationBlock from './DurationBlock.vue'\nimport PrinterActions from './PrinterActions.vue'\nimport StatusTemp from './StatusTemp.vue'\nimport ConnectPrinter from './ConnectPrinter.vue'\nimport TempTargetEditor from './TempTargetEditor.vue'\nimport SharePrinter from './SharePrinter.vue'\n\nconst PAUSE_PRINT = '/pause_print/'\nconst RESUME_PRINT = '/resume_print/'\nconst CANCEL_PRINT = '/cancel_print/'\nconst MUTE_CURRENT_PRINT = '/mute_current_print/?mute_alert=true'\nconst ACK_ALERT_NOT_FAILED = '/acknowledge_alert/?alert_overwrite=NOT_FAILED'\n\nconst Show = true\nconst Hide = false\n\nconst LocalPrefNames = {\n  Settings: 'panel-settings',\n  Time: 'print-time',\n  StatusTemp: 'status_temp_block',\n}\n\nexport default {\n  name: 'PrinterCard',\n  components: {\n    StreamingBox,\n    FailureDetectionGauge,\n    DurationBlock,\n    PrinterActions,\n    StatusTemp,\n  },\n\n  props: {\n    printer: {\n      type: Object,\n      required: true,\n    },\n    isProAccount: {\n      type: Boolean,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      section_toggles: {\n        settings: getLocalPref(LocalPrefNames.Settings + String(this.printer.id), Show),\n        time: getLocalPref(LocalPrefNames.Time + String(this.printer.id), Hide),\n        statusTemp: getLocalPref(LocalPrefNames.StatusTemp + String(this.printer.id), Show),\n      },\n      webrtc: WebRTCConnection(),\n    }\n  },\n  computed: {\n    isWatching() {\n      return !this.printer.not_watching_reason\n    },\n    timeRemaining() {\n      return this.toDuration(this.secondsLeft, this.printer.isActive())\n    },\n    timeTotal() {\n      let secs = null\n      if (this.secondsPrinted && this.secondsLeft) {\n        secs = this.secondsPrinted + this.secondsLeft\n      }\n      return this.toDuration(secs, this.printer.isActive())\n    },\n    secondsLeft() {\n      return get(this.printer, 'status.progress.printTimeLeft')\n    },\n    secondsPrinted() {\n      return get(this.printer, 'status.progress.printTime')\n    },\n    watchForFailures() {\n      return this.printer.watching_enabled\n    },\n    pauseOnFailure() {\n      return this.printer.action_on_failure == 'PAUSE'\n    },\n    hasCurrentPrintFilename() {\n      if (this.printer.current_print && this.printer.current_print.filename) {\n        return true\n      }\n      return false\n    },\n    actionsProps() {\n      return {\n        printer: this.printer,\n      }\n    },\n    progressPct() {\n      return get(this.printer, 'status.progress.completion') || 0 // get(this.printer, 'status.progress.completion') may return null\n    },\n    tempProps() {\n      // If temp_profiles is missing, it's a plugin version too old to change temps\n      let editable = get(this.printer, 'settings.temp_profiles') != undefined\n      const temperatures = {}\n      for (const [key, value] of Object.entries(get(this.printer, 'status.temperatures', {}))) {\n        if (Boolean(value.actual) && !isNaN(value.actual)) {\n          // Take out NaN, 0, null. Apparently printers like Prusa throws random temperatures here.\n          temperatures[key] = value\n        }\n      }\n      return {\n        temperatures: temperatures,\n        show: Object.keys(temperatures).length > 0,\n        editable: editable,\n      }\n    },\n    statusText() {\n      return get(this.printer, 'status.state.text', 'Offline')\n    },\n    statusClass() {\n      if (this.printer.hasError()) {\n        return 'text-danger'\n      }\n      if (\n        this.printer.isOffline() ||\n        this.printer.isDisconnected() ||\n        this.printer.inTransientState()\n      ) {\n        return 'text-warning'\n      }\n      return 'text-success'\n    },\n  },\n  created() {\n    this.printerComm = PrinterComm(\n      this.printer.id,\n      urls.printerWebSocket(this.printer.id),\n      (data) => {\n        this.$emit('PrinterUpdated', this.updatedPrinter(data))\n      },\n      (printerStatus) => {\n        // Backward compatibility: octoprint_data is for OctoPrint-Obico 2.1.2 or earlier, or moonraker-obico 0.5.1 or earlier\n        const status = printerStatus.status || printerStatus.octoprint_data\n        this.$emit('PrinterUpdated', this.updatedPrinter({ status }))\n      }\n    )\n    this.printerComm.connect()\n\n    this.webrtc.openForPrinter(this.printer.id, this.printer.auth_token)\n    this.printerComm.setWebRTC(this.webrtc)\n  },\n\n  methods: {\n    updatedPrinter(newData) {\n      return normalizedPrinter(newData, this.printer)\n    },\n    settingsUrl() {\n      return `/printers/${this.printer.id}/`\n    },\n    octoPrintTunnelUrl() {\n      return `/tunnels/${this.printer.id}/`\n    },\n    onSettingsToggleClicked() {\n      this.section_toggles.settings = !this.section_toggles.settings\n      setLocalPref(LocalPrefNames.Settings + String(this.printer.id), this.section_toggles.settings)\n    },\n    onTimeToggleClicked() {\n      this.section_toggles.time = !this.section_toggles.time\n      setLocalPref(LocalPrefNames.Time + String(this.printer.id), this.section_toggles.time)\n    },\n    onStatusTempToggleClicked() {\n      this.section_toggles.statusTemp = !this.section_toggles.statusTemp\n      setLocalPref(\n        LocalPrefNames.StatusTemp + String(this.printer.id),\n        this.section_toggles.statusTemp\n      )\n    },\n    onNotAFailureClicked(ev, resumePrint) {\n      this.$swal.Confirm.fire({\n        title: 'Noted!',\n        html: '<p>Do you want to keep failure detection on for this print?</p><small>If you select \"No\", failure detection will be turned off for this print, but will be automatically turned on for your next print.</small>',\n        confirmButtonText: 'Yes',\n        cancelButtonText: 'No',\n      }).then((result) => {\n        if (result.dismiss == 'cancel') {\n          // Hack: So that 2 APIs are not called at the same time\n          setTimeout(() => {\n            this.sendPrinterAction(this.printer.id, MUTE_CURRENT_PRINT, false)\n          }, 1000)\n        }\n        if (resumePrint) {\n          this.sendPrinterAction(this.printer.id, RESUME_PRINT, true)\n        } else {\n          this.sendPrinterAction(this.printer.id, ACK_ALERT_NOT_FAILED, false)\n        }\n      })\n\n      ev.preventDefault()\n    },\n    onWatchForFailuresToggled() {\n      // FIXME: fix on printer page update (when better desktop experience will be introduced)\n      // eslint-disable-next-line vue/no-mutating-props\n      this.printer.watching_enabled = !this.printer.watching_enabled\n      this.updatePrinter(this.printer)\n    },\n    onPauseOnFailureToggled() {\n      // FIXME: fix on printer page update (when better desktop experience will be introduced)\n      // eslint-disable-next-line vue/no-mutating-props\n      this.printer.action_on_failure = this.printer.action_on_failure == 'PAUSE' ? 'NONE' : 'PAUSE'\n      this.updatePrinter(this.printer)\n    },\n    onPrinterActionPauseClicked() {\n      this.$swal.Confirm.fire({\n        html: 'If you haven\\'t changed the default configuration, the heaters will be turned off, and the print head will be z-lifted. The reversed will be performed before the print is resumed. <a target=\"_blank\" href=\"https://www.obico.io/docs/user-guides/detection-print-job-settings#when-print-is-paused\">Learn more. <small><i class=\"fas fa-external-link-alt\"></i></small></a>',\n      }).then((result) => {\n        if (result.value) {\n          this.sendPrinterAction(this.printer.id, PAUSE_PRINT, true)\n        }\n      })\n    },\n    onPrinterActionResumeClicked(ev) {\n      if (this.printer.alertUnacknowledged()) {\n        this.onNotAFailureClicked(ev, true)\n      } else {\n        this.sendPrinterAction(this.printer.id, RESUME_PRINT, true)\n      }\n    },\n    onPrinterActionCancelClicked() {\n      this.$swal.Confirm.fire({\n        text: 'Once cancelled, the print can no longer be resumed.',\n      }).then((result) => {\n        if (result.value) {\n          // When it is confirmed\n          this.sendPrinterAction(this.printer.id, CANCEL_PRINT, true)\n        }\n      })\n    },\n    onPrinterActionConnectClicked() {\n      this.printerComm.passThruToPrinter(\n        { func: 'get_connection_options', target: '_printer' },\n        (err, connectionOptions) => {\n          if (err) {\n            this.$swal.Toast.fire({\n              icon: 'error',\n              title: 'Failed to connect!',\n            })\n          } else {\n            if (connectionOptions.ports.length < 1) {\n              this.$swal.Toast.fire({\n                icon: 'error',\n                title: 'Uh-Oh. No printer is found on the serial port.',\n              })\n            } else {\n              this.$swal\n                .openModalWithComponent(\n                  ConnectPrinter,\n                  {\n                    connectionOptions: connectionOptions,\n                  },\n                  {\n                    confirmButtonText: 'Connect',\n                    showCancelButton: true,\n                    preConfirm: () => {\n                      return {\n                        port: document.getElementById('connect-port').value,\n                        baudrate: document.getElementById('connect-baudrate').value,\n                      }\n                    },\n                  }\n                )\n                .then((result) => {\n                  if (result.value) {\n                    let args = [result.value.port, result.value.baudrate]\n                    this.printerComm.passThruToPrinter({\n                      func: 'connect',\n                      target: '_printer',\n                      args: args,\n                    })\n                  }\n                })\n            }\n          }\n        }\n      )\n    },\n    onPrinterActionStartClicked() {\n      this.$emit('printModalOpened')\n      this.$bvModal.show('b-modal-gcodes')\n    },\n\n    onPrinterActionControlClicked() {\n      window.location = urls.printerControl(this.printer.id)\n    },\n\n    onTempEditClicked(key, item) {\n      let tempProfiles = get(this.printer, 'settings.temp_profiles', [])\n      let presets\n      let maxTemp = 350\n\n      if (key.search(/bed|chamber/) > -1) {\n        maxTemp = 140\n      }\n      if (key.search(/tool/) > -1) {\n        // OctoPrint uses 'extruder' for toolx heaters\n        presets = tempProfiles.map((v) => {\n          return { name: v.name, target: v['extruder'] }\n        })\n      } else {\n        presets = tempProfiles.map((v) => {\n          return { name: v.name, target: v[key] }\n        })\n      }\n\n      this.$swal\n        .openModalWithComponent(\n          TempTargetEditor,\n          {\n            presets: presets,\n            maxTemp: maxTemp,\n            curTarget: item.target,\n          },\n          {\n            title: 'Set ' + temperatureDisplayName(key) + ' Temperature',\n            confirmButtonText: 'Confirm',\n            showCancelButton: true,\n            preConfirm: () => {\n              return {\n                target: parseInt(document.getElementById('target-temp').value),\n              }\n            },\n          }\n        )\n        .then((result) => {\n          if (result.value) {\n            let targetTemp = result.value.target\n            this.printerComm.passThruToPrinter({\n              func: 'set_temperature',\n              target: '_printer',\n              args: [key, targetTemp],\n            })\n          }\n        })\n    },\n\n    updatePrinter(printer) {\n      return axios\n        .patch(urls.printer(printer.id), {\n          watching_enabled: printer.watching_enabled,\n          action_on_failure: printer.action_on_failure,\n        })\n        .then((response) => {\n          if (response.data.succeeded) {\n            this.$emit('PrinterUpdated', normalizedPrinter(response.data.printer, this.printer))\n          } else {\n            throw response\n          }\n        })\n        .catch((error) => {\n          this._showErrorPopup(error, 'Failed to update printer')\n        })\n    },\n\n    sendPrinterAction(printerId, path, isOctoPrintCommand) {\n      axios.post(urls.printerAction(printerId, path)).then(() => {\n        let toastHtml = ''\n        if (isOctoPrintCommand) {\n          toastHtml +=\n            `<h6>Successfully sent command to ${this.printer.name}!</h6>` +\n            '<p>It may take a while to be executed.</p>'\n        }\n        if (toastHtml != '') {\n          this.$swal.Toast.fire({\n            icon: 'success',\n            html: toastHtml,\n          })\n        }\n      })\n    },\n\n    shouldVideoBeFull(printer) {\n      let hasImage = get(printer, 'pic.img_url')\n      let shouldBeThumb = printer.alertUnacknowledged() && hasImage\n      return !shouldBeThumb\n    },\n\n    toDuration(seconds, isActive) {\n      if (seconds == null || seconds == 0) {\n        return {\n          valid: false,\n          printing: isActive,\n        }\n      } else {\n        var d = moment.duration(seconds, 'seconds')\n        var h = Math.floor(d.asHours())\n        var m = d.minutes()\n        var s = d.seconds()\n        return {\n          valid: true,\n          printing: isActive,\n          hours: h,\n          showHours: h > 0,\n          minutes: m,\n          showMinutes: h > 0 || m > 0,\n          seconds: s,\n          showSeconds: h == 0 && m == 0,\n        }\n      }\n    },\n\n    onSharePrinter() {\n      this.$swal.openModalWithComponent(\n        SharePrinter,\n        {\n          isProAccount: this.isProAccount,\n          printer: this.printer,\n        },\n        {\n          confirmButtonText: 'Close',\n        }\n      )\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.card\n  border-radius: var(--border-radius-lg)\n  overflow: hidden\n\n.menu-icon\n  width: 20px\n  height: 20px\n  margin-right: 6px\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrinterCard.vue?vue&type=template&id=259aab4e&scoped=true&\"\nimport script from \"./PrinterCard.vue?vue&type=script&lang=js&\"\nexport * from \"./PrinterCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrinterCard.vue?vue&type=style&index=0&id=259aab4e&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"259aab4e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('page-layout',{attrs:{\"is-popup\":_vm.isPopup},scopedSlots:_vm._u([{key:\"topBarLeft\",fn:function(){return [(_vm.isPopup && _vm.parentFolder !== null)?_c('a',{staticClass:\"btn shadow-none icon-btn d-inline\",attrs:{\"href\":\"#\",\"title\":\"Go Back\"},on:{\"click\":function($event){$event.preventDefault();return _vm.goBack.apply(null, arguments)}}},[_c('i',{staticClass:\"fas fa-chevron-left\"})]):_vm._e(),_c('search-input',{staticClass:\"search-input mr-3\",on:{\"input\":_vm.updateSearch}})]},proxy:true},{key:\"topBarRight\",fn:function(){return [_c('div',{staticClass:\"d-flex\"},[(_vm.isCloud)?_c('a',{staticClass:\"btn shadow-none icon-btn d-none d-md-inline\",attrs:{\"href\":\"#\",\"title\":\"Create folder\"},on:{\"click\":function($event){$event.preventDefault();return _vm.createFolder.apply(null, arguments)}}},[_c('i',{staticClass:\"fas fa-folder-plus\"})]):_vm._e(),_c('b-dropdown',{staticClass:\"order-md-2\",attrs:{\"right\":\"\",\"no-caret\":\"\",\"toggle-class\":\"icon-btn\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('i',{staticClass:\"fas fa-server\"})]},proxy:true}])},[_c('b-dropdown-text',{staticClass:\"small text-secondary\"},[_vm._v(\"STORAGE\")]),_c('b-dropdown-item',{on:{\"click\":_vm.switchToCloudStorage}},[_c('div',{staticClass:\"dropdown-group\"},[_c('i',{staticClass:\"fas fa-check text-primary\",style:({ visibility: _vm.isCloud ? 'visible' : 'hidden' })}),_c('div',{staticClass:\"text\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Obico Cloud\")])])])]),_vm._l((_vm.printers),function(printer){return _c('b-dropdown-item',{key:printer.id,on:{\"click\":() => _vm.switchToPrinterStorage(printer)}},[_c('div',{staticClass:\"dropdown-group\"},[_c('i',{staticClass:\"fas fa-check text-primary\",style:({ visibility: _vm.selectedPrinterId === printer.id ? 'visible' : 'hidden' })}),_c('div',{staticClass:\"text\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(printer.name))]),_c('div',{staticClass:\"subtitle\",class:[printer.isBrowsable() ? 'text-success' : 'text-warning']},[_vm._v(\" \"+_vm._s(printer.browsabilityText())+\" \")])])])])})],2),(_vm.isCloud)?_c('b-dropdown',{staticClass:\"order-md-1\",attrs:{\"right\":\"\",\"no-caret\":\"\",\"toggle-class\":\"icon-btn\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('i',{staticClass:\"fas fa-ellipsis-v d-md-none\"}),_c('i',{staticClass:\"fas fa-sort-amount-down d-none d-md-block\"})]},proxy:true}],null,false,3550382305)},[_c('b-dropdown-item',{staticClass:\"d-md-none\",on:{\"click\":_vm.createFolder}},[_c('i',{staticClass:\"fas fa-folder-plus\"}),_vm._v(\"Create Folder \")]),_c('b-dropdown-divider',{staticClass:\"d-md-none\"}),_c('b-dropdown-text',{staticClass:\"small text-secondary\"},[_vm._v(\"ORDER\")]),_vm._l((_vm.sorting.options),function(sortingOption){return _c('b-dropdown-item',{key:`s_${sortingOption.id}`,on:{\"click\":() => _vm.updateSorting(sortingOption)}},[_c('i',{staticClass:\"fas fa-check text-primary\",style:({ visibility: _vm.activeSorting.id === sortingOption.id ? 'visible' : 'hidden' })}),_vm._v(\" \"+_vm._s(sortingOption.title)+\" \")])}),_c('b-dropdown-divider'),_vm._l((_vm.sorting.directions),function(sortingDirection){return _c('b-dropdown-item',{key:`d_${sortingDirection.id}`,on:{\"click\":() => _vm.updateSorting(_vm.activeSorting, sortingDirection)}},[_c('i',{staticClass:\"fas fa-check text-primary\",style:({\n              visibility:\n                _vm.activeSortingDirection.id === sortingDirection.id ? 'visible' : 'hidden',\n            })}),_vm._v(\" \"+_vm._s(sortingDirection.title)+\" \")])})],2):_vm._e(),(_vm.onClose)?_c('a',{staticClass:\"btn shadow-none icon-btn d-inline order-4\",attrs:{\"href\":\"#\",\"title\":\"Close\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onClose.apply(null, arguments)}}},[_c('i',{staticClass:\"fas fa-times text-danger\"})]):_vm._e()],1)]},proxy:true},{key:\"content\",fn:function(){return [_c('b-container',[_c('b-row',[_c('b-col',[(_vm.isCloud)?_c('vue-dropzone',{ref:\"gcodesDropzone\",staticClass:\"upload-box\",attrs:{\"id\":\"dropzone\",\"options\":_vm.dropzoneOptions,\"use-custom-slot\":true},on:{\"vdropzone-queue-complete\":_vm.gcodeUploadSuccess,\"vdropzone-error\":_vm.gcodeUploadError,\"vdropzone-sending\":_vm.addParentFolderParam}},[_c('div',{staticClass:\"dz-message needsclick\"},[_c('i',{staticClass:\"fas fa-upload fa-2x\"}),_vm._v(\" \"),_c('br'),_c('div',[_vm._v(\"G-Code file (*.gcode, *.gco, or *.g) only.\")]),_c('div',[_vm._v(\"Up to \"+_vm._s(_vm.maxFilesize)+\" MB each file, \"+_vm._s(_vm.maxTotalFilesize)+\" GB total.\")])])]):_vm._e(),(!_vm.isCloud && _vm.isAgentMoonraker && _vm.searchStateIsActive)?_c('div',{staticClass:\"notice-block\"},[_c('div',{staticClass:\"icon\"},[_c('i',{staticClass:\"fas fa-info\"})]),_c('p',{staticClass:\"message\"},[_vm._v(\"Search in Klipper printers works only for current directory\")])]):_vm._e(),_c('g-code-file-structure',{attrs:{\"is-cloud\":_vm.isCloud,\"search-state-is-active\":_vm.searchStateIsActive,\"search-in-progress\":_vm.searchInProgress,\"folders\":_vm.folders,\"files\":_vm.files,\"target-printer\":_vm.targetPrinter,\"nothing-found\":_vm.nothingFound,\"loading\":_vm.loading,\"scroll-container-id\":_vm.scrollContainerId,\"no-more-folders\":_vm.noMoreFolders,\"no-more-files\":_vm.noMoreFiles,\"local-files-loading\":_vm.localFilesLoading},on:{\"openFolder\":_vm.openFolder,\"openFile\":_vm.openFile,\"renameItem\":_vm.renameItem,\"moveItem\":_vm.moveItem,\"deleteItem\":_vm.deleteItem,\"print\":_vm.onPrintClicked,\"fetchMore\":_vm.fetchFilesAndFolders}})],1)],1)],1),_c('rename-modal',{ref:\"renameModal\",attrs:{\"item\":_vm.activeItem,\"pre-confirm\":_vm.verifyItemRename},on:{\"renamed\":_vm.onItemRenamed}}),_c('move-modal',{ref:\"moveModal\",attrs:{\"item\":_vm.activeItem,\"target-printer\":_vm.targetPrinter,\"scroll-container-id\":_vm.scrollContainerId,\"active-sorting\":_vm.activeSorting,\"active-sorting-direction\":_vm.activeSortingDirection},on:{\"moved\":_vm.onItemMoved}}),_c('delete-confirmation-modal',{ref:\"deleteConfirmationModal\",attrs:{\"item\":_vm.activeItem},on:{\"deleted\":_vm.onItemDeleted}}),_c('new-folder-modal',{ref:\"newFolderModal\",attrs:{\"pre-confirm\":_vm.verifyNewFolder,\"parent-folder-id\":_vm.parentFolder},on:{\"created\":_vm.onFolderCreated}})]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"search-wrapper\"},[_vm._m(0),_c('input',{staticClass:\"dark\",attrs:{\"type\":\"text\",\"placeholder\":\"Search\"},domProps:{\"value\":_vm.value},on:{\"input\":function($event){return _vm.$emit('input', $event.target.value)},\"focus\":function($event){return _vm.$emit('focus')},\"blur\":function($event){return _vm.$emit('blur')}}})])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"search-icon\"},[_c('i',{staticClass:\"fas fa-search\"})])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"search-wrapper\">\n    <div class=\"search-icon\">\n      <i class=\"fas fa-search\"></i>\n    </div>\n    <input\n      type=\"text\"\n      class=\"dark\"\n      placeholder=\"Search\"\n      :value=\"value\"\n      @input=\"$emit('input', $event.target.value)\"\n      @focus=\"$emit('focus')\"\n      @blur=\"$emit('blur')\"\n    />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'SearchInput',\n\n  props: {\n    value: {\n      type: String,\n      default: '',\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.search-wrapper\n  position: relative\n\n  .search-icon\n    height: 100%\n    display: flex\n    flex-direction: column\n    justify-content: center\n    position: absolute\n    top: 0\n    left: .5em\n    opacity: .8\n\n  input\n    padding: .2em .5em .2em 2em\n    width: 100%\n    height: 100%\n    font-size: 16px\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchInput.vue?vue&type=template&id=46c9927d&scoped=true&\"\nimport script from \"./SearchInput.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchInput.vue?vue&type=style&index=0&id=46c9927d&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46c9927d\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-modal',{attrs:{\"id\":\"b-modal-new-folder\",\"title\":\"Enter new folder name\",\"ok-title\":\"Create\",\"centered\":\"\"},on:{\"ok\":_vm.handleOk,\"hidden\":_vm.resetModal,\"shown\":_vm.focusInput}},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"my-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newFolderName),expression:\"newFolderName\"}],ref:\"input\",staticClass:\"input-lg\",attrs:{\"type\":\"text\",\"name\":\"name\",\"placeholder\":\"Folder name\",\"required\":\"required\"},domProps:{\"value\":(_vm.newFolderName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.newFolderName=$event.target.value}}}),(_vm.errorMessage)?_c('b-alert',{staticClass:\"mt-3\",attrs:{\"variant\":\"danger\",\"show\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.errorMessage)+\" \")]):_vm._e()],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-modal\n    id=\"b-modal-new-folder\"\n    title=\"Enter new folder name\"\n    ok-title=\"Create\"\n    centered\n    @ok=\"handleOk\"\n    @hidden=\"resetModal\"\n    @shown=\"focusInput\"\n  >\n    <form @submit.prevent=\"handleSubmit\">\n      <div class=\"my-2\">\n        <input\n          ref=\"input\"\n          v-model=\"newFolderName\"\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"Folder name\"\n          class=\"input-lg\"\n          required=\"required\"\n        />\n        <b-alert v-if=\"errorMessage\" variant=\"danger\" class=\"mt-3\" show>\n          {{ errorMessage }}\n        </b-alert>\n      </div>\n    </form>\n  </b-modal>\n</template>\n\n<script>\nimport 'vue2-dropzone/dist/vue2Dropzone.min.css'\nimport urls from '@config/server-urls'\nimport axios from 'axios'\n\nexport default {\n  name: 'NewFolderModal',\n\n  props: {\n    preConfirm: {\n      type: Function,\n      default: null,\n    },\n    parentFolderId: {\n      type: String,\n      default: null,\n    },\n  },\n\n  data() {\n    return {\n      newFolderName: '',\n      errorMessage: '',\n      isOpen: false,\n    }\n  },\n\n  methods: {\n    show() {\n      this.isOpen = true\n      this.$bvModal.show('b-modal-new-folder')\n    },\n    focusInput() {\n      this.$refs.input.select()\n    },\n    resetModal() {\n      this.isOpen = false\n      this.newFolderName = ''\n      this.errorMessage = ''\n    },\n    handleOk(bvModalEvent) {\n      bvModalEvent.preventDefault()\n      this.handleSubmit()\n    },\n    async handleSubmit() {\n      if (!this.newFolderName) return\n\n      if (this.preConfirm) {\n        const result = this.preConfirm(this.newFolderName)\n        if (result !== true) {\n          this.errorMessage = result\n          return\n        }\n      }\n\n      try {\n        const newFolder = await axios.post(urls.gcodeFolders(), {\n          name: this.newFolderName,\n          parent_folder: this.parentFolderId,\n        })\n\n        this.$emit('created', newFolder.data.id)\n        this.$bvModal.hide('b-modal-new-folder')\n      } catch (e) {\n        console.log(e)\n        return\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.input-lg\n  height: 3rem\n  padding: .5rem 1rem\n  width: 100%\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewFolderModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewFolderModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewFolderModal.vue?vue&type=template&id=2d1af6c9&scoped=true&\"\nimport script from \"./NewFolderModal.vue?vue&type=script&lang=js&\"\nexport * from \"./NewFolderModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NewFolderModal.vue?vue&type=style&index=0&id=2d1af6c9&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d1af6c9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-modal',{attrs:{\"id\":\"b-modal-rename\",\"title\":\"Enter new name\",\"ok-title\":\"Rename\",\"centered\":\"\"},on:{\"ok\":_vm.handleOk,\"hidden\":_vm.resetModal,\"shown\":_vm.focusInput}},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"my-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newItemName),expression:\"newItemName\"}],ref:\"input\",staticClass:\"input-lg\",attrs:{\"type\":\"text\",\"name\":\"name\",\"placeholder\":\"New name\",\"required\":\"required\"},domProps:{\"value\":(_vm.newItemName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.newItemName=$event.target.value}}}),(_vm.errorMessage)?_c('b-alert',{staticClass:\"mt-3\",attrs:{\"variant\":\"danger\",\"show\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.errorMessage)+\" \")]):_vm._e()],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-modal\n    id=\"b-modal-rename\"\n    title=\"Enter new name\"\n    ok-title=\"Rename\"\n    centered\n    @ok=\"handleOk\"\n    @hidden=\"resetModal\"\n    @shown=\"focusInput\"\n  >\n    <form @submit.prevent=\"handleSubmit\">\n      <div class=\"my-2\">\n        <input\n          ref=\"input\"\n          v-model=\"newItemName\"\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"New name\"\n          class=\"input-lg\"\n          required=\"required\"\n        />\n        <b-alert v-if=\"errorMessage\" variant=\"danger\" class=\"mt-3\" show>\n          {{ errorMessage }}\n        </b-alert>\n      </div>\n    </form>\n  </b-modal>\n</template>\n\n<script>\nimport 'vue2-dropzone/dist/vue2Dropzone.min.css'\nimport urls from '@config/server-urls'\nimport axios from 'axios'\n\nexport default {\n  name: 'RenameModal',\n\n  components: {},\n\n  props: {\n    item: {\n      type: Object,\n      default: null,\n    },\n    preConfirm: {\n      type: Function,\n      default: null,\n    },\n  },\n\n  data() {\n    return {\n      newItemName: '',\n      errorMessage: '',\n      isOpen: false,\n    }\n  },\n\n  computed: {\n    itemType() {\n      return this.item.filename ? 'file' : 'folder'\n    },\n    fullName() {\n      if (this.itemType === 'file') {\n        return `${this.newItemName}.${this.fileExt}`\n      } else {\n        return this.newItemName\n      }\n    },\n    fileExt() {\n      if (this.itemType === 'folder') return null\n      return this.item.filename.split('.').at(-1)\n    },\n    nameWithoutExt() {\n      if (this.itemType === 'folder') {\n        return this.item.name\n      } else {\n        const filename = this.item.filename\n        return filename.slice(0, filename.length - this.fileExt.length - 1)\n      }\n    },\n    newNameWithExt() {\n      if (this.itemType === 'folder') {\n        return this.newItemName\n      } else {\n        return `${this.newItemName}.${this.fileExt}`\n      }\n    },\n  },\n\n  methods: {\n    show() {\n      this.isOpen = true\n\n      setTimeout(() => {\n        if (!this.item) {\n          this.isOpen = false\n          return\n        }\n        this.newItemName = this.nameWithoutExt\n        this.$bvModal.show('b-modal-rename')\n      }, 100)\n    },\n    focusInput() {\n      this.$refs.input.select()\n    },\n    close() {\n      this.$bvModal.hide('b-modal-rename')\n      this.resetModal()\n    },\n    resetModal() {\n      this.isOpen = false\n      this.newItemName = ''\n      this.errorMessage = ''\n    },\n    handleOk(bvModalEvent) {\n      if (this.newNameWithExt === (this.item.filename || this.item.name)) {\n        this.close()\n        return\n      }\n\n      bvModalEvent.preventDefault()\n      this.handleSubmit()\n    },\n    async handleSubmit() {\n      const id = this.item.id\n\n      if (!this.newItemName) {\n        return\n      }\n\n      if (this.newNameWithExt === (this.item.filename || this.item.name)) {\n        this.close()\n        return\n      }\n\n      if (this.preConfirm) {\n        const result = this.preConfirm(this.newNameWithExt)\n        if (result !== true) {\n          this.errorMessage = result\n          return\n        }\n      }\n\n      try {\n        const url = this.itemType === 'file' ? urls.gcodeFile(id) : urls.gcodeFolder(id)\n        await axios.patch(\n          url,\n          `${this.itemType === 'file' ? 'filename' : 'name'}=${this.newNameWithExt}`\n        )\n      } catch (e) {\n        this.errorMessage = 'Server error'\n        console.log(e)\n        return\n      }\n\n      this.$emit('renamed', this.newNameWithExt)\n      this.close()\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.input-lg\n  height: 3rem\n  padding: .5rem 1rem\n  width: 100%\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RenameModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RenameModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RenameModal.vue?vue&type=template&id=1e293016&scoped=true&\"\nimport script from \"./RenameModal.vue?vue&type=script&lang=js&\"\nexport * from \"./RenameModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RenameModal.vue?vue&type=style&index=0&id=1e293016&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e293016\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-modal',{attrs:{\"id\":\"b-modal-move\",\"title\":\"Move item\",\"ok-title\":\"Place here\",\"ok-disabled\":_vm.isSameDir || _vm.patchLoading,\"scrollable\":\"\"},on:{\"ok\":_vm.handleOk,\"hidden\":_vm.resetModal},scopedSlots:_vm._u([{key:\"modal-title\",fn:function(){return [_c('div',{staticClass:\"title\"},[(_vm.parentFolder !== null)?_c('a',{staticClass:\"btn shadow-none icon-btn d-inline\",attrs:{\"href\":\"#\",\"title\":\"Go Back\"},on:{\"click\":function($event){$event.preventDefault();return _vm.goBack.apply(null, arguments)}}},[_c('i',{staticClass:\"fas fa-chevron-left\"})]):_vm._e(),_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"Move item\")])])]},proxy:true}])},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_c('g-code-file-structure',{attrs:{\"folders\":_vm.folders,\"files\":_vm.files,\"target-printer\":_vm.targetPrinter,\"loading\":_vm.loading,\"scroll-container-id\":\"b-modal-move___BV_modal_body_\",\"no-more-folders\":_vm.noMoreFolders,\"no-more-files\":_vm.noMoreFiles,\"is-move-modal\":true,\"disabled-item\":_vm.item},on:{\"openFolder\":_vm.openFolder,\"fetchMore\":_vm.fetchFilesAndFolders}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"gcodes-wrapper\",class:{ 'is-move-modal': _vm.isMoveModal }},[(!_vm.isMoveModal)?_c('div',{staticClass:\"header-panel\",class:{ 'without-action-buttons': !_vm.isCloud && !_vm.targetPrinter }},[_c('div',{staticClass:\"text\"},[_vm._v(\"Name\")]),_c('div',{staticClass:\"text\"},[_vm._v(\"Size\")]),_c('div',{staticClass:\"text\"},[_vm._v(\"Created\")]),(_vm.isCloud)?_c('div',{staticClass:\"text\"},[_vm._v(\"Last printed\")]):_vm._e()]):_vm._e(),_c('div',{staticClass:\"gcode-items-wrapper\"},[_c('div',_vm._l(([..._vm.folders, ..._vm.files]),function(item,key){return _c('file-structure-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          (_vm.isFolder(item) && !_vm.searchStateIsActive) || (!_vm.isFolder(item) && !_vm.searchInProgress)\n        ),expression:\"\\n          (isFolder(item) && !searchStateIsActive) || (!isFolder(item) && !searchInProgress)\\n        \"}],key:`${_vm.isFolder(item) ? 'folder' : 'file'}_${key}`,attrs:{\"item\":item,\"is-cloud\":_vm.isCloud,\"target-printer\":_vm.targetPrinter,\"is-move-modal\":_vm.isMoveModal,\"disabled\":_vm.disabledItem && _vm.disabledItem.id === item.id},on:{\"click\":function($event){_vm.isFolder(item) ? _vm.$emit('openFolder', item) : _vm.$emit('openFile', item)},\"renameItem\":function($event){return _vm.$emit('renameItem', item)},\"moveItem\":function($event){return _vm.$emit('moveItem', item)},\"deleteItem\":function($event){return _vm.$emit('deleteItem', item)},\"print\":function($event){return _vm.$emit('print', item)}}})}),1),(_vm.isCloud)?_c('mugen-scroll',{staticClass:\"text-center\",attrs:{\"v-show\":!_vm.isFolderEmpty,\"handler\":() => _vm.$emit('fetchMore'),\"should-handle\":!_vm.loading,\"scroll-container\":_vm.scrollContainerId}},[(!_vm.noMoreFolders || !_vm.noMoreFiles || _vm.searchInProgress)?_c('div',{staticClass:\"py-5\"},[_c('b-spinner',{attrs:{\"label\":\"Loading...\"}})],1):_vm._e()]):_vm._e(),(!_vm.isCloud && (_vm.localFilesLoading || _vm.searchInProgress))?_c('div',{staticClass:\"text-center py-5\"},[_c('b-spinner',{attrs:{\"label\":\"Loading...\"}})],1):_c('div',[(_vm.isFolderEmpty)?_c('div',{staticClass:\"placeholder text-secondary\"},[_c('span',[_vm._v(\"Nothing here yet\")])]):(_vm.nothingFound)?_c('div',{staticClass:\"placeholder text-secondary\"},[_c('span',[_vm._v(\"Nothing found\")])]):_vm._e()])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"item\",class:{ disabled: _vm.isDisabled, 'move-modal': _vm.isMoveModal },on:{\"click\":() => !_vm.isDisabled && _vm.$emit('click')}},[_c('div',{staticClass:\"item-info\"},[_c('div',{staticClass:\"filename\"},[(!_vm.isFolder)?_c('span',[_c('i',{staticClass:\"fas fa-file-code mr-1\"}),_vm._v(\" \"+_vm._s(_vm.item.filename)+\" \")]):(_vm.isFolder)?_c('span',[_c('i',{staticClass:\"fas fa-folder mr-1\"}),_vm._v(\" \"+_vm._s(_vm.item.name)+\" \")]):_vm._e()]),_c('div',{staticClass:\"size\"},[(!_vm.isFolder)?_c('span',[_vm._v(_vm._s(_vm.item.filesize))]):_vm._e(),(_vm.isFolder)?_c('span',[_vm._v(_vm._s(_vm.item.numItems)+\" item(s)\")]):_vm._e()]),(!_vm.isMoveModal)?_c('div',{staticClass:\"created\"},[_vm._v(\" \"+_vm._s(_vm.item.created_at ? _vm.item.created_at.fromNow() : '-')+\" \")]):_vm._e(),(!_vm.isMoveModal)?[(!_vm.isFolder && _vm.isCloud)?_c('div',{staticClass:\"last-printed\"},[(!_vm.item.print_set)?_c('span',[_vm._v(\"-\")]):(!_vm.item.print_set.length)?_c('span',[_vm._v(\"No prints yet\")]):(_vm.item.last_print)?_c('span',[_vm._v(_vm._s(_vm.item.last_print.ended_at ? _vm.item.last_print.ended_at.fromNow() : 'Printing...'))]):_vm._e(),(_vm.item.last_print && _vm.item.last_print.ended_at)?_c('div',{staticClass:\"circle-indicator\",class:{\n            cancelled: _vm.item.last_print.cancelled_at,\n            finished: _vm.item.last_print.finished_at,\n          }}):_vm._e()]):_vm._e(),(_vm.isFolder && _vm.isCloud)?_c('div',{staticClass:\"d-none d-md-block\"}):_vm._e()]:_vm._e()],2),(!_vm.isMoveModal && ((!_vm.isFolder && (_vm.isCloud || _vm.targetPrinter)) || (_vm.isFolder && _vm.isCloud)))?_c('div',[_c('b-dropdown',{attrs:{\"right\":\"\",\"no-caret\":\"\",\"toggle-class\":\"icon-btn py-0\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('i',{staticClass:\"fas fa-ellipsis-v\"})]},proxy:true}],null,false,3452768261)},[(!_vm.isFolder && _vm.targetPrinter)?_c('b-dropdown-item',{on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('print', _vm.item)}}},[_c('span',{staticClass:\"text-primary\"},[_c('i',{staticClass:\"fas fa-play-circle\"}),_vm._v(\"Print on \"+_vm._s(_vm.targetPrinter.name)+\" \")])]):_vm._e(),(_vm.isCloud)?_c('b-dropdown-item',{on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('renameItem', _vm.item)}}},[_c('i',{staticClass:\"fas fa-edit\"}),_vm._v(\"Rename \")]):_vm._e(),(_vm.isCloud)?_c('b-dropdown-item',{on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('moveItem', _vm.item)}}},[_c('i',{staticClass:\"fas fa-arrows-alt\"}),_vm._v(\"Move \")]):_vm._e(),(_vm.isCloud)?_c('b-dropdown-item',{on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('deleteItem', _vm.item)}}},[_c('span',{staticClass:\"text-danger\"},[_c('i',{staticClass:\"fas fa-trash-alt\"}),_vm._v(\"Delete \")])]):_vm._e()],1)],1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"item\"\n    :class=\"{ disabled: isDisabled, 'move-modal': isMoveModal }\"\n    @click=\"() => !isDisabled && $emit('click')\"\n  >\n    <div class=\"item-info\">\n      <div class=\"filename\">\n        <span v-if=\"!isFolder\">\n          <i class=\"fas fa-file-code mr-1\"></i>\n          {{ item.filename }}\n        </span>\n        <span v-else-if=\"isFolder\">\n          <i class=\"fas fa-folder mr-1\"></i>\n          {{ item.name }}\n        </span>\n      </div>\n      <div class=\"size\">\n        <span v-if=\"!isFolder\">{{ item.filesize }}</span>\n        <span v-if=\"isFolder\">{{ item.numItems }} item(s)</span>\n      </div>\n      <div v-if=\"!isMoveModal\" class=\"created\">\n        {{ item.created_at ? item.created_at.fromNow() : '-' }}\n      </div>\n      <template v-if=\"!isMoveModal\">\n        <div v-if=\"!isFolder && isCloud\" class=\"last-printed\">\n          <span v-if=\"!item.print_set\">-</span>\n          <span v-else-if=\"!item.print_set.length\">No prints yet</span>\n          <span v-else-if=\"item.last_print\">{{\n            item.last_print.ended_at ? item.last_print.ended_at.fromNow() : 'Printing...'\n          }}</span>\n          <div\n            v-if=\"item.last_print && item.last_print.ended_at\"\n            class=\"circle-indicator\"\n            :class=\"{\n              cancelled: item.last_print.cancelled_at,\n              finished: item.last_print.finished_at,\n            }\"\n          ></div>\n        </div>\n        <div v-if=\"isFolder && isCloud\" class=\"d-none d-md-block\"></div>\n      </template>\n    </div>\n    <div\n      v-if=\"!isMoveModal && ((!isFolder && (isCloud || targetPrinter)) || (isFolder && isCloud))\"\n    >\n      <b-dropdown right no-caret toggle-class=\"icon-btn py-0\">\n        <template #button-content>\n          <i class=\"fas fa-ellipsis-v\"></i>\n        </template>\n        <b-dropdown-item v-if=\"!isFolder && targetPrinter\" @click.stop=\"$emit('print', item)\">\n          <span class=\"text-primary\">\n            <i class=\"fas fa-play-circle\"></i>Print on {{ targetPrinter.name }}\n          </span>\n        </b-dropdown-item>\n        <b-dropdown-item v-if=\"isCloud\" @click.stop=\"$emit('renameItem', item)\">\n          <i class=\"fas fa-edit\"></i>Rename\n        </b-dropdown-item>\n        <b-dropdown-item v-if=\"isCloud\" @click.stop=\"$emit('moveItem', item)\">\n          <i class=\"fas fa-arrows-alt\"></i>Move\n        </b-dropdown-item>\n        <b-dropdown-item v-if=\"isCloud\" @click.stop=\"$emit('deleteItem', item)\">\n          <span class=\"text-danger\"> <i class=\"fas fa-trash-alt\"></i>Delete </span>\n        </b-dropdown-item>\n      </b-dropdown>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'FileStructureItem',\n\n  props: {\n    item: {\n      type: Object,\n      required: true,\n    },\n    isCloud: {\n      type: Boolean,\n      default: true,\n    },\n    targetPrinter: {\n      type: Object,\n      default: null,\n    },\n    isMoveModal: {\n      type: Boolean,\n      default: false,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  computed: {\n    isFolder() {\n      return !this.item.filename\n    },\n    isDisabled() {\n      return (this.isMoveModal && !this.isFolder) || this.disabled\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.item\n  display: flex\n  align-items: center\n  padding: .6em 1em\n  border-bottom: 1px solid var(--color-divider-muted)\n  &:last-child\n    border-bottom: none\n  &:hover\n    cursor: pointer\n    background-color: var(--color-hover)\n  &.disabled\n    opacity: .5\n    &:hover\n      cursor: default\n      background-color: transparent\n  &.move-modal\n    .item-info\n      .size\n        text-align: right\n\n  .item-info\n    display: flex\n    width: 100%\n    overflow: hidden\n    flex: 1\n    font-size: 0.875rem\n    color: var(--color-text-secondary)\n    & > div\n      flex: 1\n      margin-left: 30px\n      &:first-child\n        font-size: 1rem\n        color: var(--color-text-primary)\n        margin-left: 0\n\n    .filename\n      text-overflow: ellipsis\n      overflow: hidden\n      white-space: nowrap\n      width: 100%\n      flex: 3\n\n  .remove-button\n    width: 30px\n    height: 30px\n    text-align: center\n    line-height: 30px\n    border-radius: 50%\n    transition: background-color .2s ease-out\n    &:hover\n      background-color: var(--color-danger)\n      color: var(--color-on-primary)\n      cursor: pointer\n\n  @media (max-width: 768px)\n    &\n      margin: 0 -16px\n\n    .item-info\n      flex-direction: column\n      align-items: flex-start\n      & > div\n        margin-left: 0\n\n      .size::before\n        content: \"Size: \"\n      .uploaded::before\n        content: \"Uploaded: \"\n      .created::before\n        content: \"Created: \"\n      .last-printed::before\n        content: \"Last print: \"\n\n.circle-indicator\n  --size: 6px\n  width: var(--size)\n  height: var(--size)\n  border-radius: var(--size)\n  display: inline-block\n  margin-left: 5px\n  position: relative\n  bottom: 1px\n  background: var(--color-text-secondary)\n  &.cancelled\n    background: var(--color-danger)\n  &.finished\n    background: var(--color-success)\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileStructureItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileStructureItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileStructureItem.vue?vue&type=template&id=6c461261&scoped=true&\"\nimport script from \"./FileStructureItem.vue?vue&type=script&lang=js&\"\nexport * from \"./FileStructureItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FileStructureItem.vue?vue&type=style&index=0&id=6c461261&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c461261\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"gcodes-wrapper\" :class=\"{ 'is-move-modal': isMoveModal }\">\n    <div\n      v-if=\"!isMoveModal\"\n      class=\"header-panel\"\n      :class=\"{ 'without-action-buttons': !isCloud && !targetPrinter }\"\n    >\n      <div class=\"text\">Name</div>\n      <div class=\"text\">Size</div>\n      <div class=\"text\">Created</div>\n      <div v-if=\"isCloud\" class=\"text\">Last printed</div>\n    </div>\n\n    <div class=\"gcode-items-wrapper\">\n      <div>\n        <file-structure-item\n          v-for=\"(item, key) in [...folders, ...files]\"\n          v-show=\"\n            (isFolder(item) && !searchStateIsActive) || (!isFolder(item) && !searchInProgress)\n          \"\n          :key=\"`${isFolder(item) ? 'folder' : 'file'}_${key}`\"\n          :item=\"item\"\n          :is-cloud=\"isCloud\"\n          :target-printer=\"targetPrinter\"\n          :is-move-modal=\"isMoveModal\"\n          :disabled=\"disabledItem && disabledItem.id === item.id\"\n          @click=\"isFolder(item) ? $emit('openFolder', item) : $emit('openFile', item)\"\n          @renameItem=\"$emit('renameItem', item)\"\n          @moveItem=\"$emit('moveItem', item)\"\n          @deleteItem=\"$emit('deleteItem', item)\"\n          @print=\"$emit('print', item)\"\n        />\n      </div>\n\n      <mugen-scroll\n        v-if=\"isCloud\"\n        :v-show=\"!isFolderEmpty\"\n        :handler=\"() => $emit('fetchMore')\"\n        :should-handle=\"!loading\"\n        class=\"text-center\"\n        :scroll-container=\"scrollContainerId\"\n      >\n        <div v-if=\"!noMoreFolders || !noMoreFiles || searchInProgress\" class=\"py-5\">\n          <b-spinner label=\"Loading...\" />\n        </div>\n      </mugen-scroll>\n\n      <div v-if=\"!isCloud && (localFilesLoading || searchInProgress)\" class=\"text-center py-5\">\n        <b-spinner label=\"Loading...\" />\n      </div>\n      <div v-else>\n        <!-- Placeholders -->\n        <div v-if=\"isFolderEmpty\" class=\"placeholder text-secondary\">\n          <span>Nothing here yet</span>\n        </div>\n        <div v-else-if=\"nothingFound\" class=\"placeholder text-secondary\">\n          <span>Nothing found</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport MugenScroll from 'vue-mugen-scroll'\nimport FileStructureItem from '@src/components/g-codes/FileStructureItem.vue'\n\nexport default {\n  name: 'GCodeFileStructure',\n\n  components: {\n    MugenScroll,\n    FileStructureItem,\n  },\n\n  props: {\n    folders: {\n      type: Array,\n      default: () => [],\n    },\n    files: {\n      type: Array,\n      default: () => [],\n    },\n    noMoreFolders: {\n      type: Boolean,\n      default: false,\n    },\n    noMoreFiles: {\n      type: Boolean,\n      default: false,\n    },\n    loading: {\n      type: Boolean,\n      default: false,\n    },\n    localFilesLoading: {\n      type: Boolean,\n      default: false,\n    },\n    isCloud: {\n      type: Boolean,\n      default: true,\n    },\n    searchStateIsActive: {\n      type: Boolean,\n      default: false,\n    },\n    searchInProgress: {\n      type: Boolean,\n      default: false,\n    },\n    nothingFound: {\n      type: Boolean,\n      default: false,\n    },\n    targetPrinter: {\n      type: Object,\n      default: null,\n    },\n    scrollContainerId: {\n      type: String,\n      default: null,\n    },\n    isMoveModal: {\n      type: Boolean,\n      default: false,\n    },\n    disabledItem: {\n      type: Object,\n      default: null,\n    },\n  },\n\n  computed: {\n    isFolderEmpty() {\n      return (\n        !this.searchStateIsActive && !this.loading && !this.files.length && !this.folders.length\n      )\n    },\n  },\n\n  methods: {\n    isFolder(item) {\n      return !item.filename\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.gcodes-wrapper\n  background-color: var(--color-surface-secondary)\n  padding: 1em 2em\n  border-radius: var(--border-radius-lg)\n  &.is-move-modal\n    padding: 0\n    border-radius: 0\n\n.header-panel\n  display: flex\n  padding: 1em calc(1em + 30px) 1em 1em\n  border-bottom: 1px solid var(--color-divider)\n  font-weight: bold\n  &.without-action-buttons\n    padding-right: 1em\n\n  & > div\n    flex: 1\n    display: flex\n    justify-content: space-between\n    margin-left: 30px\n    align-items: center\n    font-size: 1rem\n\n    &:first-child\n      margin-left: 0\n      flex: 3\n\n  @media (max-width: 768px)\n    &\n      display: none\n\n.placeholder\n  margin: 5rem 0\n  text-align: center\n  &.text-secondary *\n    color: var(--color-text-secondary)\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GCodeFileStructure.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GCodeFileStructure.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GCodeFileStructure.vue?vue&type=template&id=46d7264c&scoped=true&\"\nimport script from \"./GCodeFileStructure.vue?vue&type=script&lang=js&\"\nexport * from \"./GCodeFileStructure.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GCodeFileStructure.vue?vue&type=style&index=0&id=46d7264c&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46d7264c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <b-modal\n    id=\"b-modal-move\"\n    title=\"Move item\"\n    ok-title=\"Place here\"\n    :ok-disabled=\"isSameDir || patchLoading\"\n    scrollable\n    @ok=\"handleOk\"\n    @hidden=\"resetModal\"\n  >\n    <template #modal-title>\n      <div class=\"title\">\n        <a\n          v-if=\"parentFolder !== null\"\n          href=\"#\"\n          class=\"btn shadow-none icon-btn d-inline\"\n          title=\"Go Back\"\n          @click.prevent=\"goBack\"\n        >\n          <i class=\"fas fa-chevron-left\"></i>\n        </a>\n        <h5 class=\"modal-title\">Move item</h5>\n      </div>\n    </template>\n    <form @submit.prevent=\"handleSubmit\">\n      <g-code-file-structure\n        :folders=\"folders\"\n        :files=\"files\"\n        :target-printer=\"targetPrinter\"\n        :loading=\"loading\"\n        scroll-container-id=\"b-modal-move___BV_modal_body_\"\n        :no-more-folders=\"noMoreFolders\"\n        :no-more-files=\"noMoreFiles\"\n        :is-move-modal=\"true\"\n        :disabled-item=\"item\"\n        @openFolder=\"openFolder\"\n        @fetchMore=\"fetchFilesAndFolders\"\n      />\n    </form>\n  </b-modal>\n</template>\n\n<script>\nimport 'vue2-dropzone/dist/vue2Dropzone.min.css'\nimport urls from '@config/server-urls'\nimport axios from 'axios'\nimport GCodeFileStructure from '@src/components/g-codes/GCodeFileStructure.vue'\nimport { normalizedGcode, normalizedGcodeFolder } from '@src/lib/normalizers'\n\nconst PAGE_SIZE = 24\n\nexport default {\n  name: 'MoveModal',\n\n  components: {\n    GCodeFileStructure,\n  },\n\n  props: {\n    item: {\n      type: Object,\n      default: null,\n    },\n    targetPrinter: {\n      type: Object,\n      default: null,\n    },\n    scrollContainerId: {\n      type: String,\n      default: null,\n    },\n    activeSorting: {\n      type: Object,\n      required: true,\n    },\n    activeSortingDirection: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      path: [],\n      isOpen: false,\n      loading: false,\n      patchLoading: false,\n      folders: [],\n      files: [],\n      noMoreFolders: false,\n      noMoreFiles: false,\n      currentFoldersPage: 1,\n      currentFilesPage: 1,\n    }\n  },\n\n  computed: {\n    itemType() {\n      return this.item.filename ? 'file' : 'folder'\n    },\n    parentFolder() {\n      return this.path && this.path.length > 0 ? this.path.at(-1) : null\n    },\n    isSameDir() {\n      if (this.parentFolder === null && !this.item?.parent_folder) {\n        return true\n      } else if (this.item?.parent_folder && this.item?.parent_folder.id === this.parentFolder) {\n        return true\n      }\n      return false\n    },\n  },\n\n  methods: {\n    goBack() {\n      this.path.pop()\n      this.fetchFilesAndFolders(true)\n    },\n    openFolder(folder) {\n      this.path.push(folder.id)\n      this.fetchFilesAndFolders(true)\n    },\n    resetFiles() {\n      this.folders = []\n      this.files = []\n      this.noMoreFolders = false\n      this.noMoreFiles = false\n      this.currentFoldersPage = 1\n      this.currentFilesPage = 1\n    },\n    async fetchFilesAndFolders(reset = false) {\n      if (this.loading) {\n        return\n      }\n\n      if (reset) {\n        this.resetFiles()\n      }\n\n      if (this.noMoreFolders && this.noMoreFiles) {\n        return\n      }\n\n      this.loading = true\n      let folders = []\n      let files = []\n\n      if (!this.noMoreFolders) {\n        try {\n          let response = await axios.get(urls.gcodeFolders(), {\n            params: {\n              parent_folder: this.parentFolder || 'null',\n              page: this.currentFoldersPage,\n              page_size: PAGE_SIZE,\n              sorting: `${this.activeSorting.folder_query}_${this.activeSortingDirection.query}`,\n            },\n          })\n          response = response.data\n          this.noMoreFolders = response?.next === null\n          folders = response?.results || []\n        } catch (error) {\n          this.loading = false\n          this._showErrorPopup(error)\n        }\n\n        this.folders.push(...folders.map((data) => normalizedGcodeFolder(data)))\n        this.currentFoldersPage += 1\n      }\n\n      if (!this.noMoreFiles && folders.length < PAGE_SIZE) {\n        try {\n          let response = await axios.get(urls.gcodeFiles(), {\n            params: {\n              parent_folder: this.parentFolder || 'null',\n              page: this.currentFilesPage,\n              page_size: PAGE_SIZE,\n              sorting: `${this.activeSorting.file_query}_${this.activeSortingDirection.query}`,\n            },\n          })\n          response = response.data\n          this.noMoreFiles = response?.next === null\n          files = response?.results || []\n        } catch (error) {\n          this.loading = false\n          this._showErrorPopup(error)\n        }\n\n        this.files.push(...files.map((data) => normalizedGcode(data)))\n        this.currentFilesPage += 1\n      }\n\n      this.loading = false\n    },\n\n    show() {\n      this.isOpen = true\n      this.fetchFilesAndFolders()\n\n      setTimeout(() => {\n        if (!this.item) {\n          this.isOpen = false\n          return\n        }\n        this.$bvModal.show('b-modal-move')\n      }, 100)\n    },\n    close() {\n      this.$bvModal.hide('b-modal-move')\n      this.resetModal()\n    },\n    resetModal() {\n      this.isOpen = false\n      this.path = []\n      this.resetFiles()\n    },\n    handleOk(bvModalEvent) {\n      bvModalEvent.preventDefault()\n      this.handleSubmit()\n    },\n    async handleSubmit() {\n      const id = this.item.id\n\n      this.patchLoading = true\n\n      try {\n        const url = this.itemType === 'file' ? urls.gcodeFile(id) : urls.gcodeFolder(id)\n        await axios.patch(url, `parent_folder=${this.parentFolder || ''}`)\n      } catch (error) {\n        this._showErrorPopup(error)\n      }\n\n      this.patchLoading = false\n      this.$emit('moved')\n      this.close()\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.title\n  display: flex\n  align-items: center\n  .icon-btn\n    padding-top: 0\n    padding-bottom: 0\n    padding-left: 0\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MoveModal.vue?vue&type=template&id=6e01625d&scoped=true&\"\nimport script from \"./MoveModal.vue?vue&type=script&lang=js&\"\nexport * from \"./MoveModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MoveModal.vue?vue&type=style&index=0&id=6e01625d&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e01625d\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div')\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div></div>\n</template>\n\n<script>\nimport 'vue2-dropzone/dist/vue2Dropzone.min.css'\nimport urls from '@config/server-urls'\nimport axios from 'axios'\n\nexport default {\n  name: 'RenameModal',\n\n  props: {\n    item: {\n      type: Object,\n      default: null,\n    },\n  },\n\n  data() {\n    return {\n      isOpen: false,\n    }\n  },\n\n  created() {},\n\n  mounted() {},\n\n  methods: {\n    show() {\n      this.isOpen = true\n      this.$bvModal\n        .msgBoxConfirm('Are you sure?', {\n          id: 'b-modal-confirm-delete',\n          centered: true,\n          okTitle: 'Delete',\n          okVariant: 'danger',\n          size: 'sm',\n          autoFocusButton: 'ok',\n        })\n        .then(async (value) => {\n          this.isOpen = false\n          if (!value) return\n\n          try {\n            const url = this.item.filename\n              ? urls.gcodeFile(this.item.id)\n              : urls.gcodeFolder(this.item.id)\n            await axios.delete(url)\n          } catch (e) {\n            console.log(e)\n            return\n          }\n\n          this.$emit('deleted')\n        })\n        .catch((error) => {\n          this._showErrorPopup(error)\n        })\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\">\n#b-modal-confirm-delete\n  .modal-body\n    font-size: 1.125rem\n    text-align: center\n  .modal-footer\n    justify-content: center\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteConfirmationModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteConfirmationModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DeleteConfirmationModal.vue?vue&type=template&id=c0a030bc&\"\nimport script from \"./DeleteConfirmationModal.vue?vue&type=script&lang=js&\"\nexport * from \"./DeleteConfirmationModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DeleteConfirmationModal.vue?vue&type=style&index=0&id=c0a030bc&prod&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <page-layout :is-popup=\"isPopup\">\n    <!-- Tob bar -->\n    <template #topBarLeft>\n      <a\n        v-if=\"isPopup && parentFolder !== null\"\n        href=\"#\"\n        class=\"btn shadow-none icon-btn d-inline\"\n        title=\"Go Back\"\n        @click.prevent=\"goBack\"\n      >\n        <i class=\"fas fa-chevron-left\"></i>\n      </a>\n      <search-input class=\"search-input mr-3\" @input=\"updateSearch\"></search-input>\n    </template>\n    <template #topBarRight>\n      <div class=\"d-flex\">\n        <!-- <a href=\"#\" class=\"btn shadow-none icon-btn d-none d-md-inline\" title=\"Upload G-Code\">\n          <i class=\"fas fa-file-upload\"></i>\n        </a> -->\n        <a\n          v-if=\"isCloud\"\n          href=\"#\"\n          class=\"btn shadow-none icon-btn d-none d-md-inline\"\n          title=\"Create folder\"\n          @click.prevent=\"createFolder\"\n        >\n          <i class=\"fas fa-folder-plus\"></i>\n        </a>\n        <!-- Storage dropdown -->\n        <b-dropdown right no-caret toggle-class=\"icon-btn\" class=\"order-md-2\">\n          <template #button-content>\n            <i class=\"fas fa-server\"></i>\n          </template>\n          <b-dropdown-text class=\"small text-secondary\">STORAGE</b-dropdown-text>\n          <b-dropdown-item @click=\"switchToCloudStorage\">\n            <div class=\"dropdown-group\">\n              <i\n                class=\"fas fa-check text-primary\"\n                :style=\"{ visibility: isCloud ? 'visible' : 'hidden' }\"\n              ></i>\n              <div class=\"text\">\n                <div class=\"title\">Obico Cloud</div>\n              </div>\n            </div>\n          </b-dropdown-item>\n          <b-dropdown-item\n            v-for=\"printer in printers\"\n            :key=\"printer.id\"\n            @click=\"() => switchToPrinterStorage(printer)\"\n          >\n            <div class=\"dropdown-group\">\n              <i\n                class=\"fas fa-check text-primary\"\n                :style=\"{ visibility: selectedPrinterId === printer.id ? 'visible' : 'hidden' }\"\n              ></i>\n              <div class=\"text\">\n                <div class=\"title\">{{ printer.name }}</div>\n                <div\n                  class=\"subtitle\"\n                  :class=\"[printer.isBrowsable() ? 'text-success' : 'text-warning']\"\n                >\n                  {{ printer.browsabilityText() }}\n                </div>\n              </div>\n            </div>\n          </b-dropdown-item>\n        </b-dropdown>\n        <!-- Sorting / all actions for mobile -->\n        <b-dropdown v-if=\"isCloud\" right no-caret toggle-class=\"icon-btn\" class=\"order-md-1\">\n          <template #button-content>\n            <i class=\"fas fa-ellipsis-v d-md-none\"></i>\n            <i class=\"fas fa-sort-amount-down d-none d-md-block\"></i>\n          </template>\n          <!-- <b-dropdown-item href=\"#\" class=\"d-md-none\">\n            <i class=\"fas fa-file-upload\"></i>Upload G-Code\n          </b-dropdown-item> -->\n          <b-dropdown-item class=\"d-md-none\" @click=\"createFolder\">\n            <i class=\"fas fa-folder-plus\"></i>Create Folder\n          </b-dropdown-item>\n          <b-dropdown-divider class=\"d-md-none\"></b-dropdown-divider>\n          <b-dropdown-text class=\"small text-secondary\">ORDER</b-dropdown-text>\n          <b-dropdown-item\n            v-for=\"sortingOption in sorting.options\"\n            :key=\"`s_${sortingOption.id}`\"\n            @click=\"() => updateSorting(sortingOption)\"\n          >\n            <i\n              class=\"fas fa-check text-primary\"\n              :style=\"{ visibility: activeSorting.id === sortingOption.id ? 'visible' : 'hidden' }\"\n            ></i>\n            {{ sortingOption.title }}\n          </b-dropdown-item>\n          <b-dropdown-divider />\n          <b-dropdown-item\n            v-for=\"sortingDirection in sorting.directions\"\n            :key=\"`d_${sortingDirection.id}`\"\n            @click=\"() => updateSorting(activeSorting, sortingDirection)\"\n          >\n            <i\n              class=\"fas fa-check text-primary\"\n              :style=\"{\n                visibility:\n                  activeSortingDirection.id === sortingDirection.id ? 'visible' : 'hidden',\n              }\"\n            ></i>\n            {{ sortingDirection.title }}\n          </b-dropdown-item>\n        </b-dropdown>\n        <a\n          v-if=\"onClose\"\n          href=\"#\"\n          class=\"btn shadow-none icon-btn d-inline order-4\"\n          title=\"Close\"\n          @click.prevent=\"onClose\"\n        >\n          <i class=\"fas fa-times text-danger\"></i>\n        </a>\n      </div>\n    </template>\n\n    <!-- Page content -->\n    <template #content>\n      <b-container>\n        <b-row>\n          <b-col>\n            <vue-dropzone\n              v-if=\"isCloud\"\n              id=\"dropzone\"\n              ref=\"gcodesDropzone\"\n              class=\"upload-box\"\n              :options=\"dropzoneOptions\"\n              :use-custom-slot=\"true\"\n              @vdropzone-queue-complete=\"gcodeUploadSuccess\"\n              @vdropzone-error=\"gcodeUploadError\"\n              @vdropzone-sending=\"addParentFolderParam\"\n            >\n              <div class=\"dz-message needsclick\">\n                <i class=\"fas fa-upload fa-2x\"></i> <br />\n                <div>G-Code file (*.gcode, *.gco, or *.g) only.</div>\n                <div>Up to {{ maxFilesize }} MB each file, {{ maxTotalFilesize }} GB total.</div>\n              </div>\n            </vue-dropzone>\n\n            <div v-if=\"!isCloud && isAgentMoonraker && searchStateIsActive\" class=\"notice-block\">\n              <div class=\"icon\">\n                <i class=\"fas fa-info\"></i>\n              </div>\n              <p class=\"message\">Search in Klipper printers works only for current directory</p>\n            </div>\n\n            <g-code-file-structure\n              :is-cloud=\"isCloud\"\n              :search-state-is-active=\"searchStateIsActive\"\n              :search-in-progress=\"searchInProgress\"\n              :folders=\"folders\"\n              :files=\"files\"\n              :target-printer=\"targetPrinter\"\n              :nothing-found=\"nothingFound\"\n              :loading=\"loading\"\n              :scroll-container-id=\"scrollContainerId\"\n              :no-more-folders=\"noMoreFolders\"\n              :no-more-files=\"noMoreFiles\"\n              :local-files-loading=\"localFilesLoading\"\n              @openFolder=\"openFolder\"\n              @openFile=\"openFile\"\n              @renameItem=\"renameItem\"\n              @moveItem=\"moveItem\"\n              @deleteItem=\"deleteItem\"\n              @print=\"onPrintClicked\"\n              @fetchMore=\"fetchFilesAndFolders\"\n            />\n          </b-col>\n        </b-row>\n      </b-container>\n      <rename-modal\n        ref=\"renameModal\"\n        :item=\"activeItem\"\n        :pre-confirm=\"verifyItemRename\"\n        @renamed=\"onItemRenamed\"\n      />\n      <move-modal\n        ref=\"moveModal\"\n        :item=\"activeItem\"\n        :target-printer=\"targetPrinter\"\n        :scroll-container-id=\"scrollContainerId\"\n        :active-sorting=\"activeSorting\"\n        :active-sorting-direction=\"activeSortingDirection\"\n        @moved=\"onItemMoved\"\n      />\n      <delete-confirmation-modal\n        ref=\"deleteConfirmationModal\"\n        :item=\"activeItem\"\n        @deleted=\"onItemDeleted\"\n      />\n      <new-folder-modal\n        ref=\"newFolderModal\"\n        :pre-confirm=\"verifyNewFolder\"\n        :parent-folder-id=\"parentFolder\"\n        @created=\"onFolderCreated\"\n      />\n    </template>\n  </page-layout>\n</template>\n\n<script>\nimport PageLayout from '@src/components/PageLayout.vue'\nimport vue2Dropzone from 'vue2-dropzone'\nimport 'vue2-dropzone/dist/vue2Dropzone.min.css'\nimport urls from '@config/server-urls'\nimport axios from 'axios'\nimport { getLocalPref, setLocalPref } from '@src/lib/pref'\nimport {\n  normalizedGcode,\n  normalizedGcodeFolder,\n  normalizedPrinter,\n  PrintStatus,\n} from '@src/lib/normalizers'\nimport { user } from '@src/lib/page-context'\nimport SearchInput from '@src/components/SearchInput.vue'\nimport { getCsrfFromDocument } from '@src/lib/utils'\nimport NewFolderModal from '@src/components/g-codes/NewFolderModal.vue'\nimport RenameModal from '@src/components/g-codes/RenameModal.vue'\nimport MoveModal from '@src/components/g-codes/MoveModal.vue'\nimport DeleteConfirmationModal from '@src/components/g-codes/DeleteConfirmationModal.vue'\nimport { sendToPrint } from '@src/components/g-codes/sendToPrint'\nimport PrinterComm from '@src/lib/printer-comm'\nimport {\n  listPrinterLocalGCodesOctoPrint,\n  listPrinterLocalGCodesMoonraker,\n} from '@src/lib/printer-local-comm'\nimport GCodeFileStructure from '@src/components/g-codes/GCodeFileStructure.vue'\n\n// Waiting time (ms) before asking server for search results\nconst SEARCH_API_CALL_DELAY = 1000\n\nconst PAGE_SIZE = 24\n\nconst Sorting = {\n  options: {\n    name: {\n      id: 1,\n      title: 'Name',\n      file_query: 'filename',\n      folder_query: 'name',\n    },\n    size: {\n      id: 2,\n      title: 'Size',\n      file_query: 'num_bytes',\n    },\n    created_at: {\n      id: 3,\n      title: 'Created',\n      file_query: 'created_at',\n      folder_query: 'created_at',\n    },\n  },\n  directions: {\n    asc: {\n      id: 1,\n      title: 'Ascending',\n      query: 'asc',\n    },\n    desc: {\n      id: 2,\n      title: 'Descending',\n      query: 'desc',\n    },\n  },\n}\nconst LOCAL_PREF_NAMES = {\n  sorting: 'gcode-folders-sorting-id',\n  sortingDirection: 'gcode-folders-sorting-direction-id',\n}\nconst getSortingById = (id) => {\n  return Object.values(Sorting.options).find((s) => s.id === id)\n}\nconst getSortingDirectionById = (id) => {\n  return Object.values(Sorting.directions).find((s) => s.id === id)\n}\n\nexport default {\n  name: 'GCodeFoldersPage',\n\n  components: {\n    PageLayout,\n    SearchInput,\n    vueDropzone: vue2Dropzone,\n    GCodeFileStructure,\n    RenameModal,\n    MoveModal,\n    DeleteConfirmationModal,\n    NewFolderModal,\n  },\n\n  props: {\n    isPopup: {\n      type: Boolean,\n      default: false,\n    },\n    onClose: {\n      type: Function,\n      default: null,\n    },\n    scrollContainerId: {\n      type: String,\n      default: null,\n    },\n    targetPrinter: {\n      type: Object,\n      default: null,\n    },\n    savedPath: {\n      type: Array,\n      default: () => [],\n    },\n    routeParams: {\n      type: Object,\n      default: () => {\n        return {\n          printerId: null,\n          parentFolder: null,\n        }\n      },\n    },\n  },\n\n  data() {\n    return {\n      PrintStatus,\n      csrf: null,\n      user: null,\n      loading: false,\n      parentFolder: null,\n      path: [],\n      files: [],\n      folders: [],\n      noMoreFolders: false,\n      noMoreFiles: false,\n      currentFoldersPage: 1,\n      currentFilesPage: 1,\n\n      sorting: Sorting,\n      activeSorting: getSortingById(\n        getLocalPref(LOCAL_PREF_NAMES.sorting, Sorting.options.created_at.id)\n      ),\n      activeSortingDirection: getSortingDirectionById(\n        getLocalPref(LOCAL_PREF_NAMES.sortingDirection, Sorting.directions.desc.id)\n      ),\n\n      searchQuery: null,\n      searchStateIsActive: false,\n      searchTimeoutId: null,\n\n      activeItem: null,\n\n      // local storage:\n      printers: [],\n      selectedPrinterId: undefined,\n      selectedPrinterComm: undefined,\n      localFilesLoading: false,\n    }\n  },\n\n  computed: {\n    isAgentMoonraker() {\n      const selectedPrinter = this.printers.find((p) => p.id === this.selectedPrinterId)\n      return !selectedPrinter || selectedPrinter.isAgentMoonraker()\n    },\n    isCloud() {\n      return !this.selectedPrinterId\n    },\n    nothingFound() {\n      return this.searchStateIsActive && !this.searchTimeoutId && !this.files.length\n    },\n    searchInProgress() {\n      return this.searchStateIsActive && !!this.searchTimeoutId\n    },\n    maxFilesize() {\n      return this.user.is_pro ? 500 : 50 // MB\n    },\n    maxTotalFilesize() {\n      return this.user.is_pro ? 50 : 1 // GB\n    },\n    dropzoneOptions() {\n      return {\n        withCredentials: true,\n        maxFilesize: this.maxFilesize,\n        timeout: 60 * 60 * 1000, // For large files\n        acceptedFiles: '.g,.gcode,.gco',\n        url: urls.gcodeFiles(),\n        headers: { 'X-CSRFToken': this.csrf },\n      }\n    },\n  },\n\n  async created() {\n    this.csrf = getCsrfFromDocument()\n    this.user = user()\n\n    if (this.savedPath && this.savedPath.length >= 1) {\n      this.parentFolder = this.savedPath.at(-1)\n      this.path = this.savedPath.slice(0, this.savedPath.length - 1)\n    } else {\n      this.parentFolder = this.getRouteParam('parentFolder') || null\n    }\n\n    this.selectedPrinterId = Number(this.getRouteParam('printerId')) || null\n\n    if (!this.isPopup) {\n      this.$watch(\n        () => this.$route.params,\n        (toParams, previousParams) => {\n          this.parentFolder = toParams.parentFolder || null\n          this.selectedPrinterId = Number(this.getRouteParam('printerId')) || null\n          this.fetchFilesAndFolders(true)\n        }\n      )\n    }\n\n    await this.fetchPrinters()\n    this.fetchFilesAndFolders(true)\n  },\n\n  methods: {\n    switchToCloudStorage() {\n      this.parentFolder = null\n      this.path = []\n      this.selectedPrinterId = null\n      this.selectedPrinterComm = null\n      if (this.isPopup) {\n        this.fetchFilesAndFolders(true)\n      } else {\n        if (this.$route.path !== '/g_code_folders/cloud/') {\n          this.$router.replace(`/g_code_folders/cloud/`)\n        }\n      }\n    },\n    switchToPrinterStorage(printer) {\n      if (!printer.isBrowsable()) {\n        this.$swal.Reject.fire({\n          title: `${printer.name} isn't available for browsing files for one of the following reasons:`,\n          html: `<ul style=\"text-align: left\">\n            <li>${printer.agentDisplayName()} is powered off or not connected to the Internet</li>\n            <li>Printer is not connected to ${printer.agentDisplayName()}</li>\n            <li>Obico for ${printer.agentDisplayName()} plugin is outdated (you need version ${printer.browsabilityMinPluginVersion()} or later)</li>\n          </ul>`,\n        })\n        return\n      }\n\n      this.parentFolder = null\n      this.path = []\n      this.selectedPrinterId = printer.id\n      this.selectedPrinterComm = null\n      if (this.isPopup) {\n        this.fetchFilesAndFolders(true)\n      } else {\n        if (Number(this.getRouteParam('printerId')) !== printer.id) {\n          this.$router.replace(`/g_code_folders/local/${printer.id}/`)\n        }\n      }\n    },\n    getRouteParam(name) {\n      return this.isPopup ? this.routeParams[name] : this.$route.params[name]\n    },\n    goBack() {\n      if (!this.path.length) {\n        return\n      }\n      this.parentFolder = this.path.pop()\n      this.fetchFilesAndFolders(true)\n    },\n    resetFiles() {\n      this.folders = []\n      this.files = []\n      this.noMoreFolders = false\n      this.noMoreFiles = false\n      this.currentFoldersPage = 1\n      this.currentFilesPage = 1\n    },\n    async fetchPrinters() {\n      let printers\n      try {\n        printers = await axios.get(urls.printers())\n        printers = printers.data\n      } catch (e) {\n        console.error(e)\n      }\n      if (!printers) {\n        return\n      }\n      printers = printers.map((p) => normalizedPrinter(p))\n      // bring browsable printers at the top of the list\n      printers = printers.sort((a, b) => Number(b.isBrowsable()) - Number(a.isBrowsable()))\n      this.printers = this.targetPrinter\n        ? printers.filter((p) => p.id === this.targetPrinter.id)\n        : printers\n    },\n    async fetchLocalFiles() {\n      if (!this.selectedPrinterComm) {\n        return\n      }\n      this.localFilesLoading = true\n      const listPrinterLocalGCodes = this.isAgentMoonraker\n        ? listPrinterLocalGCodesMoonraker\n        : listPrinterLocalGCodesOctoPrint\n\n      listPrinterLocalGCodes(\n        this.selectedPrinterComm,\n        this.parentFolder ? decodeURIComponent(this.parentFolder) : null,\n        this.searchQuery\n      ).then((result) => {\n        this.localFilesLoading = false\n        if (result) {\n          const { folders, files } = result\n          this.folders = folders\n          this.files = files\n        }\n      })\n    },\n    async fetchFilesAndFolders(reset = false) {\n      if (this.loading) {\n        return\n      }\n\n      if (reset) {\n        this.resetFiles()\n      }\n\n      // need to fetch local printer files\n      if (this.selectedPrinterId) {\n        if (!this.printers.find((p) => p.id === this.selectedPrinterId)) {\n          this.$swal.Reject.fire({\n            title: 'Error',\n            text: `Printer not found or unavailable`,\n          }).then(() => {\n            if (this.isPopup && this.onClose) {\n              this.onClose()\n            } else {\n              window.location.assign(`/g_code_folders/cloud/`)\n            }\n          })\n        }\n\n        this.localFilesLoading = true\n\n        if (!this.selectedPrinterComm) {\n          this.selectedPrinterComm = PrinterComm(\n            this.selectedPrinterId,\n            urls.printerWebSocket(this.selectedPrinterId),\n            (data) => {},\n            (printerStatus) => {}\n          )\n          this.selectedPrinterComm.connect(this.fetchLocalFiles)\n        } else {\n          this.fetchLocalFiles()\n        }\n        return\n      }\n\n      if (this.searchQuery) {\n        this.noMoreFolders = true\n      }\n\n      if (this.noMoreFolders && this.noMoreFiles) {\n        return\n      }\n\n      this.loading = true\n      let folders = []\n      let files = []\n\n      if (!this.noMoreFolders) {\n        try {\n          let response = await axios.get(urls.gcodeFolders(), {\n            params: {\n              parent_folder: this.parentFolder || 'null',\n              page: this.currentFoldersPage,\n              page_size: PAGE_SIZE,\n              sorting: `${this.activeSorting.folder_query}_${this.activeSortingDirection.query}`,\n            },\n          })\n          response = response.data\n          this.noMoreFolders = response?.next === null\n          folders = response?.results || []\n        } catch (error) {\n          this.loading = false\n          this._showErrorPopup(error)\n        }\n\n        this.folders.push(...folders.map((data) => normalizedGcodeFolder(data)))\n        this.currentFoldersPage += 1\n      }\n\n      if (!this.noMoreFiles && folders.length < PAGE_SIZE) {\n        try {\n          let response = await axios.get(urls.gcodeFiles(), {\n            // If cache is enabled, after renaming item on gcode page\n            // and going back to files - gcode will have old name\n            headers: {\n              'Cache-Control': 'no-cache',\n            },\n            params: {\n              parent_folder: this.parentFolder || 'null',\n              page: this.currentFilesPage,\n              page_size: PAGE_SIZE,\n              sorting: `${this.activeSorting.file_query}_${this.activeSortingDirection.query}`,\n              q: this.searchQuery,\n            },\n          })\n          response = response.data\n          this.noMoreFiles = response?.next === null\n          files = response?.results || []\n        } catch (error) {\n          this.loading = false\n          this._showErrorPopup(error)\n        }\n\n        this.files.push(...files.map((data) => normalizedGcode(data)))\n        this.currentFilesPage += 1\n      }\n\n      this.loading = false\n    },\n    updateSearch(search) {\n      clearTimeout(this.searchTimeoutId)\n      this.searchTimeoutId = null\n\n      this.searchStateIsActive = !!search\n      if (!this.searchStateIsActive) {\n        this.searchQuery = null\n        this.fetchFilesAndFolders(true)\n        return\n      }\n\n      this.searchTimeoutId = setTimeout(async () => {\n        this.searchQuery = search\n        this.fetchFilesAndFolders(true)\n        this.searchTimeoutId = null\n      }, SEARCH_API_CALL_DELAY)\n    },\n    updateSorting(newSortingOption, newSortingDirection = this.activeSortingDirection) {\n      let sortingChanged = false\n\n      if (this.activeSorting.id !== newSortingOption.id) {\n        this.activeSorting = newSortingOption\n        setLocalPref(LOCAL_PREF_NAMES.sorting, newSortingOption.id)\n        sortingChanged = true\n      }\n\n      if (this.activeSortingDirection.id !== newSortingDirection.id) {\n        this.activeSortingDirection = newSortingDirection\n        setLocalPref(LOCAL_PREF_NAMES.sortingDirection, newSortingDirection.id)\n        sortingChanged = true\n      }\n\n      if (sortingChanged) {\n        this.fetchFilesAndFolders(true)\n      }\n    },\n    addParentFolderParam(file, xhr, formData) {\n      formData.append('filename', file.name)\n      if (this.parentFolder !== null) {\n        formData.append('parent_folder', this.parentFolder)\n      }\n    },\n    gcodeUploadSuccess() {\n      this.$refs.gcodesDropzone.removeAllFiles()\n      this.files = []\n      this.fetchFilesAndFolders(true)\n    },\n    gcodeUploadError(file, message) {\n      this.$swal.Reject.fire({\n        html: `<p class=\"text-center\">${message}</p>`,\n      })\n    },\n    renameItem(item) {\n      this.activeItem = item\n      this.$refs.renameModal.show()\n    },\n    verifyItemRename(newName) {\n      if (!this.activeItem.filename && this.folders.find((item) => item.name === newName)) {\n        return 'Folder with this name already exists'\n      }\n      return true\n    },\n    onItemRenamed(newName) {\n      if (!this.activeItem) {\n        return\n      }\n      const targetArr = this.activeItem.filename ? this.files : this.folders\n      for (let i in targetArr) {\n        if (targetArr[i].id !== this.activeItem.id) {\n          continue\n        } else if (this.activeItem.filename) {\n          this.files[i].filename = newName\n          break\n        } else {\n          this.folders[i].name = newName\n          break\n        }\n      }\n      this.activeItem = null\n    },\n    moveItem(item) {\n      this.activeItem = item\n      this.$refs.moveModal.show()\n    },\n    onItemMoved() {\n      if (!this.activeItem) {\n        return\n      }\n      this.activeItem = null\n      this.fetchFilesAndFolders(true)\n    },\n    deleteItem(item) {\n      this.activeItem = item\n      this.$refs.deleteConfirmationModal.show()\n    },\n    onItemDeleted() {\n      if (!this.activeItem) {\n        return\n      }\n      const targetArr = this.activeItem.filename ? this.files : this.folders\n      for (let i in targetArr) {\n        if (targetArr[i].id !== this.activeItem.id) {\n          continue\n        } else if (this.activeItem.filename) {\n          this.files.splice(i, 1)\n          break\n        } else {\n          this.folders.splice(i, 1)\n          break\n        }\n      }\n      this.activeItem = null\n    },\n    createFolder() {\n      this.$refs.newFolderModal.show()\n    },\n    verifyNewFolder(newFolderName) {\n      if (this.folders.find((item) => item.name === newFolderName)) {\n        return 'Folder with this name already exists'\n      }\n      return true\n    },\n    onFolderCreated(newFolderId) {\n      // this.openFolder({id: newFolderId})\n      this.fetchFilesAndFolders(true)\n    },\n    openFolder(folder) {\n      if (!this.isPopup) {\n        if (this.selectedPrinterId) {\n          this.$router.push(\n            `/g_code_folders/local/${this.selectedPrinterId}/${encodeURIComponent(folder.path)}/`\n          )\n        } else {\n          this.$router.push(`/g_code_folders/cloud/${folder.id}/`)\n        }\n      } else {\n        this.path.push(this.parentFolder)\n        this.parentFolder = String(folder.id)\n        this.fetchFilesAndFolders(true)\n      }\n    },\n    openFile(file) {\n      if (!this.isPopup) {\n        if (this.selectedPrinterId) {\n          window.location.assign(\n            `/g_code_files/local/${this.selectedPrinterId}/${encodeURIComponent(file.path)}/`\n          )\n        } else {\n          window.location.assign(`/g_code_files/cloud/${file.id}/`)\n        }\n      } else {\n        this.$emit(\n          'openFile',\n          this.selectedPrinterId ? encodeURIComponent(file.path) : file.id,\n          this.selectedPrinterId,\n          [...this.path, this.parentFolder]\n        )\n      }\n    },\n    onPrintClicked(gcode) {\n      sendToPrint({\n        printerId: this.targetPrinter.id,\n        gcode: gcode,\n        isCloud: this.isCloud,\n        isAgentMoonraker: this.targetPrinter.isAgentMoonraker(),\n        Swal: this.$swal,\n        onCommandSent: () => {\n          if (this.isPopup) {\n            this.$bvModal.hide('b-modal-gcodes')\n          }\n        },\n      })\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.upload-box\n  margin-bottom: var(--gap-between-blocks) !important\n\n.search-input\n  height: 30px\n  input\n    background-color: var(--color-surface-secondary)\n    border: var(--color-surface-secondary)\n\n.dropdown-group\n  display: flex\n  align-items: center\n  .text\n    display: flex\n    flex-direction: column\n    .subtitle\n      font-size: 0.75rem\n\n.notice-block\n  border: 1px solid var(--color-divider)\n  border-radius: var(--border-radius-md)\n  display: flex\n  align-items: center\n  padding: 1rem 1.5rem\n  margin-bottom: var(--gap-between-blocks)\n\n  .message\n    margin: 0\n    margin-left: 1rem\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GCodeFoldersPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GCodeFoldersPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GCodeFoldersPage.vue?vue&type=template&id=4cd13ac3&scoped=true&\"\nimport script from \"./GCodeFoldersPage.vue?vue&type=script&lang=js&\"\nexport * from \"./GCodeFoldersPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GCodeFoldersPage.vue?vue&type=style&index=0&id=4cd13ac3&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4cd13ac3\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('page-layout',{attrs:{\"is-popup\":_vm.isPopup},scopedSlots:_vm._u([{key:\"topBarLeft\",fn:function(){return [(_vm.isPopup)?_c('a',{staticClass:\"btn shadow-none icon-btn d-inline\",attrs:{\"href\":\"#\",\"title\":\"Go Back\"},on:{\"click\":function($event){$event.preventDefault();return _vm.goBack.apply(null, arguments)}}},[_c('i',{staticClass:\"fas fa-chevron-left\"})]):_vm._e()]},proxy:true},{key:\"topBarRight\",fn:function(){return [_c('div',[(_vm.isCloud)?_c('b-dropdown',{attrs:{\"right\":\"\",\"no-caret\":\"\",\"toggle-class\":\"icon-btn\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('i',{staticClass:\"fas fa-ellipsis-v\"})]},proxy:true}],null,false,3452768261)},[_c('b-dropdown-item',{on:{\"click\":_vm.renameFile}},[_c('i',{staticClass:\"fas fa-edit\"}),_vm._v(\"Rename \")]),_c('b-dropdown-item',{on:{\"click\":_vm.deleteFile}},[_c('span',{staticClass:\"text-danger\"},[_c('i',{staticClass:\"fas fa-trash-alt\"}),_vm._v(\"Delete \")])])],1):_vm._e(),(_vm.onClose)?_c('a',{staticClass:\"btn shadow-none icon-btn d-inline\",attrs:{\"href\":\"#\",\"title\":\"Close\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onClose.apply(null, arguments)}}},[_c('i',{staticClass:\"fas fa-times text-danger\"})]):_vm._e()],1)]},proxy:true},{key:\"content\",fn:function(){return [(_vm.loading || _vm.gcodeNotFound)?_c('b-container',[_c('b-row',[_c('b-col',{staticClass:\"text-center mt-5\"},[(_vm.gcodeNotFound)?_c('div',[_c('p',[_vm._v(\"This G-Code file doesn't exists\")])]):_c('div',[_c('b-spinner')],1)])],1)],1):_c('b-container',{attrs:{\"fluid\":\"xl\"}},[_c('b-row',[_c('b-col',{attrs:{\"lg\":_vm.isDeleted ? 8 : 12,\"offset-lg\":_vm.isDeleted ? 2 : 0}},[_c('b-alert',{attrs:{\"show\":_vm.isDeleted,\"variant\":\"warning warning-block\"}},[_vm._v(\" This file is deleted and unavailable for print \")]),_c('div',{staticClass:\"card-container file-info\",class:{ 'full-width': _vm.isPopup || _vm.isDeleted }},[_c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-row',[_c('b-col',[_c('h1',{staticClass:\"file-name overflow-truncated\"},[_vm._v(\" \"+_vm._s(_vm.gcode.filename)+\" \")])])],1),_c('b-row',[_c('b-col',{attrs:{\"sm\":_vm.isCloud ? 6 : 12}},[_c('div',{staticClass:\"file-info-line\"},[_c('div',[_c('i',{staticClass:\"fas fa-history\"}),_vm._v(\"Uploaded\")]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.gcode.created_at.fromNow()))])]),_c('div',{staticClass:\"file-info-line\"},[_c('div',[_c('i',{staticClass:\"far fa-file-code\"}),_vm._v(\"File size\")]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.gcode.filesize))])])]),_c('b-col',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isCloud),expression:\"isCloud\"}],attrs:{\"sm\":\"6\"}},[_c('div',{staticClass:\"file-info-line\"},[_c('div',[_c('i',{staticClass:\"fas fa-circle\"}),_vm._v(\"Times printed\")]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.gcode.totalPrints))])]),_c('div',{staticClass:\"file-info-line\"},[_c('div',[_c('i',{staticClass:\"fas fa-circle text-success\"}),_vm._v(\"Succeeded\")]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.gcode.successPrints)+\"/\"+_vm._s(_vm.gcode.totalPrints))])]),_c('div',{staticClass:\"file-info-line\"},[_c('div',[_c('i',{staticClass:\"fas fa-circle text-danger\"}),_vm._v(\"Failed or cancelled\")]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.gcode.failedPrints)+\"/\"+_vm._s(_vm.gcode.totalPrints))])])])],1)],1)],1),(!_vm.isDeleted)?_c('available-printers',{staticClass:\"card-container available-printers\",class:{ 'full-width': _vm.isPopup },attrs:{\"is-popup\":_vm.isPopup,\"target-printer-id\":_vm.targetPrinterId || _vm.selectedPrinterId,\"gcode\":_vm.gcode,\"is-cloud\":_vm.isCloud},on:{\"refresh\":_vm.onRefresh}}):_vm._e(),_c('div',{staticClass:\"print-history\",class:{ 'full-width': _vm.isPopup || _vm.isDeleted }},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\"Print history\")]),(_vm.gcode.print_set.length)?_c('div',_vm._l((_vm.gcode.print_set),function(print){return _c('print-history-item',{key:`print_${print.id}`,staticClass:\"print-item\",attrs:{\"print\":print}})}),1):_c('div',[_c('div',{staticClass:\"card-container p-4 justify-content-center text-secondary\"},[_vm._v(\" This file doesn't have any prints yet \")])])])],1)],1)],1),_c('rename-modal',{ref:\"renameModal\",attrs:{\"item\":_vm.gcode},on:{\"renamed\":_vm.onItemRenamed}}),_c('delete-confirmation-modal',{ref:\"deleteConfirmationModal\",attrs:{\"item\":_vm.gcode},on:{\"deleted\":_vm.onItemDeleted}})]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.printersLoading || !_vm.gcode)?_c('div',{staticClass:\"my-5 text-center\"},[_c('b-spinner')],1):_c('div',[_vm._l((_vm.printers),function(printer){return _c('div',{key:`printer_${printer.id}`,staticClass:\"printer-item\",class:{ active: _vm.selectedPrinter && printer.id === _vm.selectedPrinter.id },on:{\"click\":function($event){return _vm.selectPrinter(printer)}}},[_c('div',{staticClass:\"selected-indicator\"}),_c('div',{staticClass:\"printer-name overflow-truncated\"},[_vm._v(_vm._s(printer.name))]),_c('div',{staticClass:\"printer-status\",class:[printer.isPrintable() ? 'text-success' : 'text-warning']},[_vm._v(\" \"+_vm._s(printer.printabilityText())+\" \")])])}),(!_vm.printersLoading && !_vm.printers.length)?_c('p',{staticClass:\"text-center text-secondary mt-3 mb-3\"},[_vm._v(\" No available printers \")]):_vm._e(),_c('button',{staticClass:\"btn btn-primary mt-3\",attrs:{\"disabled\":!_vm.selectedPrinter || _vm.isSending},on:{\"click\":_vm.onPrintClicked}},[(_vm.isSending)?_c('b-spinner',{attrs:{\"small\":\"\"}}):_c('div',[(_vm.selectedPrinter)?_c('div',{staticClass:\"truncate-overflow-text\"},[_vm._v(\" Print on \"+_vm._s(_vm.selectedPrinter.name)+\" \")]):_c('div',{staticClass:\"truncate-overflow-text\"},[_vm._v(\"Print\")])])],1)],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-if=\"printersLoading || !gcode\" class=\"my-5 text-center\">\n      <b-spinner />\n    </div>\n    <div v-else>\n      <div\n        v-for=\"printer in printers\"\n        :key=\"`printer_${printer.id}`\"\n        class=\"printer-item\"\n        :class=\"{ active: selectedPrinter && printer.id === selectedPrinter.id }\"\n        @click=\"selectPrinter(printer)\"\n      >\n        <div class=\"selected-indicator\"></div>\n        <div class=\"printer-name overflow-truncated\">{{ printer.name }}</div>\n        <div\n          class=\"printer-status\"\n          :class=\"[printer.isPrintable() ? 'text-success' : 'text-warning']\"\n        >\n          {{ printer.printabilityText() }}\n        </div>\n      </div>\n\n      <p v-if=\"!printersLoading && !printers.length\" class=\"text-center text-secondary mt-3 mb-3\">\n        No available printers\n      </p>\n\n      <button\n        class=\"btn btn-primary mt-3\"\n        :disabled=\"!selectedPrinter || isSending\"\n        @click=\"onPrintClicked\"\n      >\n        <b-spinner v-if=\"isSending\" small />\n        <div v-else>\n          <div v-if=\"selectedPrinter\" class=\"truncate-overflow-text\">\n            Print on {{ selectedPrinter.name }}\n          </div>\n          <div v-else class=\"truncate-overflow-text\">Print</div>\n        </div>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport urls from '@config/server-urls'\nimport axios from 'axios'\nimport { normalizedPrinter } from '@src/lib/normalizers'\nimport { sendToPrint, showRedirectModal } from './sendToPrint'\n\nexport default {\n  name: 'AvailablePrinters',\n\n  components: {},\n\n  props: {\n    isPopup: {\n      type: Boolean,\n      default: false,\n    },\n    targetPrinterId: {\n      type: Number,\n      required: false,\n      default: null,\n    },\n    gcode: {\n      type: Object,\n      default: null,\n    },\n    isCloud: {\n      type: Boolean,\n      default: true,\n    },\n  },\n\n  data() {\n    return {\n      printers: [],\n      selectedPrinter: null,\n      printersLoading: true,\n      isSending: false,\n    }\n  },\n\n  created() {\n    this.fetchPrinters()\n  },\n\n  methods: {\n    async fetchPrinters() {\n      this.printersLoading = true\n\n      let printers\n      try {\n        printers = await axios.get(urls.printers())\n      } catch (e) {\n        this.printersLoading = false\n        console.error(e)\n      }\n\n      if (!printers?.data) {\n        this.printersLoading = false\n        return\n      }\n\n      printers = printers?.data\n      printers = printers.map((p) => normalizedPrinter(p))\n\n      if (this.targetPrinterId) {\n        const selectedPrinter = printers.find((p) => p.id === this.targetPrinterId)\n        this.printers = [selectedPrinter]\n        if (selectedPrinter.isPrintable()) {\n          this.selectedPrinter = selectedPrinter\n        }\n      } else {\n        this.printers = printers\n        this.selectedPrinter = printers.find((p) => p.isPrintable())\n      }\n\n      this.printersLoading = false\n    },\n    selectPrinter(printer) {\n      if (!printer.isPrintable()) {\n        this.$swal.Reject.fire({\n          title: `${printer.name} isn't ready for print for one of the following reasons:`,\n          html: `<ul style=\"text-align: left\">\n            <li>${printer.agentDisplayName()} is powered off or not connected to the Internet</li>\n            <li>Printer is not connected to ${printer.agentDisplayName()}</li>\n            <li>Printer is currently busy</li>\n          </ul>`,\n        })\n        return\n      }\n\n      this.selectedPrinter = printer\n    },\n    onPrintClicked() {\n      if (!this.selectedPrinter?.id) return\n      this.isSending = true\n\n      sendToPrint({\n        printerId: this.selectedPrinter.id,\n        gcode: this.gcode,\n        isCloud: this.isCloud,\n        isAgentMoonraker: this.selectedPrinter.isAgentMoonraker(),\n        Swal: this.$swal,\n        onCommandSent: () => {\n          if (this.isPopup) {\n            this.$bvModal.hide('b-modal-gcodes')\n          }\n        },\n        onPrinterStatusChanged: () => {\n          if (!this.isPopup) {\n            showRedirectModal(this.$swal, () => this.$emit('refresh'))\n          }\n\n          this.isSending = false\n          this.fetchPrinters()\n        },\n      })\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.truncate-overflow-text\n  width: 100%\n  text-overflow: ellipsis\n  overflow: hidden\n  white-space: nowrap\n\n.printer-item\n  display: flex\n  align-items: center\n  border-radius: var(--border-radius-sm)\n  border: 1px solid var(--color-divider)\n  margin-bottom: 0.5rem\n  padding: 0.75rem\n  &:hover\n    background-color: var(--color-hover)\n    cursor: pointer\n\n.selected-indicator\n  --size: 0.875rem\n  width: var(--size)\n  height: var(--size)\n  border-radius: var(--size)\n  border: 1px solid var(--color-text-secondary)\n  margin-right: 0.5rem\n\n.printer-item.active\n  background-color: var(--color-hover)\n  .selected-indicator\n    border-color: var(--color-text-primary)\n    border-width: 3px\n\n.printer-name\n  flex: 1\n\n.printer-status\n  font-size: 0.875rem\n\n.btn\n  width: 100%\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AvailablePrinters.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AvailablePrinters.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AvailablePrinters.vue?vue&type=template&id=5ba635dc&scoped=true&\"\nimport script from \"./AvailablePrinters.vue?vue&type=script&lang=js&\"\nexport * from \"./AvailablePrinters.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AvailablePrinters.vue?vue&type=style&index=0&id=5ba635dc&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ba635dc\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <page-layout :is-popup=\"isPopup\">\n    <!-- Tob bar -->\n    <template #topBarLeft>\n      <a\n        v-if=\"isPopup\"\n        href=\"#\"\n        class=\"btn shadow-none icon-btn d-inline\"\n        title=\"Go Back\"\n        @click.prevent=\"goBack\"\n      >\n        <i class=\"fas fa-chevron-left\"></i>\n      </a>\n    </template>\n    <template #topBarRight>\n      <div>\n        <b-dropdown v-if=\"isCloud\" right no-caret toggle-class=\"icon-btn\">\n          <template #button-content>\n            <i class=\"fas fa-ellipsis-v\"></i>\n          </template>\n          <b-dropdown-item @click=\"renameFile\"> <i class=\"fas fa-edit\"></i>Rename </b-dropdown-item>\n          <b-dropdown-item @click=\"deleteFile\">\n            <span class=\"text-danger\"> <i class=\"fas fa-trash-alt\"></i>Delete </span>\n          </b-dropdown-item>\n        </b-dropdown>\n        <a\n          v-if=\"onClose\"\n          href=\"#\"\n          class=\"btn shadow-none icon-btn d-inline\"\n          title=\"Close\"\n          @click.prevent=\"onClose\"\n        >\n          <i class=\"fas fa-times text-danger\"></i>\n        </a>\n      </div>\n    </template>\n\n    <!-- Page content -->\n    <template #content>\n      <b-container v-if=\"loading || gcodeNotFound\">\n        <b-row>\n          <b-col class=\"text-center mt-5\">\n            <div v-if=\"gcodeNotFound\">\n              <p>This G-Code file doesn't exists</p>\n            </div>\n            <div v-else>\n              <b-spinner />\n            </div>\n          </b-col>\n        </b-row>\n      </b-container>\n      <b-container v-else fluid=\"xl\">\n        <b-row>\n          <b-col :lg=\"isDeleted ? 8 : 12\" :offset-lg=\"isDeleted ? 2 : 0\">\n            <b-alert :show=\"isDeleted\" variant=\"warning warning-block\">\n              This file is deleted and unavailable for print\n            </b-alert>\n\n            <!-- File info -->\n            <div class=\"card-container file-info\" :class=\"{ 'full-width': isPopup || isDeleted }\">\n              <b-container fluid>\n                <b-row>\n                  <b-col>\n                    <h1 class=\"file-name overflow-truncated\">\n                      {{ gcode.filename }}\n                    </h1>\n                  </b-col>\n                </b-row>\n                <b-row>\n                  <b-col :sm=\"isCloud ? 6 : 12\">\n                    <div class=\"file-info-line\">\n                      <div><i class=\"fas fa-history\"></i>Uploaded</div>\n                      <div class=\"value\">{{ gcode.created_at.fromNow() }}</div>\n                    </div>\n                    <div class=\"file-info-line\">\n                      <div><i class=\"far fa-file-code\"></i>File size</div>\n                      <div class=\"value\">{{ gcode.filesize }}</div>\n                    </div>\n                  </b-col>\n                  <b-col v-show=\"isCloud\" sm=\"6\">\n                    <div class=\"file-info-line\">\n                      <div><i class=\"fas fa-circle\"></i>Times printed</div>\n                      <div class=\"value\">{{ gcode.totalPrints }}</div>\n                    </div>\n                    <div class=\"file-info-line\">\n                      <div><i class=\"fas fa-circle text-success\"></i>Succeeded</div>\n                      <div class=\"value\">{{ gcode.successPrints }}/{{ gcode.totalPrints }}</div>\n                    </div>\n                    <div class=\"file-info-line\">\n                      <div><i class=\"fas fa-circle text-danger\"></i>Failed or cancelled</div>\n                      <div class=\"value\">{{ gcode.failedPrints }}/{{ gcode.totalPrints }}</div>\n                    </div>\n                  </b-col>\n                </b-row>\n              </b-container>\n            </div>\n            <!-- Available printers -->\n            <available-printers\n              v-if=\"!isDeleted\"\n              class=\"card-container available-printers\"\n              :class=\"{ 'full-width': isPopup }\"\n              :is-popup=\"isPopup\"\n              :target-printer-id=\"targetPrinterId || selectedPrinterId\"\n              :gcode=\"gcode\"\n              :is-cloud=\"isCloud\"\n              @refresh=\"onRefresh\"\n            />\n            <!-- Print history -->\n            <div class=\"print-history\" :class=\"{ 'full-width': isPopup || isDeleted }\">\n              <h2 class=\"section-title\">Print history</h2>\n              <div v-if=\"gcode.print_set.length\">\n                <print-history-item\n                  v-for=\"print of gcode.print_set\"\n                  :key=\"`print_${print.id}`\"\n                  :print=\"print\"\n                  class=\"print-item\"\n                ></print-history-item>\n              </div>\n              <div v-else>\n                <div class=\"card-container p-4 justify-content-center text-secondary\">\n                  This file doesn't have any prints yet\n                </div>\n              </div>\n            </div>\n          </b-col>\n        </b-row>\n      </b-container>\n      <rename-modal ref=\"renameModal\" :item=\"gcode\" @renamed=\"onItemRenamed\" />\n      <delete-confirmation-modal\n        ref=\"deleteConfirmationModal\"\n        :item=\"gcode\"\n        @deleted=\"onItemDeleted\"\n      />\n    </template>\n  </page-layout>\n</template>\n\n<script>\nimport PageLayout from '@src/components/PageLayout.vue'\nimport filter from 'lodash/filter'\nimport get from 'lodash/get'\nimport urls from '@config/server-urls'\nimport axios from 'axios'\nimport { normalizedGcode, normalizedPrinter } from '@src/lib/normalizers'\nimport RenameModal from '@src/components/g-codes/RenameModal.vue'\nimport DeleteConfirmationModal from '@src/components/g-codes/DeleteConfirmationModal.vue'\nimport availablePrinters from '@src/components/g-codes/AvailablePrinters.vue'\nimport PrinterComm from '@src/lib/printer-comm'\nimport {\n  listPrinterLocalGCodesMoonraker,\n  listPrinterLocalGCodesOctoPrint,\n} from '@src/lib/printer-local-comm'\nimport PrintHistoryItem from '@src/components/prints/PrintHistoryItem.vue'\n\nexport default {\n  name: 'GCodeFilePage',\n\n  components: {\n    PageLayout,\n    RenameModal,\n    DeleteConfirmationModal,\n    availablePrinters,\n    PrintHistoryItem,\n  },\n\n  props: {\n    isPopup: {\n      type: Boolean,\n      default: false,\n    },\n    targetPrinterId: {\n      type: Number,\n      default: null,\n    },\n    onClose: {\n      type: Function,\n      default: null,\n    },\n    routeParams: {\n      type: Object,\n      default: () => {\n        return {\n          fileId: null,\n          printerId: null,\n        }\n      },\n    },\n  },\n\n  data() {\n    return {\n      gcode: null,\n      printer: null,\n      loading: true,\n      gcodeNotFound: false,\n    }\n  },\n\n  computed: {\n    isCloud() {\n      return !this.selectedPrinterId\n    },\n    isDeleted() {\n      return !!this.gcode?.deleted\n    },\n  },\n\n  async created() {\n    this.selectedPrinterId = Number(this.getRouteParam('printerId')) || null\n    if (this.selectedPrinterId) {\n      await this.fetchPrinter()\n    }\n    this.gcodeId = this.getRouteParam('fileId')\n    this.fetchGcode()\n  },\n\n  methods: {\n    getRouteParam(name) {\n      return this.isPopup ? this.routeParams[name] : this.$route.params[name]\n    },\n    goBack() {\n      this.$emit('goBack')\n    },\n    async fetchPrinter() {\n      return axios\n        .get(urls.printer(this.selectedPrinterId))\n        .then((response) => {\n          this.printer = normalizedPrinter(response.data)\n        })\n        .catch((error) => {\n          this._showErrorPopup(error, 'Host printer for this gcode not found')\n        })\n    },\n    async fetchLocalFile() {\n      if (!this.printerComm) {\n        return\n      }\n      this.loading = true\n\n      const decodedPath = decodeURIComponent(this.gcodeId)\n      const filename = decodedPath.split('/').at(-1)\n      const dir_path =\n        filename === decodedPath\n          ? ''\n          : decodedPath.slice(0, decodedPath.length - filename.length - 1)\n\n      const getPrinterLocalGCode = this.printer.isAgentMoonraker()\n        ? listPrinterLocalGCodesMoonraker\n        : listPrinterLocalGCodesOctoPrint\n\n      getPrinterLocalGCode(this.printerComm, dir_path, null)\n        .then((result) => {\n          return { files: filter(get(result, 'files', []), (f) => f.filename == filename) }\n        })\n        .then(async (result) => {\n          this.loading = false\n          if (result?.files?.length === 0) {\n            this.gcodeNotFound = true\n            return\n          }\n\n          const file = result?.files[0]\n          this.gcode = {\n            ...file,\n            print_set: [],\n          }\n          if (file.path && file.hash && this.getRouteParam('printerId')) {\n            const safeFilename = file.path.replace(/^.*[\\\\/]/, '')\n            try {\n              let response = await axios.get(\n                urls.gcodeFiles({\n                  resident_printer: this.getRouteParam('printerId'),\n                  safe_filename: safeFilename,\n                  agent_signature: `md5:${file.hash}`,\n                })\n              )\n              const gcodeFileOnServer = get(response, 'data.results[0]')\n              if (gcodeFileOnServer) {\n                this.gcode = { ...this.gcode, ...normalizedGcode(gcodeFileOnServer) }\n              }\n            } catch (e) {\n              console.error(e)\n            }\n          }\n        })\n        .catch((err) => {\n          this.gcodeNotFound = true\n        })\n    },\n    async fetchGcode() {\n      if (this.selectedPrinterId) {\n        this.printerComm = PrinterComm(\n          this.selectedPrinterId,\n          urls.printerWebSocket(this.selectedPrinterId),\n          (data) => {},\n          (printerStatus) => {}\n        )\n        this.printerComm.connect(this.fetchLocalFile)\n        return\n      }\n\n      this.loading = true\n      const fileId = this.getRouteParam('fileId')\n      let file\n\n      try {\n        file = await axios.get(urls.gcodeFile(fileId))\n      } catch (e) {\n        this.loading = false\n        console.error(e)\n      }\n\n      if (!file?.data) {\n        this.loading = false\n        this.gcodeNotFound = true\n        return\n      }\n\n      file = file?.data\n      this.gcode = normalizedGcode(file)\n      this.loading = false\n    },\n    renameFile() {\n      this.$refs.renameModal.show()\n    },\n    onItemRenamed(newName) {\n      this.gcode.filename = newName\n    },\n    deleteFile() {\n      this.$refs.deleteConfirmationModal.show()\n    },\n    onItemDeleted() {\n      if (!this.isPopup) {\n        window.location.replace('/g_code_folders/cloud/')\n      } else {\n        this.$emit('goBack')\n      }\n    },\n    onRefresh() {\n      this.$router.go()\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.warning-block\n  margin-bottom: var(--gap-between-blocks)\n\n.file-info, .print-history\n  width: 60%\n  display: inline-block\n  &.print-history\n    padding-top: 10px\n    margin-top: 30px\n\n.available-printers\n  width: calc(40% - 30px)\n  float: right\n\n.file-info, .print-history, .available-printers\n  &.full-width\n    width: 100%\n    &.print-history, &.available-printers\n      margin-top: 15px\n  @media (max-width: 996px)\n    width: 100%\n    &.print-history, &.available-printers\n      margin-top: 15px\n\n.file-name\n  font-size: 1.25rem\n  margin-bottom: 1rem\n  border-bottom: 1px solid var(--color-divider)\n  padding-bottom: 1rem\n\n.file-info-line\n  display: flex\n  justify-content: space-between\n  margin-bottom: 0.5rem\n\n  i\n    margin-right: 0.375rem\n\n  .value\n    font-weight: 700\n\n.section-title\n  font-size: 1.25rem\n  margin-bottom: 0.5rem\n\n.print-item\n  margin-bottom: 10px\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GCodeFilePage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GCodeFilePage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GCodeFilePage.vue?vue&type=template&id=0e8ada94&scoped=true&\"\nimport script from \"./GCodeFilePage.vue?vue&type=script&lang=js&\"\nexport * from \"./GCodeFilePage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GCodeFilePage.vue?vue&type=style&index=0&id=0e8ada94&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e8ada94\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <page-layout>\n    <template #topBarRight>\n      <div>\n        <a\n          v-if=\"isEnt\"\n          href=\"/user_preferences/dh/\"\n          class=\"btn shadow-none hours-btn d-none d-md-inline\"\n          :title=\"dhBadgeNum + ' AI Detection Hours'\"\n        >\n          <svg>\n            <use href=\"#svg-detective-hours\"></use>\n          </svg>\n          <span id=\"user-credits\" class=\"badge badge-light\">{{ dhBadgeNum }}</span>\n          <span class=\"sr-only\">AI Detection Hours</span>\n        </a>\n        <a\n          href=\"/printers/wizard/\"\n          class=\"btn shadow-none icon-btn d-none d-md-inline\"\n          title=\"Link New Printer\"\n        >\n          <i class=\"fas fa-plus\"></i>\n        </a>\n        <b-dropdown right no-caret toggle-class=\"icon-btn\">\n          <template #button-content>\n            <i class=\"fas fa-ellipsis-v\"></i>\n          </template>\n          <b-dropdown-item v-if=\"isEnt\" href=\"/user_preferences/dh/\" class=\"d-md-none\">\n            <i class=\"fas fa-hourglass-half\"></i>{{ dhBadgeNum }} AI Detection Hours\n          </b-dropdown-item>\n          <b-dropdown-item href=\"/printers/wizard/\" class=\"d-md-none\">\n            <i class=\"fas fa-plus\"></i>Link New Printer\n          </b-dropdown-item>\n          <b-dropdown-divider class=\"d-md-none\"></b-dropdown-divider>\n          <cascaded-dropdown\n            :menu-options=\"menuOptions\"\n            :menu-selections=\"menuSelections\"\n            @menuSelectionChanged=\"menuSelectionChanged\"\n          >\n          </cascaded-dropdown>\n        </b-dropdown>\n      </div>\n    </template>\n\n    <template #content>\n      <div v-if=\"shouldShowFilterWarning\" class=\"active-filter-notice\" @click=\"onShowAllClicked\">\n        <div class=\"filter\">\n          <i class=\"fas fa-filter mr-2\"></i>\n          {{ activeFiltering }}\n        </div>\n        <a>SHOW ALL</a>\n      </div>\n      <b-container class=\"printer-list-page\">\n        <b-row v-if=\"loading\">\n          <b-col class=\"text-center\">\n            <b-spinner class=\"my-5\" label=\"Loading...\"></b-spinner>\n          </b-col>\n        </b-row>\n        <b-row v-if=\"visiblePrinters.length\" class=\"printer-cards justify-content-center\">\n          <printer-card\n            v-for=\"printer in visiblePrinters\"\n            :key=\"printer.id\"\n            :printer=\"printer\"\n            :is-pro-account=\"user.is_pro\"\n            class=\"printer-card-wrapper\"\n            @PrinterUpdated=\"onPrinterUpdated\"\n            @printModalOpened=\"() => (targetPrinter = printer)\"\n          ></printer-card>\n        </b-row>\n        <div class=\"row justify-content-center\">\n          <div id=\"new-printer\" class=\"col-sm-12 col-lg-6\">\n            <div class=\"new-printer-container\">\n              <a href=\"/printers/wizard/\">\n                <i class=\"fa fa-plus fa-2x\"></i>\n                <div>Link New Printer</div>\n              </a>\n            </div>\n          </div>\n        </div>\n        <b-row v-show=\"shouldShowArchiveWarning\" class=\"bottom-messages\">\n          <b-col>\n            <div class=\"alert alert-warning alert-dismissible fade show mb-3\" role=\"alert\">\n              <div class=\"warning\">\n                <div>\n                  {{ archivedPrinterNum }} {{ 'printer' | pluralize(archivedPrinterNum) }} have been\n                  archived.\n                </div>\n                <a href=\"/ent/printers/archived/\" class=\"warning-action\">Show Archived Printers</a>\n              </div>\n              <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n          </b-col>\n        </b-row>\n      </b-container>\n      <b-modal id=\"b-modal-gcodes\" size=\"lg\" @hidden=\"resetGcodesModal\">\n        <g-code-file-page\n          v-if=\"selectedGcodeId\"\n          :is-popup=\"true\"\n          :target-printer-id=\"targetPrinter.id\"\n          :route-params=\"{\n            fileId: selectedGcodeId,\n            printerId: selectedPrinterId,\n          }\"\n          :on-close=\"() => $bvModal.hide('b-modal-gcodes')\"\n          @goBack=\"\n            () => {\n              selectedGcodeId = null\n              scrollToTop()\n            }\n          \"\n        />\n        <g-code-folders-page\n          v-else\n          :is-popup=\"true\"\n          :target-printer=\"targetPrinter\"\n          :route-params=\"{\n            printerId: selectedPrinterId,\n            parentFolder: null,\n          }\"\n          :on-close=\"() => $bvModal.hide('b-modal-gcodes')\"\n          :saved-path=\"savedPath\"\n          scroll-container-id=\"b-modal-gcodes\"\n          @openFile=\"\n            (fileId, printerId, path) => {\n              selectedGcodeId = fileId\n              selectedPrinterId = printerId\n              savedPath = path\n              scrollToTop()\n            }\n          \"\n        />\n      </b-modal>\n    </template>\n  </page-layout>\n</template>\n\n<script>\nimport axios from 'axios'\nimport sortBy from 'lodash/sortBy'\nimport reverse from 'lodash/reverse'\n\nimport { getLocalPref, setLocalPref } from '@src/lib/pref'\nimport { normalizedPrinter } from '@src/lib/normalizers'\n\nimport urls from '@config/server-urls'\nimport PrinterCard from '@src/components/printers/PrinterCard.vue'\nimport PageLayout from '@src/components/PageLayout.vue'\nimport CascadedDropdown from '@src/components/CascadedDropdown'\nimport { user, settings } from '@src/lib/page-context'\nimport GCodeFoldersPage from '@src/views/GCodeFoldersPage.vue'\nimport GCodeFilePage from '@src/views/GCodeFilePage.vue'\n\nconst SortIconClass = {\n  asc: 'fas fa-long-arrow-alt-up',\n  desc: 'fas fa-long-arrow-alt-down',\n}\n\nconst LocalPrefNames = {\n  StateFilter: 'printer-filtering',\n  SortFilter: 'printer-sorting',\n}\n\nexport default {\n  name: 'PrinterListPage',\n  components: {\n    PrinterCard,\n    PageLayout,\n    CascadedDropdown,\n    GCodeFoldersPage,\n    GCodeFilePage,\n  },\n  data: function () {\n    return {\n      user: null,\n      printers: [],\n      loading: true,\n      isEnt: false,\n      menuSelections: {\n        'Sort By': getLocalPref(LocalPrefNames.SortFilter, 'by-date-desc'),\n        'Filter By': getLocalPref(LocalPrefNames.StateFilter, 'all'),\n      },\n      menuOptions: {\n        'Sort By': {\n          iconClass: 'fas fa-sort-amount-up',\n          options: [\n            { value: 'by-date-asc', title: 'Oldest First', iconClass: SortIconClass['asc'] },\n            { value: 'by-date-desc', title: 'Newest First', iconClass: SortIconClass['desc'] },\n            { value: 'by-name-asc', title: 'Sort By Name', iconClass: SortIconClass['asc'] },\n            { value: 'by-name-desc', title: 'Sort By Name', iconClass: SortIconClass['desc'] },\n          ],\n        },\n        'Filter By': {\n          iconClass: 'fas fa-filter',\n          options: [\n            { value: 'all', title: 'All Printers' },\n            { value: 'online', title: 'Online Printers' },\n            { value: 'active', title: 'Active Printers' },\n          ],\n        },\n      },\n      dontShowFilterWarning: false,\n      archivedPrinterNum: 0,\n\n      // gcodes browse modal\n      selectedGcodeId: null,\n      selectedPrinterId: null,\n      targetPrinter: null,\n      savedPath: [null],\n    }\n  },\n  computed: {\n    dhBadgeNum() {\n      if (this.user && this.user.is_dh_unlimited) {\n        return '\\u221E'\n      } else {\n        return Math.round(this.user.dh_balance)\n      }\n    },\n    visiblePrinters() {\n      let printers = this.printers\n      switch (this.menuSelections['Filter By']) {\n        case 'online':\n          printers = printers.filter((p) => !p.isDisconnected())\n          break\n        case 'active':\n          printers = printers.filter((p) => p.isActive())\n          break\n        case 'all':\n          break\n      }\n\n      switch (this.menuSelections['Sort By']) {\n        case 'by-date-asc':\n          printers = sortBy(printers, (p) => p.createdAt())\n          break\n        case 'by-date-desc':\n          printers = reverse(sortBy(printers, (p) => p.createdAt()))\n          break\n        case 'by-name-asc':\n          printers = sortBy(printers, (p) => p.name)\n          break\n        case 'by-name-desc':\n          printers = reverse(sortBy(printers, (p) => p.name))\n          break\n      }\n\n      return printers\n    },\n    hiddenPrinterCount() {\n      return this.printers.length - this.visiblePrinters.length\n    },\n    shouldShowFilterWarning() {\n      return this.menuSelections['Filter By'] !== 'all'\n    },\n    shouldShowArchiveWarning() {\n      return this.archivedPrinterNum > 0\n    },\n    activeFiltering() {\n      const found = this.menuOptions['Filter By'].options.filter(\n        (option) => option.value === this.menuSelections['Filter By']\n      )\n      return found.length ? found[0].title : null\n    },\n  },\n  created() {\n    const { IS_ENT } = settings()\n    this.isEnt = !!IS_ENT\n    this.user = user()\n    this.fetchPrinters()\n  },\n  methods: {\n    menuSelectionChanged(menu, selectedOption) {\n      const val = selectedOption.value\n      this.$set(this.menuSelections, menu, val)\n      const prefName = menu === 'Sort By' ? LocalPrefNames.SortFilter : LocalPrefNames.StateFilter\n      setLocalPref(prefName, val)\n    },\n    fetchPrinters() {\n      this.loading = true\n      return axios\n        .get(urls.printers(), {\n          params: {\n            with_archived: true,\n          },\n        })\n        .then((response) => {\n          this.loading = false\n          response.data.forEach((p) => {\n            if (p.archived_at) {\n              this.archivedPrinterNum += 1\n            } else {\n              this.insertPrinter(normalizedPrinter(p))\n            }\n          })\n        })\n    },\n    onShowAllClicked() {\n      this.$set(this.menuSelections, 'Filter By', 'all')\n      setLocalPref(LocalPrefNames.StateFilter, 'all')\n    },\n    insertPrinter(printer) {\n      this.printers.push(printer)\n    },\n    onPrinterUpdated(printer) {\n      let index = this.printers.findIndex((p) => p.id == printer.id)\n      if (index < 0) {\n        // FIXME any alert here?\n        return\n      }\n\n      this.$set(this.printers, index, printer)\n    },\n    scrollToTop() {\n      document.querySelector('#b-modal-gcodes').scrollTo(0, 0)\n    },\n    resetGcodesModal() {\n      this.selectedGcodeId = null\n      this.targetPrinter = null\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.printer-list-page\n  .consider-upgrade\n    margin-bottom: var(--gap-between-blocks)\n\n  .printer-cards\n     margin-top: calc(var(--gap-between-blocks) * -1)\n\n  .printer-card-wrapper\n    margin-top: var(--gap-between-blocks)\n\n  .bottom-messages\n    margin-top: var(--gap-between-blocks)\n\n  .warning\n    display: flex\n    flex-direction: row\n    flex-wrap: wrap\n    justify-content: space-between\n    align-items: center\n\n    .warning-action\n      padding: 0.25em 0\n      font-weight: bolder\n      font-size: 1.1em\n      margin-left: auto\n\n.btn.hours-btn\n  position: relative\n  padding-right: 1.625rem\n  color: var(--color-text-primary)\n\n  svg\n    height: 1.125rem\n    width: 1.125rem\n\n  .badge\n    position: absolute\n    left: 22px\n    top: 8px\n    border-radius: var(--border-radius-sm)\n    background-color: var(--color-primary)\n    height: auto\n    font-size: .625rem\n\n::v-deep .dropdown-item .clickable-area\n  margin: -0.25rem -1.5rem\n  padding: 0.25rem 1.5rem\n</style>\n\n<style lang=\"sass\">\n#b-modal-gcodes\n  .modal-header\n    display: none\n  .modal-body\n    padding: 0\n  .modal-footer\n    display: none\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterListPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterListPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrinterListPage.vue?vue&type=template&id=0f0bbe55&scoped=true&\"\nimport script from \"./PrinterListPage.vue?vue&type=script&lang=js&\"\nexport * from \"./PrinterListPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrinterListPage.vue?vue&type=style&index=0&id=0f0bbe55&prod&lang=sass&scoped=true&\"\nimport style1 from \"./PrinterListPage.vue?vue&type=style&index=1&id=0f0bbe55&prod&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f0bbe55\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('nav-bar',{attrs:{\"view-name\":\"printer_shared\"}}),_c('div',{staticClass:\"row justify-content-center\"},[(_vm.loading)?_c('b-spinner',{staticClass:\"mt-5\",attrs:{\"label\":\"Loading...\"}}):_vm._e(),(_vm.printer)?_c('div',{staticClass:\"col-sm-12 col-lg-6 printer-card\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('div',[_vm._v(_vm._s(_vm.printer.name))])]),_c('streaming-box',{attrs:{\"printer\":_vm.printer,\"webrtc\":_vm.webrtc,\"autoplay\":true}}),_c('div',{staticClass:\"p-3 p-md-5\"},[_c('p',{staticClass:\"text-center\"},[_vm._v(\" You are viewing an awesome 3D print your friend shared specifically with you on \")]),_c('a',{attrs:{\"href\":\"https://www.obico.io/\"}},[_c('svg',{staticClass:\"logo-img\",attrs:{\"width\":\"100%\"}},[_c('use',{attrs:{\"href\":\"#svg-logo-full\"}})])]),_c('hr'),_c('br'),_c('br'),_c('p',{staticClass:\"text-center\"},[_vm._v(\" Obico let you monitor and control your printer from anywhere, on your phone. \")]),_c('a',{staticClass:\"btn btn-block btn-primary\",attrs:{\"href\":\"/accounts/signup/\"}},[_vm._v(\"Sign up for a free Obico account\")])])],1)]):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(!_vm.inMobileWebView)?_c('b-navbar',{class:{\n      'navbar-dark': _vm.theme === _vm.themes.Dark,\n      'navbar-light': _vm.theme === _vm.themes.Light,\n    },attrs:{\"toggleable\":\"xl\"}},[_c('b-container',{staticClass:\"p-0\"},[_c('b-navbar-brand',{attrs:{\"href\":\"/\"}},[_c('svg',{attrs:{\"width\":\"100\",\"height\":\"30\"}},[_c('use',{attrs:{\"href\":\"#svg-logo-full\"}})])]),_c('b-navbar-toggle',{attrs:{\"target\":\"navbar-toggle-collapse\"}},[_c('span',{staticClass:\"navbar-toggler-icon\"})]),_c('b-collapse',{attrs:{\"id\":\"navbar-toggle-collapse\",\"is-nav\":\"\"},model:{value:(_vm.showMainMenu),callback:function ($$v) {_vm.showMainMenu=$$v},expression:\"showMainMenu\"}},[_c('b-navbar-nav',[(_vm.user)?_c('b-nav-item',{class:{ active: _vm.viewName.includes('printers') },attrs:{\"href\":\"/printers/\"}},[_vm._v(\"Printer\")]):_vm._e(),(_vm.user)?_c('b-nav-item',{class:{ active: _vm.viewName.includes('print_history') },attrs:{\"href\":\"/print_history/\"}},[_vm._v(\"Time-lapse\")]):_vm._e(),(_vm.user)?_c('b-nav-item',{class:{ active: _vm.viewName.includes('g_code_folders') },attrs:{\"href\":\"/g_code_folders/cloud/\"}},[_vm._v(\"G-Code\")]):_vm._e(),(_vm.isEnt && !_vm.user)?_c('b-nav-item',{staticClass:\"glowing\",class:{ active: _vm.viewName === 'publictimelapse_list' },attrs:{\"href\":\"/ent_pub/publictimelapses/\"}},[_vm._v(\"Spaghetti Gallery\")]):_vm._e(),(_vm.isEnt)?_c('b-nav-item',{class:{ active: _vm.viewName === 'pricing' },attrs:{\"href\":\"/ent_pub/pricing/\"}},[_vm._v(\"Pricing\")]):_vm._e(),_c('b-nav-item',{attrs:{\"href\":\"https://www.obico.io/help/\"}},[_vm._v(\"Help\")]),_c('b-nav-item',{attrs:{\"href\":\"https://obico.io/discord\"}},[_vm._v(\"Community\")])],1),_c('b-navbar-nav',{staticClass:\"ml-auto\"},[(!_vm.user)?_c('b-nav-item',{attrs:{\"href\":\"/accounts/login/\"}},[_vm._v(\"SIGN IN\")]):_vm._e(),(!_vm.user && _vm.allowSignUp)?_c('b-nav-item',{attrs:{\"href\":\"/accounts/signup/\"}},[_vm._v(\"SIGN UP\")]):_vm._e(),(_vm.user)?_c('b-nav-item-dropdown',{ref:\"accountDropdown\",attrs:{\"right\":\"\",\"toggle-class\":\"user-menu\",\"text\":_vm.user.first_name || _vm.user.email}},[_c('b-dropdown-item',{attrs:{\"href\":\"/user_preferences/\"}},[_c('i',{staticClass:\"fas fa-cog mr-2\"}),_vm._v(\"Preferences \")]),_c('b-dropdown-divider'),_c('b-dropdown-item',{attrs:{\"href\":\"/accounts/logout/\"}},[_c('i',{staticClass:\"fas fa-sign-out-alt mr-2\"}),_vm._v(\"Log out \")])],1):_vm._e()],1)],1)],1)],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b-navbar\n      v-if=\"!inMobileWebView\"\n      toggleable=\"xl\"\n      :class=\"{\n        'navbar-dark': theme === themes.Dark,\n        'navbar-light': theme === themes.Light,\n      }\"\n    >\n      <b-container class=\"p-0\">\n        <b-navbar-brand href=\"/\">\n          <svg width=\"100\" height=\"30\">\n            <use href=\"#svg-logo-full\" />\n          </svg>\n        </b-navbar-brand>\n\n        <b-navbar-toggle target=\"navbar-toggle-collapse\">\n          <span class=\"navbar-toggler-icon\"></span>\n        </b-navbar-toggle>\n\n        <b-collapse id=\"navbar-toggle-collapse\" v-model=\"showMainMenu\" is-nav>\n          <b-navbar-nav>\n            <b-nav-item\n              v-if=\"user\"\n              href=\"/printers/\"\n              :class=\"{ active: viewName.includes('printers') }\"\n              >Printer</b-nav-item\n            >\n            <b-nav-item\n              v-if=\"user\"\n              href=\"/print_history/\"\n              :class=\"{ active: viewName.includes('print_history') }\"\n              >Time-lapse</b-nav-item\n            >\n            <b-nav-item\n              v-if=\"user\"\n              href=\"/g_code_folders/cloud/\"\n              :class=\"{ active: viewName.includes('g_code_folders') }\"\n              >G-Code</b-nav-item\n            >\n            <b-nav-item\n              v-if=\"isEnt && !user\"\n              href=\"/ent_pub/publictimelapses/\"\n              :class=\"{ active: viewName === 'publictimelapse_list' }\"\n              class=\"glowing\"\n              >Spaghetti Gallery</b-nav-item\n            >\n            <b-nav-item\n              v-if=\"isEnt\"\n              href=\"/ent_pub/pricing/\"\n              :class=\"{ active: viewName === 'pricing' }\"\n              >Pricing</b-nav-item\n            >\n            <b-nav-item href=\"https://www.obico.io/help/\">Help</b-nav-item>\n            <b-nav-item href=\"https://obico.io/discord\">Community</b-nav-item>\n          </b-navbar-nav>\n\n          <b-navbar-nav class=\"ml-auto\">\n            <b-nav-item v-if=\"!user\" href=\"/accounts/login/\">SIGN IN</b-nav-item>\n            <b-nav-item v-if=\"!user && allowSignUp\" href=\"/accounts/signup/\">SIGN UP</b-nav-item>\n            <b-nav-item-dropdown\n              v-if=\"user\"\n              ref=\"accountDropdown\"\n              right\n              toggle-class=\"user-menu\"\n              :text=\"user.first_name || user.email\"\n            >\n              <b-dropdown-item href=\"/user_preferences/\">\n                <i class=\"fas fa-cog mr-2\"></i>Preferences\n              </b-dropdown-item>\n              <b-dropdown-divider></b-dropdown-divider>\n              <b-dropdown-item href=\"/accounts/logout/\">\n                <i class=\"fas fa-sign-out-alt mr-2\"></i>Log out\n              </b-dropdown-item>\n            </b-nav-item-dropdown>\n          </b-navbar-nav>\n        </b-collapse>\n      </b-container>\n    </b-navbar>\n  </div>\n</template>\n\n<script>\nimport { inMobileWebView, user, settings } from '@src/lib/page-context'\nimport { Themes } from '@static/js/color-scheme'\nimport { currentThemeValue } from '@src/lib/color-scheme-controller'\n\nexport default {\n  name: 'NavBar',\n\n  components: {},\n\n  props: {\n    viewName: {\n      default() {\n        return ''\n      },\n      type: String,\n    },\n  },\n\n  data() {\n    return {\n      user: null,\n      allowSignUp: false,\n      isEnt: false,\n      themes: Themes,\n      showMainMenu: false,\n    }\n  },\n\n  computed: {\n    inMobileWebView() {\n      return inMobileWebView()\n    },\n\n    theme() {\n      return currentThemeValue()\n    },\n  },\n\n  created() {\n    const { ACCOUNT_ALLOW_SIGN_UP, IS_ENT } = settings()\n    this.allowSignUp = !!ACCOUNT_ALLOW_SIGN_UP\n    this.isEnt = !!IS_ENT\n    this.user = user()\n  },\n\n  methods: {\n    hideDropdowns() {\n      this.showMainMenu = false\n\n      // Check account dropdown (preferences and logout)\n      const accountDropdown = this.$refs.accountDropdown\n      if (accountDropdown) {\n        accountDropdown.hide()\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n::v-deep .navbar\n  padding: 0.5rem 1rem\n\n  a.navbar-brand\n    margin-top: -3px\n\n  .navbar-toggler\n    color: var(--color-text-primary)\n\n  .nav-item\n    text-transform: uppercase\n\n  .user-menu\n    text-transform: none\n\n  .badge-btn\n    position: relative\n    height: 1.8rem\n    margin-right: 1.5em\n\n    img\n      height: 1.3rem\n\n    .badge\n      position: absolute\n      left: 22px\n      top: 1px\n      height: 18px\n      border-radius: 4px\n      transition: transform 0.2s\n\n      /* Animation */\n      &:hover\n        transform: scale(1.3)\n\n  @media (min-width: 1200px)\n    padding: 0rem 1rem\n\n    .nav-item\n      padding: 0.5rem 0.24rem\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NavBar.vue?vue&type=template&id=064f4e89&scoped=true&\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js&\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavBar.vue?vue&type=style&index=0&id=064f4e89&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"064f4e89\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <nav-bar view-name=\"printer_shared\"></nav-bar>\n\n    <div class=\"row justify-content-center\">\n      <b-spinner v-if=\"loading\" class=\"mt-5\" label=\"Loading...\"></b-spinner>\n      <div v-if=\"printer\" class=\"col-sm-12 col-lg-6 printer-card\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <div>{{ printer.name }}</div>\n          </div>\n          <streaming-box :printer=\"printer\" :webrtc=\"webrtc\" :autoplay=\"true\" />\n          <div class=\"p-3 p-md-5\">\n            <p class=\"text-center\">\n              You are viewing an awesome 3D print your friend shared specifically with you on\n            </p>\n            <a href=\"https://www.obico.io/\">\n              <svg width=\"100%\" class=\"logo-img\">\n                <use href=\"#svg-logo-full\" />\n              </svg>\n            </a>\n            <hr />\n            <br /><br />\n            <p class=\"text-center\">\n              Obico let you monitor and control your printer from anywhere, on your phone.\n            </p>\n            <a class=\"btn btn-block btn-primary\" href=\"/accounts/signup/\"\n              >Sign up for a free Obico account</a\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport split from 'lodash/split'\nimport { normalizedPrinter } from '@src/lib/normalizers'\nimport urls from '@config/server-urls'\nimport PrinterComm from '@src/lib/printer-comm'\nimport WebRTCConnection from '@src/lib/webrtc'\nimport StreamingBox from '@src/components/StreamingBox'\nimport NavBar from '@src/components/NavBar.vue'\nexport default {\n  name: 'SharedPrinterPage',\n  components: {\n    StreamingBox,\n    NavBar,\n  },\n  data: function () {\n    return {\n      printer: null,\n      shareToken: null,\n      videoAvailable: {},\n      loading: true,\n      isWebrtcOpened: false,\n      webrtc: WebRTCConnection(),\n    }\n  },\n  created() {\n    this.shareToken = split(window.location.pathname, '/').slice(-2, -1).pop()\n    this.printerComm = PrinterComm(\n      this.shareToken,\n      urls.printerSharedWebSocket(this.shareToken),\n      (data) => {\n        this.printer = normalizedPrinter(data, this.printer)\n        this.loading = false\n\n        if (!this.isWebrtcOpened) {\n          this.webrtc.openForShareToken(this.shareToken)\n          this.isWebrtcOpened = true\n        }\n      }\n    )\n    this.printerComm.connect()\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n#printer-list-page\n  margin-top: 1.5rem\n.printer-card\n  margin-bottom: 1.5rem\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharedPrinterPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharedPrinterPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SharedPrinterPage.vue?vue&type=template&id=2caa3a64&scoped=true&\"\nimport script from \"./SharedPrinterPage.vue?vue&type=script&lang=js&\"\nexport * from \"./SharedPrinterPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SharedPrinterPage.vue?vue&type=style&index=0&id=2caa3a64&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2caa3a64\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('page-layout',{scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('b-container',[_c('b-row',{staticClass:\"justify-content-center\"},[_c('b-col',{attrs:{\"lg\":\"8\"}},[(!_vm.printer)?_c('loading-placeholder'):_c('div',{staticClass:\"surface with-loading-animation full-on-mobile\"},[_c('section',{staticClass:\"settings\"},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\"Settings\")]),_c('div',{staticClass:\"form-group mb-4 mt-4\"},[_c('div',{staticClass:\"form-label text-muted mb-2\"},[_vm._v(\"Give your shiny new printer a name\")]),_c('saving-animation',{attrs:{\"errors\":_vm.errorMessages.name,\"saving\":_vm.saving.name}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.printer.name),expression:\"printer.name\"}],staticClass:\"form-control field_required\",attrs:{\"id\":\"id_name\",\"type\":\"text\",\"name\":\"name\",\"maxlength\":\"200\",\"placeholder\":\"\",\"required\":\"required\"},domProps:{\"value\":(_vm.printer.name)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.printer, \"name\", $event.target.value)}}})])],1),_c('div',{staticClass:\"failure-notification\"},[_c('div',{staticClass:\"form-group mt-4 mb-4\"},[_c('div',{staticClass:\"form-label text-muted\"},[_vm._v(\"When a potential failure is detected:\")]),_c('saving-animation',{attrs:{\"errors\":_vm.errorMessages.action_on_failure_NONE,\"saving\":_vm.saving.action_on_failure_NONE}},[_c('div',{staticClass:\"custom-control custom-radio mt-1 radio\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.printer.action_on_failure),expression:\"printer.action_on_failure\"}],staticClass:\"custom-control-input field_required\",attrs:{\"id\":\"id_action_on_failure_0\",\"type\":\"radio\",\"name\":\"action_on_failure\",\"value\":\"NONE\"},domProps:{\"checked\":_vm._q(_vm.printer.action_on_failure,\"NONE\")},on:{\"change\":[function($event){return _vm.$set(_vm.printer, \"action_on_failure\", \"NONE\")},function($event){return _vm.updateSetting('action_on_failure')}]}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"id_action_on_failure_0\"}},[_vm._v(\"Just notify me\")])])]),_c('saving-animation',{attrs:{\"errors\":_vm.errorMessages.action_on_failure_PAUSE,\"saving\":_vm.saving.action_on_failure_PAUSE}},[_c('div',{staticClass:\"custom-control custom-radio mt-1 radio\",attrs:{\"id\":\"action_on_failure_PAUSE\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.printer.action_on_failure),expression:\"printer.action_on_failure\"}],staticClass:\"custom-control-input field_required\",attrs:{\"id\":\"id_action_on_failure_1\",\"type\":\"radio\",\"name\":\"action_on_failure\",\"value\":\"PAUSE\"},domProps:{\"checked\":_vm._q(_vm.printer.action_on_failure,\"PAUSE\")},on:{\"change\":[function($event){return _vm.$set(_vm.printer, \"action_on_failure\", \"PAUSE\")},function($event){return _vm.updateSetting('action_on_failure')}]}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"id_action_on_failure_1\"}},[_vm._v(\"Pause the printer and notify me\")])])])],1)])]),_c('section',{staticClass:\"mt-5\"},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\"Failure Detection\")]),_c('div',{staticClass:\"card-body p-0 pt-3\"},[_c('p',{staticClass:\"text-warning\"},[_c('i',{staticClass:\"fas fa-exclamation-triangle\"}),_vm._v(\" If you are not sure about the settings below, leave the default values to minimize surprises. \")]),_c('div',{staticClass:\"form-group mt-4\"},[_c('div',{staticClass:\"form-label text-muted\"},[_vm._v(\"When print is paused,\")]),_c('saving-animation',{attrs:{\"errors\":_vm.errorMessages.tools_off_on_pause,\"saving\":_vm.saving.tools_off_on_pause}},[_c('div',{staticClass:\"custom-control custom-checkbox mt-2 checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.printer.tools_off_on_pause),expression:\"printer.tools_off_on_pause\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"id_tools_off_on_pause\",\"type\":\"checkbox\",\"name\":\"tools_off_on_pause\"},domProps:{\"checked\":Array.isArray(_vm.printer.tools_off_on_pause)?_vm._i(_vm.printer.tools_off_on_pause,null)>-1:(_vm.printer.tools_off_on_pause)},on:{\"change\":[function($event){var $$a=_vm.printer.tools_off_on_pause,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.printer, \"tools_off_on_pause\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.printer, \"tools_off_on_pause\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.printer, \"tools_off_on_pause\", $$c)}},function($event){return _vm.updateSetting('tools_off_on_pause')}]}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"id_tools_off_on_pause\"}},[_vm._v(\" Turn off hotend heater(s) \")])])]),_c('saving-animation',{attrs:{\"errors\":_vm.errorMessages.bed_off_on_pause,\"saving\":_vm.saving.bed_off_on_pause}},[_c('div',{staticClass:\"custom-control custom-checkbox mt-2 checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.printer.bed_off_on_pause),expression:\"printer.bed_off_on_pause\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"id_bed_off_on_pause\",\"type\":\"checkbox\",\"name\":\"bed_off_on_pause\"},domProps:{\"checked\":Array.isArray(_vm.printer.bed_off_on_pause)?_vm._i(_vm.printer.bed_off_on_pause,null)>-1:(_vm.printer.bed_off_on_pause)},on:{\"change\":[function($event){var $$a=_vm.printer.bed_off_on_pause,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.printer, \"bed_off_on_pause\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.printer, \"bed_off_on_pause\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.printer, \"bed_off_on_pause\", $$c)}},function($event){return _vm.updateSetting('bed_off_on_pause')}]}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"id_bed_off_on_pause\"}},[_vm._v(\" Turn off bed heater \")])])]),_c('saving-animation',{staticClass:\"mobile-full-width\",attrs:{\"errors\":_vm.errorMessages.retract_on_pause,\"saving\":_vm.saving.retract_on_pause}},[_c('div',{staticClass:\"form-inline my-1 checkbox-with-input\"},[_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.retractFilamentByEnabled),expression:\"retractFilamentByEnabled\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"retract-checkbox\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.retractFilamentByEnabled)?_vm._i(_vm.retractFilamentByEnabled,null)>-1:(_vm.retractFilamentByEnabled)},on:{\"change\":function($event){var $$a=_vm.retractFilamentByEnabled,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.retractFilamentByEnabled=$$a.concat([$$v]))}else{$$i>-1&&(_vm.retractFilamentByEnabled=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.retractFilamentByEnabled=$$c}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"retract-checkbox\"}},[_vm._v(\"Retract filament by\")])]),_c('number-input',{staticClass:\"wrappable-field\",attrs:{\"step\":0.5,\"disable\":!_vm.retractFilamentByEnabled},model:{value:(_vm.retractOnPause),callback:function ($$v) {_vm.retractOnPause=$$v},expression:\"retractOnPause\"}})],1)]),_c('saving-animation',{staticClass:\"mobile-full-width\",attrs:{\"errors\":_vm.errorMessages.lift_z_on_pause,\"saving\":_vm.saving.lift_z_on_pause}},[_c('div',{staticClass:\"form-inline my-1 checkbox-with-input\"},[_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.liftExtruderByEnabled),expression:\"liftExtruderByEnabled\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"lift-z-checkbox\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.liftExtruderByEnabled)?_vm._i(_vm.liftExtruderByEnabled,null)>-1:(_vm.liftExtruderByEnabled)},on:{\"change\":function($event){var $$a=_vm.liftExtruderByEnabled,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.liftExtruderByEnabled=$$a.concat([$$v]))}else{$$i>-1&&(_vm.liftExtruderByEnabled=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.liftExtruderByEnabled=$$c}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"lift-z-checkbox\"}},[_vm._v(\"Lift extruder along Z axis by\")])]),_c('number-input',{staticClass:\"wrappable-field\",attrs:{\"step\":0.5,\"disable\":!_vm.liftExtruderByEnabled},model:{value:(_vm.liftExtruderBy),callback:function ($$v) {_vm.liftExtruderBy=$$v},expression:\"liftExtruderBy\"}})],1)])],1),_c('div',{staticClass:\"form-group sensitivity my-4\"},[_c('div',{staticClass:\"form-label text-muted\"},[_vm._v(\"AI failure detection sensitivity\")]),_c('saving-animation',{attrs:{\"errors\":_vm.errorMessages.detective_sensitivity,\"saving\":_vm.saving.detective_sensitivity}},[_c('div',{staticClass:\"my-2 sensitivity-slider\"},[_c('vue-slider',{attrs:{\"lazy\":true,\"min\":0.8,\"max\":1.2,\"interval\":0.05,\"tooltip-formatter\":_vm.sensitivityTooltipFormatter},model:{value:(_vm.detectiveSensitivity),callback:function ($$v) {_vm.detectiveSensitivity=$$v},expression:\"detectiveSensitivity\"}})],1)]),(_vm.sensitivityTooltipFormatter(_vm.printer.detective_sensitivity) === 'Low')?_c('div',[_vm._v(\" Low - I don't want a lot of false alarms. Only alert me when you are absolutely sure. \")]):(\n                      _vm.sensitivityTooltipFormatter(_vm.printer.detective_sensitivity) === 'Medium'\n                    )?_c('div',[_vm._v(\" Medium - A few false alarms won't bother me. But some well-disguised spaghetti will be missed. \")]):_c('div',[_vm._v(\" High - Hit me with all the false alarms. I want to catch as many failures as possible. \")])],1)])]),_c('section',{staticClass:\"mt-5\"},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\"Time-lapse\")]),(!(_vm.timelapseOnFinishEnabled && _vm.timelapseOnCancelEnabled))?_c('p',{staticClass:\"text-warning\"},[_c('i',{staticClass:\"fas fa-exclamation-triangle\"}),_vm._v(\" Focused Feedback won't be available when time-lapse recording is turned off. You won't be able to \"),_c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/how-does-credits-work/\"}},[_vm._v(\"help us get better while earning AI Detection Hours for yourself\")]),_vm._v(\". \")]):_vm._e(),_c('div',{staticClass:\"form-group mt-4\"},[_c('saving-animation',{staticClass:\"mobile-full-width\",attrs:{\"errors\":_vm.errorMessages.min_timelapse_secs_on_finish,\"saving\":_vm.saving.min_timelapse_secs_on_finish}},[_c('div',{staticClass:\"form-inline my-1 checkbox-with-input\"},[_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.timelapseOnFinishEnabled),expression:\"timelapseOnFinishEnabled\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"timelapseOnFinishEnabled\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.timelapseOnFinishEnabled)?_vm._i(_vm.timelapseOnFinishEnabled,null)>-1:(_vm.timelapseOnFinishEnabled)},on:{\"change\":function($event){var $$a=_vm.timelapseOnFinishEnabled,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.timelapseOnFinishEnabled=$$a.concat([$$v]))}else{$$i>-1&&(_vm.timelapseOnFinishEnabled=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.timelapseOnFinishEnabled=$$c}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"timelapseOnFinishEnabled\"}},[_vm._v(\"Record time-lapse when a print finishes successfully.\")])])]),(_vm.timelapseOnFinishEnabled)?_c('div',{staticClass:\"form-inline my-1 checkbox-with-input\"},[_c('div',{staticClass:\"custom-control custom-checkbox\"},[_vm._v(\" Skip if the print is finished in less than \")]),_c('number-input',{staticClass:\"wrappable-field\",attrs:{\"step\":5,\"unit\":\"minutes\"},model:{value:(_vm.minTimelapseMinutesOnFinish),callback:function ($$v) {_vm.minTimelapseMinutesOnFinish=$$v},expression:\"minTimelapseMinutesOnFinish\"}})],1):_vm._e()]),_c('saving-animation',{staticClass:\"mobile-full-width\",attrs:{\"errors\":_vm.errorMessages.min_timelapse_secs_on_cancel,\"saving\":_vm.saving.min_timelapse_secs_on_cancel}},[_c('div',{staticClass:\"form-inline mt-3 mb-1 checkbox-with-input\"},[_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.timelapseOnCancelEnabled),expression:\"timelapseOnCancelEnabled\"}],staticClass:\"custom-control-input\",attrs:{\"id\":\"timelapseOnCancelEnabled\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.timelapseOnCancelEnabled)?_vm._i(_vm.timelapseOnCancelEnabled,null)>-1:(_vm.timelapseOnCancelEnabled)},on:{\"change\":function($event){var $$a=_vm.timelapseOnCancelEnabled,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.timelapseOnCancelEnabled=$$a.concat([$$v]))}else{$$i>-1&&(_vm.timelapseOnCancelEnabled=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.timelapseOnCancelEnabled=$$c}}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"timelapseOnCancelEnabled\"}},[_vm._v(\"Record time-lapse when a print is cancelled.\")])])]),(_vm.timelapseOnCancelEnabled)?_c('div',{staticClass:\"form-inline my-1 checkbox-with-input\"},[_c('div',{staticClass:\"custom-control custom-checkbox\"},[_vm._v(\" Skip if the print is cancelled in less than \")]),_c('number-input',{staticClass:\"wrappable-field\",attrs:{\"step\":5,\"unit\":\"minutes\"},model:{value:(_vm.minTimelapseMinutesOnCancel),callback:function ($$v) {_vm.minTimelapseMinutesOnCancel=$$v},expression:\"minTimelapseMinutesOnCancel\"}})],1):_vm._e()])],1)]),_c('section',{staticClass:\"danger mt-5\"},[_c('h2',{staticClass:\"section-title\"},[_vm._v(\"Danger Zone\")]),_c('div',{staticClass:\"mt-4\"},[_c('a',{staticClass:\"btn btn-outline-secondary\",attrs:{\"href\":_vm.printerWizardUrl}},[_vm._v(\" Re-Link Printer \")]),_c('div',{staticClass:\"text-muted mt-1\"},[_c('small',[_vm._v(\"If your printer is always showing as \\\"offline\\\", and you have gone through \"),_c('a',{attrs:{\"href\":\"https://www.obico.io/docs/user-guides/troubleshoot-server-connection-issues/\"}},[_vm._v(\"all the trouble-shooting steps\")]),_vm._v(\", you can try to re-link printer as the last resort.\")])])]),_c('div',{staticClass:\"mt-4\"},[_c('button',{staticClass:\"btn btn-outline-warning\",on:{\"click\":_vm.archivePrinter}},[_vm._v(\" Archive Printer \")]),_c('div',{staticClass:\"text-muted mt-1\"},[_c('small',[_vm._v(\"Archived printers are not counted toward your subscription plan. You won't see them in the app either. Go to \"),_c('a',{attrs:{\"href\":\"/ent/printers/archived/\"}},[_vm._v(\"this page\")]),_vm._v(\" to find all archived printers and/or un-archive them.\")])])]),_c('div',{staticClass:\"mt-4\"},[_c('button',{staticClass:\"btn btn-outline-danger\",on:{\"click\":_vm.deletePrinter}},[_vm._v(\" Delete Printer \")]),_c('div',{staticClass:\"text-muted mt-1\"},[_c('small',[_vm._v(\"Bye-bye printer.\")])])])])])],1)],1)],1)]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"input-group input-group-sm input-wrapper\"},[_c('div',{staticClass:\"input-group-prepend\"},[_c('button',{staticClass:\"btn btn-outline-secondary control-button\",attrs:{\"type\":\"button\",\"disabled\":_vm.disable},on:{\"click\":function($event){_vm.inputValue = _vm.inputValue > 0 ? Math.round((_vm.inputValue - _vm.step) * 10) / 10 : 0\n        _vm.$emit('input', _vm.inputValue)}}},[_vm._v(\" ↓ \")])]),_c('input',{staticClass:\"form-control text-center field_required\",style:({ opacity: _vm.disable ? 0.3 : 1 }),attrs:{\"type\":\"text\",\"disabled\":\"\",\"aria-describedby\":\"basic-addon1\"},domProps:{\"value\":_vm.inputValue + ' ' + _vm.unit}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary control-button\",attrs:{\"type\":\"button\",\"disabled\":_vm.disable},on:{\"click\":function($event){_vm.inputValue = Math.round((_vm.inputValue + _vm.step) * 10) / 10\n        _vm.$emit('input', _vm.inputValue)}}},[_vm._v(\" ↑ \")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"input-group input-group-sm input-wrapper\">\n    <div class=\"input-group-prepend\">\n      <button\n        class=\"btn btn-outline-secondary control-button\"\n        type=\"button\"\n        :disabled=\"disable\"\n        @click=\"\n          inputValue = inputValue > 0 ? Math.round((inputValue - step) * 10) / 10 : 0\n          $emit('input', inputValue)\n        \"\n      >\n        ↓\n      </button>\n    </div>\n    <input\n      type=\"text\"\n      class=\"form-control text-center field_required\"\n      disabled\n      aria-describedby=\"basic-addon1\"\n      :value=\"inputValue + ' ' + unit\"\n      :style=\"{ opacity: disable ? 0.3 : 1 }\"\n    />\n    <div class=\"input-group-append\">\n      <button\n        class=\"btn btn-outline-secondary control-button\"\n        type=\"button\"\n        :disabled=\"disable\"\n        @click=\"\n          inputValue = Math.round((inputValue + step) * 10) / 10\n          $emit('input', inputValue)\n        \"\n      >\n        ↑\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'NumberInput',\n\n  props: {\n    value: {\n      type: Number,\n      default: 0,\n    },\n    step: {\n      type: Number,\n      default: 0.5,\n    },\n    disable: {\n      type: Boolean,\n      default: false,\n    },\n    unit: {\n      type: String,\n      default: 'mm',\n    },\n  },\n\n  data() {\n    return {\n      inputValue: this.value,\n    }\n  },\n\n  watch: {\n    value(newValue) {\n      this.inputValue = newValue\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.input-group.input-wrapper\n  border-radius: var(--border-radius-sm)\n  overflow: hidden\n  border: 1px solid var(--color-divider)\n\n  .control-button\n    border: none\n\n  .btn-outline-secondary\n    background-color: var(--color-input-background)\n\n    &:hover, &:focus, &:active\n      color: var(--color-text-primary)\n      background-color: var(--color-input-background)\n      opacity: .8\n      outline: none\n      box-shadow: none !important\n      border: none\n\n\n  input.form-control\n    background-color: var(--color-input-background)\n    color: var(--color-text-primary)\n    width: 6rem\n    border: none\n    border-left: 2px solid var(--color-divider)\n    border-right: 2px solid var(--color-divider)\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NumberInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NumberInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NumberInput.vue?vue&type=template&id=66233dc0&scoped=true&\"\nimport script from \"./NumberInput.vue?vue&type=script&lang=js&\"\nexport * from \"./NumberInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NumberInput.vue?vue&type=style&index=0&id=66233dc0&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66233dc0\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <page-layout>\n    <template #content>\n      <b-container>\n        <b-row class=\"justify-content-center\">\n          <b-col lg=\"8\">\n            <loading-placeholder v-if=\"!printer\" />\n            <div v-else class=\"surface with-loading-animation full-on-mobile\">\n              <section class=\"settings\">\n                <h2 class=\"section-title\">Settings</h2>\n                <div class=\"form-group mb-4 mt-4\">\n                  <div class=\"form-label text-muted mb-2\">Give your shiny new printer a name</div>\n                  <saving-animation :errors=\"errorMessages.name\" :saving=\"saving.name\">\n                    <input\n                      id=\"id_name\"\n                      v-model=\"printer.name\"\n                      type=\"text\"\n                      name=\"name\"\n                      maxlength=\"200\"\n                      placeholder=\"\"\n                      class=\"form-control field_required\"\n                      required=\"required\"\n                    />\n                  </saving-animation>\n                </div>\n                <!-- Potential failure section -->\n                <div class=\"failure-notification\">\n                  <div class=\"form-group mt-4 mb-4\">\n                    <div class=\"form-label text-muted\">When a potential failure is detected:</div>\n                    <saving-animation\n                      :errors=\"errorMessages.action_on_failure_NONE\"\n                      :saving=\"saving.action_on_failure_NONE\"\n                    >\n                      <div class=\"custom-control custom-radio mt-1 radio\">\n                        <input\n                          id=\"id_action_on_failure_0\"\n                          v-model=\"printer.action_on_failure\"\n                          type=\"radio\"\n                          name=\"action_on_failure\"\n                          class=\"custom-control-input field_required\"\n                          value=\"NONE\"\n                          @change=\"updateSetting('action_on_failure')\"\n                        />\n                        <label class=\"custom-control-label\" for=\"id_action_on_failure_0\"\n                          >Just notify me</label\n                        >\n                      </div>\n                    </saving-animation>\n                    <saving-animation\n                      :errors=\"errorMessages.action_on_failure_PAUSE\"\n                      :saving=\"saving.action_on_failure_PAUSE\"\n                    >\n                      <div\n                        id=\"action_on_failure_PAUSE\"\n                        class=\"custom-control custom-radio mt-1 radio\"\n                      >\n                        <input\n                          id=\"id_action_on_failure_1\"\n                          v-model=\"printer.action_on_failure\"\n                          type=\"radio\"\n                          name=\"action_on_failure\"\n                          class=\"custom-control-input field_required\"\n                          value=\"PAUSE\"\n                          @change=\"updateSetting('action_on_failure')\"\n                        />\n                        <label class=\"custom-control-label\" for=\"id_action_on_failure_1\"\n                          >Pause the printer and notify me</label\n                        >\n                      </div>\n                    </saving-animation>\n                  </div>\n                </div>\n              </section>\n              <section class=\"mt-5\">\n                <h2 class=\"section-title\">Failure Detection</h2>\n                <div class=\"card-body p-0 pt-3\">\n                  <p class=\"text-warning\">\n                    <i class=\"fas fa-exclamation-triangle\"></i>\n                    If you are not sure about the settings below, leave the default values to\n                    minimize surprises.\n                  </p>\n\n                  <!-- Advanced settngs: when printer is paused -->\n                  <div class=\"form-group mt-4\">\n                    <div class=\"form-label text-muted\">When print is paused,</div>\n                    <saving-animation\n                      :errors=\"errorMessages.tools_off_on_pause\"\n                      :saving=\"saving.tools_off_on_pause\"\n                    >\n                      <div class=\"custom-control custom-checkbox mt-2 checkbox\">\n                        <input\n                          id=\"id_tools_off_on_pause\"\n                          v-model=\"printer.tools_off_on_pause\"\n                          type=\"checkbox\"\n                          name=\"tools_off_on_pause\"\n                          class=\"custom-control-input\"\n                          @change=\"updateSetting('tools_off_on_pause')\"\n                        />\n                        <label class=\"custom-control-label\" for=\"id_tools_off_on_pause\">\n                          Turn off hotend heater(s)\n                        </label>\n                      </div>\n                    </saving-animation>\n                    <saving-animation\n                      :errors=\"errorMessages.bed_off_on_pause\"\n                      :saving=\"saving.bed_off_on_pause\"\n                    >\n                      <div class=\"custom-control custom-checkbox mt-2 checkbox\">\n                        <input\n                          id=\"id_bed_off_on_pause\"\n                          v-model=\"printer.bed_off_on_pause\"\n                          type=\"checkbox\"\n                          name=\"bed_off_on_pause\"\n                          class=\"custom-control-input\"\n                          @change=\"updateSetting('bed_off_on_pause')\"\n                        />\n                        <label class=\"custom-control-label\" for=\"id_bed_off_on_pause\">\n                          Turn off bed heater\n                        </label>\n                      </div>\n                    </saving-animation>\n\n                    <saving-animation\n                      :errors=\"errorMessages.retract_on_pause\"\n                      :saving=\"saving.retract_on_pause\"\n                      class=\"mobile-full-width\"\n                    >\n                      <div class=\"form-inline my-1 checkbox-with-input\">\n                        <div class=\"custom-control custom-checkbox\">\n                          <input\n                            id=\"retract-checkbox\"\n                            v-model=\"retractFilamentByEnabled\"\n                            type=\"checkbox\"\n                            class=\"custom-control-input\"\n                          />\n                          <label class=\"custom-control-label\" for=\"retract-checkbox\"\n                            >Retract filament by</label\n                          >\n                        </div>\n                        <number-input\n                          v-model=\"retractOnPause\"\n                          :step=\"0.5\"\n                          :disable=\"!retractFilamentByEnabled\"\n                          class=\"wrappable-field\"\n                        ></number-input>\n                      </div>\n                    </saving-animation>\n\n                    <saving-animation\n                      :errors=\"errorMessages.lift_z_on_pause\"\n                      :saving=\"saving.lift_z_on_pause\"\n                      class=\"mobile-full-width\"\n                    >\n                      <div class=\"form-inline my-1 checkbox-with-input\">\n                        <div class=\"custom-control custom-checkbox\">\n                          <input\n                            id=\"lift-z-checkbox\"\n                            v-model=\"liftExtruderByEnabled\"\n                            type=\"checkbox\"\n                            class=\"custom-control-input\"\n                          />\n                          <label class=\"custom-control-label\" for=\"lift-z-checkbox\"\n                            >Lift extruder along Z axis by</label\n                          >\n                        </div>\n                        <number-input\n                          v-model=\"liftExtruderBy\"\n                          :step=\"0.5\"\n                          :disable=\"!liftExtruderByEnabled\"\n                          class=\"wrappable-field\"\n                        ></number-input>\n                      </div>\n                    </saving-animation>\n                  </div>\n\n                  <!-- Advanced settngs: sensitivity slider -->\n                  <div class=\"form-group sensitivity my-4\">\n                    <div class=\"form-label text-muted\">AI failure detection sensitivity</div>\n                    <saving-animation\n                      :errors=\"errorMessages.detective_sensitivity\"\n                      :saving=\"saving.detective_sensitivity\"\n                    >\n                      <div class=\"my-2 sensitivity-slider\">\n                        <vue-slider\n                          v-model=\"detectiveSensitivity\"\n                          :lazy=\"true\"\n                          :min=\"0.8\"\n                          :max=\"1.2\"\n                          :interval=\"0.05\"\n                          :tooltip-formatter=\"sensitivityTooltipFormatter\"\n                        />\n                      </div>\n                    </saving-animation>\n                    <div\n                      v-if=\"sensitivityTooltipFormatter(printer.detective_sensitivity) === 'Low'\"\n                    >\n                      Low - I don't want a lot of false alarms. Only alert me when you are\n                      absolutely sure.\n                    </div>\n                    <div\n                      v-else-if=\"\n                        sensitivityTooltipFormatter(printer.detective_sensitivity) === 'Medium'\n                      \"\n                    >\n                      Medium - A few false alarms won't bother me. But some well-disguised spaghetti\n                      will be missed.\n                    </div>\n                    <div v-else>\n                      High - Hit me with all the false alarms. I want to catch as many failures as\n                      possible.\n                    </div>\n                  </div>\n                </div>\n              </section>\n              <section class=\"mt-5\">\n                <h2 class=\"section-title\">Time-lapse</h2>\n                <p\n                  v-if=\"!(timelapseOnFinishEnabled && timelapseOnCancelEnabled)\"\n                  class=\"text-warning\"\n                >\n                  <i class=\"fas fa-exclamation-triangle\"></i>\n                  Focused Feedback won't be available when time-lapse recording is turned off. You\n                  won't be able to\n                  <a href=\"https://www.obico.io/docs/user-guides/how-does-credits-work/\"\n                    >help us get better while earning AI Detection Hours for yourself</a\n                  >.\n                </p>\n                <div class=\"form-group mt-4\">\n                  <saving-animation\n                    :errors=\"errorMessages.min_timelapse_secs_on_finish\"\n                    :saving=\"saving.min_timelapse_secs_on_finish\"\n                    class=\"mobile-full-width\"\n                  >\n                    <div class=\"form-inline my-1 checkbox-with-input\">\n                      <div class=\"custom-control custom-checkbox\">\n                        <input\n                          id=\"timelapseOnFinishEnabled\"\n                          v-model=\"timelapseOnFinishEnabled\"\n                          type=\"checkbox\"\n                          class=\"custom-control-input\"\n                        />\n                        <label class=\"custom-control-label\" for=\"timelapseOnFinishEnabled\"\n                          >Record time-lapse when a print finishes successfully.</label\n                        >\n                      </div>\n                    </div>\n                    <div\n                      v-if=\"timelapseOnFinishEnabled\"\n                      class=\"form-inline my-1 checkbox-with-input\"\n                    >\n                      <div class=\"custom-control custom-checkbox\">\n                        Skip if the print is finished in less than\n                      </div>\n                      <number-input\n                        v-model=\"minTimelapseMinutesOnFinish\"\n                        :step=\"5\"\n                        unit=\"minutes\"\n                        class=\"wrappable-field\"\n                      ></number-input>\n                    </div>\n                  </saving-animation>\n                  <saving-animation\n                    :errors=\"errorMessages.min_timelapse_secs_on_cancel\"\n                    :saving=\"saving.min_timelapse_secs_on_cancel\"\n                    class=\"mobile-full-width\"\n                  >\n                    <div class=\"form-inline mt-3 mb-1 checkbox-with-input\">\n                      <div class=\"custom-control custom-checkbox\">\n                        <input\n                          id=\"timelapseOnCancelEnabled\"\n                          v-model=\"timelapseOnCancelEnabled\"\n                          type=\"checkbox\"\n                          class=\"custom-control-input\"\n                        />\n                        <label class=\"custom-control-label\" for=\"timelapseOnCancelEnabled\"\n                          >Record time-lapse when a print is cancelled.</label\n                        >\n                      </div>\n                    </div>\n                    <div\n                      v-if=\"timelapseOnCancelEnabled\"\n                      class=\"form-inline my-1 checkbox-with-input\"\n                    >\n                      <div class=\"custom-control custom-checkbox\">\n                        Skip if the print is cancelled in less than\n                      </div>\n                      <number-input\n                        v-model=\"minTimelapseMinutesOnCancel\"\n                        :step=\"5\"\n                        unit=\"minutes\"\n                        class=\"wrappable-field\"\n                      ></number-input>\n                    </div>\n                  </saving-animation>\n                </div>\n              </section>\n              <section class=\"danger mt-5\">\n                <h2 class=\"section-title\">Danger Zone</h2>\n                <div class=\"mt-4\">\n                  <a class=\"btn btn-outline-secondary\" :href=\"printerWizardUrl\">\n                    Re-Link Printer\n                  </a>\n                  <div class=\"text-muted mt-1\">\n                    <small\n                      >If your printer is always showing as \"offline\", and you have gone through\n                      <a\n                        href=\"https://www.obico.io/docs/user-guides/troubleshoot-server-connection-issues/\"\n                        >all the trouble-shooting steps</a\n                      >, you can try to re-link printer as the last resort.</small\n                    >\n                  </div>\n                </div>\n                <div class=\"mt-4\">\n                  <button class=\"btn btn-outline-warning\" @click=\"archivePrinter\">\n                    Archive Printer\n                  </button>\n                  <div class=\"text-muted mt-1\">\n                    <small\n                      >Archived printers are not counted toward your subscription plan. You won't\n                      see them in the app either. Go to\n                      <a href=\"/ent/printers/archived/\">this page</a> to find all archived printers\n                      and/or un-archive them.</small\n                    >\n                  </div>\n                </div>\n                <div class=\"mt-4\">\n                  <button class=\"btn btn-outline-danger\" @click=\"deletePrinter\">\n                    Delete Printer\n                  </button>\n                  <div class=\"text-muted mt-1\">\n                    <small>Bye-bye printer.</small>\n                  </div>\n                </div>\n              </section>\n            </div>\n          </b-col>\n        </b-row>\n      </b-container>\n\n      <!-- <div class=\"row justify-content-center\">\n        <div class=\"col-sm-11 col-md-10 col-lg-8\">\n\n\n        </div>\n      </div> -->\n    </template>\n  </page-layout>\n</template>\n\n<script>\nimport axios from 'axios'\nimport split from 'lodash/split'\nimport VueSlider from 'vue-slider-component'\n\nimport { normalizedPrinter } from '@src/lib/normalizers'\nimport urls from '@config/server-urls'\nimport SavingAnimation from '@src/components/SavingAnimation.vue'\nimport NumberInput from '@src/components/NumberInput.vue'\nimport PageLayout from '@src/components/PageLayout.vue'\n\nexport default {\n  components: {\n    SavingAnimation,\n    NumberInput,\n    PageLayout,\n    VueSlider,\n  },\n\n  data() {\n    return {\n      printer: null,\n      printerId: '',\n      saving: {},\n      errorMessages: {},\n      delayedSubmit: {\n        // Make pause before sending new value to API\n        name: {\n          delay: 1000,\n          timeoutId: null,\n        },\n        retract_on_pause: {\n          delay: 1000,\n          timeoutId: null,\n        },\n        lift_z_on_pause: {\n          delay: 1000,\n          timeoutId: null,\n        },\n        min_timelapse_secs_on_finish: {\n          delay: 1000,\n          timeoutId: null,\n        },\n        min_timelapse_secs_on_cancel: {\n          delay: 1000,\n          timeoutId: null,\n        },\n      },\n    }\n  },\n\n  computed: {\n    retractFilamentByEnabled: {\n      get() {\n        return this.printer.retract_on_pause > 0\n      },\n      set(newValue) {\n        if (newValue) {\n          this.printer.retract_on_pause = 6.5 // Default retraction value\n        } else {\n          this.printer.retract_on_pause = 0\n        }\n      },\n    },\n    retractOnPause: {\n      get() {\n        return this.printer ? this.printer.retract_on_pause : undefined\n      },\n      set(newValue) {\n        if (this.printer) {\n          this.printer.retract_on_pause = newValue\n        }\n      },\n    },\n    liftExtruderByEnabled: {\n      get() {\n        return this.printer.lift_z_on_pause > 0\n      },\n      set(newValue) {\n        if (newValue) {\n          this.printer.lift_z_on_pause = 2.5 // Default z-lift value\n        } else {\n          this.printer.lift_z_on_pause = 0\n        }\n      },\n    },\n    liftExtruderBy: {\n      get() {\n        return this.printer ? this.printer.lift_z_on_pause : undefined\n      },\n      set(newValue) {\n        if (this.printer) {\n          this.printer.lift_z_on_pause = newValue\n        }\n      },\n    },\n    timelapseOnFinishEnabled: {\n      get() {\n        return this.printer.min_timelapse_secs_on_finish >= 0\n      },\n      set(newValue) {\n        if (newValue) {\n          this.printer.min_timelapse_secs_on_finish = 600\n        } else {\n          this.printer.min_timelapse_secs_on_finish = -1\n        }\n      },\n    },\n    minTimelapseMinutesOnFinish: {\n      get() {\n        return this.printer ? this.printer.min_timelapse_secs_on_finish / 60 : undefined\n      },\n      set(newValue) {\n        if (this.printer) {\n          this.printer.min_timelapse_secs_on_finish = newValue * 60\n        }\n      },\n    },\n    timelapseOnCancelEnabled: {\n      get() {\n        return this.printer.min_timelapse_secs_on_cancel >= 0\n      },\n      set(newValue) {\n        if (newValue) {\n          this.printer.min_timelapse_secs_on_cancel = 300\n        } else {\n          this.printer.min_timelapse_secs_on_cancel = -1\n        }\n      },\n    },\n    minTimelapseMinutesOnCancel: {\n      get() {\n        return this.printer ? this.printer.min_timelapse_secs_on_cancel / 60 : undefined\n      },\n      set(newValue) {\n        if (this.printer) {\n          this.printer.min_timelapse_secs_on_cancel = newValue * 60\n        }\n      },\n    },\n    printerWizardUrl() {\n      return urls.printerWizard(this.printer.id)\n    },\n    printerName: {\n      get: function () {\n        return this.printer ? this.printer.name : undefined\n      },\n      set: function (newValue) {\n        this.printer.name = newValue\n      },\n    },\n    detectiveSensitivity: {\n      get() {\n        return this.printer.detective_sensitivity\n      },\n      set(newValue) {\n        this.printer.detective_sensitivity = newValue\n        this.updateSetting('detective_sensitivity')\n      },\n    },\n  },\n\n  // Watch these properties so that updates can be triggered at key-press, instead of losing focus\n  // To watch deep properties in an object: https://stackoverflow.com/questions/42133894/vue-js-how-to-properly-watch-for-nested-data\n  watch: {\n    printerName: function (newValue, oldValue) {\n      if (oldValue !== undefined) {\n        this.updateSetting('name')\n      }\n    },\n    retractOnPause: function (newValue, oldValue) {\n      if (oldValue !== undefined) {\n        this.changeRetractOnPause(newValue)\n      }\n    },\n    liftExtruderBy: function (newValue, oldValue) {\n      if (oldValue !== undefined) {\n        this.changeLiftExtruderBy(newValue)\n      }\n    },\n    minTimelapseMinutesOnFinish: function (newValue, oldValue) {\n      if (oldValue !== undefined) {\n        this.updateSetting('min_timelapse_secs_on_finish')\n      }\n    },\n    minTimelapseMinutesOnCancel: function (newValue, oldValue) {\n      if (oldValue !== undefined) {\n        this.updateSetting('min_timelapse_secs_on_cancel')\n      }\n    },\n  },\n\n  created() {\n    this.printerId = split(window.location.pathname, '/').slice(-2, -1).pop()\n    this.fetchPrinter()\n  },\n\n  methods: {\n    /**\n     * Get actual printer settings\n     */\n    fetchPrinter() {\n      return axios\n        .get(urls.printer(this.printerId))\n        .then((response) => {\n          this.printer = normalizedPrinter(response.data, this.printer)\n        })\n        .catch((error) => {\n          this._showErrorPopup(error, 'Printer not found')\n        })\n    },\n\n    /**\n     * Update printer settings\n     * @param {String} propName\n     * @param {any} propValue\n     * @param {String} settingsItem\n     */\n    patchPrinter(propName, propValue) {\n      const inputElem = this.getSettingsItemInput(propName, propValue)\n      this.setSavingStatus(inputElem, true)\n\n      // Make request to API\n      return axios\n        .patch(urls.printer(this.printerId), {\n          [propName]: propValue,\n        })\n        .catch((err) => {\n          if (err.response && err.response.data && typeof err.response.data === 'object') {\n            if (err.response.data.non_field_errors) {\n              this.errorAlert(err.response.data.non_field_errors)\n            } else {\n              for (const error in err.response.data) {\n                this.errorMessages[inputElem] = err.response.data[error]\n              }\n            }\n          } else {\n            this.errorAlert()\n          }\n        })\n        .then(() => {\n          this.setSavingStatus(inputElem, false)\n        })\n    },\n\n    /**\n     * Show error alert if can not save settings\n     */\n    errorAlert() {\n      this.$swal.Toast.fire({\n        icon: 'error',\n        html: '<div>Can not update printer settings.</div><div>Get help from <a href=\"https://obico.io/discord\">the Obico app discussion forum</a> if this error persists.</div>',\n      })\n    },\n\n    /**\n     * Update particular settings item\n     * @param {String} settingsItem\n     */\n    updateSetting(settingsItem) {\n      if (settingsItem in this.delayedSubmit) {\n        const delayInfo = this.delayedSubmit[settingsItem]\n        if (delayInfo['timeoutId']) {\n          clearTimeout(delayInfo['timeoutId'])\n        }\n        this.delayedSubmit[settingsItem]['timeoutId'] = setTimeout(() => {\n          this.patchPrinter(settingsItem, this.printer[settingsItem])\n        }, delayInfo['delay'])\n        return\n      }\n\n      this.patchPrinter(settingsItem, this.printer[settingsItem])\n    },\n\n    sensitivityTooltipFormatter: function (value) {\n      if (value < 0.95) {\n        return 'Low'\n      }\n      if (value > 1.05) {\n        return 'High'\n      }\n      return 'Medium'\n    },\n\n    deletePrinter(printer) {\n      this.$swal.Prompt.fire({\n        title: 'Are you sure?',\n        text: `Delete ${this.printer.name} printer? This action can not be undone.`,\n        showCancelButton: true,\n        confirmButtonText: 'Yes',\n        cancelButtonText: 'No',\n      }).then((userAction) => {\n        if (userAction.isConfirmed) {\n          axios.delete(urls.printer(this.printerId) + '?with_archived=true').then(() => {\n            window.location.href = `/printers/`\n          })\n        }\n      })\n    },\n\n    archivePrinter() {\n      this.$swal.Confirm.fire().then((userAction) => {\n        if (userAction.isConfirmed) {\n          axios.post(urls.printerAction(this.printerId, '/archive/')).then(() => {\n            this.$swal.Prompt.fire({\n              title: 'Printer archived',\n              html: `<p>${this.printer.name} is archived.</p><p>You can find it on <a href=\"/ent/printers/archived/\">this page</a> and un-archive it.</p>`,\n              confirmButtonText: 'Go to the printer page',\n            }).then(() => {\n              window.location.href = '/printers/'\n            })\n          })\n        }\n      })\n    },\n\n    /**\n     * Return input element by given name\n     * @param {String} settingsItem\n     * @returns {Object, null}\n     */\n    getSettingsItemInput: function (settingsItem, value = '') {\n      switch (settingsItem) {\n        case 'action_on_failure':\n          return `${settingsItem}_${value}`\n        default:\n          return `${settingsItem}`\n      }\n    },\n\n    /**\n     * Interlayer for saving status control to be able to set same saving status\n     * for 2 or more different inputs grouped to one block\n     * @param {String} propName\n     * @param {String} status\n     */\n    setSavingStatus(propName, status) {\n      if (status) {\n        delete this.errorMessages[propName]\n      }\n      this.$set(this.saving, propName, status)\n    },\n\n    changeRetractOnPause(value) {\n      this.printer.retract_on_pause = value\n      this.updateSetting('retract_on_pause')\n    },\n\n    changeLiftExtruderBy(value) {\n      this.printer.lift_z_on_pause = value\n      this.updateSetting('lift_z_on_pause')\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n@import 'vue-slider-component/lib/theme/default.scss'\n\n.card\n  overflow: visible !important\n\n.custom-control-label\n  font-size: 16px\n\n@media (max-width: 768px)\n  .mobile-full-width\n    width: 100%\n    margin-top: .25em\n    margin-bottom: .4em\n\n.section-title\n  padding-bottom: 10px\n  border-bottom: 1px solid var(--color-text-primary)\n\n.form-label\n  font-size: 18px\n\nsection.danger\n  .section-title\n    color: var(--color-danger)\n    border-color: var(--color-danger)\n\n.form-inline\n  .wrappable-field\n    margin-left: 1.5rem\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterSettingsPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterSettingsPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrinterSettingsPage.vue?vue&type=template&id=4081d699&scoped=true&\"\nimport script from \"./PrinterSettingsPage.vue?vue&type=script&lang=js&\"\nexport * from \"./PrinterSettingsPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrinterSettingsPage.vue?vue&type=style&index=0&id=4081d699&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4081d699\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('page-layout',{scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('b-container',[_c('b-row',[_c('b-col',[_c('div',{staticClass:\"wizard-container form-container full-on-mobile\"},[(_vm.verifiedPrinter)?_c('div',{staticClass:\"text-center py-5\"},[_c('svg',{staticClass:\"success-checkmark\"},[_c('use',{attrs:{\"href\":\"#svg-success-checkmark\"}})]),_c('h3',{staticClass:\"pb-4\"},[_vm._v(\"Successfully linked to your account!\")]),_c('div',{staticClass:\"col-sm-12 col-md-8 offset-md-2 col-lg-6 offset-lg-3 d-flex flex-column align-center justify-content-center\"},[_c('saving-animation',{attrs:{\"errors\":_vm.errorMessages.printer_name,\"saving\":_vm.saving.printer_name}},[_c('div',{staticClass:\"printer-name-input\"},[_c('div',{staticClass:\"edit-icon\"},[_c('i',{staticClass:\"fas fa-pen\"})]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.verifiedPrinter.name),expression:\"verifiedPrinter.name\"}],staticClass:\"dark\",attrs:{\"type\":\"text\",\"placeholder\":\"Printer name\"},domProps:{\"value\":(_vm.verifiedPrinter.name)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.$set(_vm.verifiedPrinter, \"name\", $event.target.value)},_vm.updatePrinterName]}})])]),_c('div',[_c('div',{staticClass:\"text-muted mx-auto text-center font-weight-light\"},[_vm._v(\" Give your printer a shiny name. \")])])],1),_c('br'),_c('br'),_c('div',{staticClass:\"col-sm-12 col-md-8 offset-md-2 col-lg-6 offset-lg-3 d-flex flex-column align-center justify-content-center\"},[(_vm.redirectToTunnelCreation)?_c('div',{staticClass:\"mt-4\"},[_c('a',{staticClass:\"btn btn-primary btn-block mx-auto btn-lg\",attrs:{\"href\":_vm.redirectToTunnelCreation}},[_vm._v(\"Authorize App Access\")])]):_c('div',[_c('div',{staticClass:\"mt-4\"},[_c('a',{staticClass:\"btn btn-primary btn-block mx-auto btn-lg\",attrs:{\"href\":\"/printers/\"}},[_vm._v(\"Go Check Out Printer Feed!\")])]),_c('div',{staticClass:\"mt-5\"},[_c('a',{staticClass:\"btn btn-outline-secondary btn-block mx-auto\",attrs:{\"href\":\"/user_preferences/notification_twilio/\"}},[_vm._v(\"Add Phone Number\")])]),_c('div',[_c('div',{staticClass:\"text-muted mx-auto text-center font-weight-light\"},[_vm._v(\" Receive text (SMS) in case of print failures. \")])]),_c('div',{staticClass:\"mt-4\"},[_c('a',{staticClass:\"btn btn-outline-secondary btn-block mx-auto\",attrs:{\"href\":_vm.editPrinterUrl}},[_vm._v(\"Change Printer Settings\")])]),_c('div',[_c('div',{staticClass:\"text-muted mx-auto text-center font-weight-light\"},[_vm._v(\" You can always change it later. \")])])])])]):_c('div',[(_vm.$route.path === _vm.routes.printerWizardSetup)?_c('div',[_c('form-wizard',{attrs:{\"color\":\"var(--color-primary)\",\"step-size\":\"sm\"},scopedSlots:_vm._u([{key:\"footer\",fn:function(props){return [_c('div',{staticClass:\"wizard-footer-left\"},[(props.activeTabIndex > 0)?_c('wizard-button',{staticClass:\"btn btn-link btn-back\",nativeOn:{\"click\":function($event){props.prevTab()\n                            _vm.prevTab(props.activeTabIndex)}}},[_vm._v(\"< Back\")]):_vm._e()],1),_c('div',{staticClass:\"wizard-footer-right\"},[(!props.isLastStep)?_c('wizard-button',{staticClass:\"wizard-footer-right wizard-btn\",style:({ ...props.fillButtonStyle, color: 'var(--color-on-primary)' }),nativeOn:{\"click\":function($event){props.nextTab()\n                            _vm.nextTab(props.activeTabIndex)}}},[_vm._v(\"Next >\")]):_vm._e()],1)]}}],null,false,2853193433)},[_c('h3',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),(_vm.targetMoonraker)?_c('tab-content',{attrs:{\"title\":\"Install Obico for Klipper\"}},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-content-center pb-3\"},[_c('div',{staticClass:\"col-sm-12 col-lg-8\"},[_c('ol',[_c('li',[_vm._v(\"SSH to the Raspberry Pi your Klipper runs on.\")]),_c('li',[_c('div',[_vm._v(\"Run:\")]),_c('pre',{staticClass:\"mt-2\"},[_vm._v(\"cd ~\\ngit clone https://github.com/TheSpaghettiDetective/moonraker-obico.git\\ncd moonraker-obico\\n./install.sh\\n                              \")])]),_c('li',[_vm._v(\"Follow the installation steps.\")]),_c('li',[_vm._v(\" At the end, you will be asked to enter a 6-digit verification code. \")])])])])])]):_vm._e(),(_vm.printerIdToLink && _vm.targetOctoPrint)?_c('tab-content',{attrs:{\"title\":\"Open Plugin Settings\"}},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-content-center pb-3\"},[_c('div',{staticClass:\"col-sm-12 col-lg-8\"},[_c('div',{staticClass:\"text-warning\"},[_vm._v(\" Warning: Re-Linking OctoPrint should be your last resort to solve issues. Please make sure you have exhausted all options on \"),_c('a',{attrs:{\"href\":\"https://www.obico.io/help/\"}},[_vm._v(\"Obico's help website\")]),_vm._v(\". \")]),_c('ol',[_c('li',[_vm._v(\"Open OctoPrint in another browser tab.\")]),_c('li',[_vm._v(\" Select \"),_c('em',[_vm._v(\"\\\"OctoPrint settings menu → Obico for OctoPrint\\\"\")]),_vm._v(\". \")]),_c('li',[_vm._v(\"Select \"),_c('em',[_vm._v(\"\\\"Troubleshooting → Re-run Wizard\\\"\")]),_vm._v(\".\")])])])]),_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-sm-12 col-lg-8 img-container\"},[_c('img',{staticClass:\"mx-auto\",attrs:{\"src\":require('@static/img/octoprint-plugin-guide/plugin_rerun_setup.png')}})])])])]):_vm._e(),(!_vm.printerIdToLink && _vm.targetOctoPrint)?_c('tab-content',{attrs:{\"title\":\"Install Plugin\"}},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-content-center pb-3\"},[_c('div',{staticClass:\"col-sm-12 col-lg-8\"},[_c('ol',[_c('li',[_vm._v(\"Open OctoPrint in another browser tab.\")]),_c('li',[_vm._v(\" Select \"),_c('em',[_vm._v(\"\\\"OctoPrint settings menu → Plugin Manager → Get More...\\\"\")]),_vm._v(\". \")]),_c('li',[_vm._v(\"Enter \\\"Obico\\\" to locate the plugin. Click \"),_c('em',[_vm._v(\"\\\"Install\\\"\")]),_vm._v(\".\")]),_c('li',[_vm._v(\"Restart OctoPrint when prompted.\")])])])]),_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-sm-12 col-lg-8 img-container\"},[_c('img',{staticClass:\"mx-auto screenshot\",attrs:{\"src\":require('@static/img/octoprint-plugin-guide/install_plugin.png')},on:{\"click\":function($event){return _vm.zoomIn($event)}}})])])])]):_vm._e(),(_vm.discoveryEnabled)?[(_vm.targetOctoPrint)?_c('tab-content',{attrs:{\"title\":\"Link It!\"}},[_c('loading',{attrs:{\"active\":_vm.chosenDeviceId != null,\"can-cancel\":false}}),_c('div',{staticClass:\"discover\"},[_c('div',{staticClass:\"discover-body\"},[(!_vm.canStartLinking)?_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('div',{staticClass:\"spinner-border big\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"})]),_c('div',{staticClass:\"lead\"},[_vm._v(\"Scanning...\")])]):_c('div',[_c('div',{staticClass:\"lead my-3\"},[_c('div',{staticClass:\"spinner-border\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"})]),_c('span',{staticClass:\"sr-only\"}),_vm._v(\"Scanning..., \"+_vm._s(_vm.discoveredPrinters.length)+\" OctoPrint(s) found on your local network: \")]),_vm._l((_vm.discoveredPrinters),function(discoveredPrinter){return _c('discovered-printer',{key:discoveredPrinter.device_id,attrs:{\"discovered-printer\":discoveredPrinter},on:{\"auto-link-printer\":_vm.autoLinkPrinter}})})],2),_c('div',{staticClass:\"mt-5 mb-3\"},[_vm._v(\" Can't find the OctoPrint you want to link? Switch to \"),_c('a',{staticClass:\"link\",on:{\"click\":function($event){_vm.discoveryEnabled = false}}},[_vm._v(\"Manual Setup\")]),_vm._v(\" instead. \")]),(_vm.discoveryCount >= 2)?_c('div',{staticClass:\"text-muted\"},[_c('div',[_vm._v(\"To link your OctoPrint, please make sure:\")]),_c('ul',[_c('li',[_vm._v(\"The Raspberry Pi is powered on.\")]),_c('li',[_vm._v(\" The Raspberry Pi is connected to the same local network as your phone/computer. \")]),_c('li',[_vm._v(\"The Obico plugin version is 1.8.0 or above.\")])])]):_vm._e()])])],1):_vm._e()]:[(_vm.targetOctoPrint)?_c('tab-content',{attrs:{\"title\":\"Plugin Wizard\"}},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-content-center pb-3\"},[_c('div',{staticClass:\"col-sm-12 col-lg-8\"},[_c('ol',[_c('li',[_vm._v(\"Wait for \"),_c('em',[_vm._v(\"\\\"Obico for OctoPrint\\\"\")]),_vm._v(\" wizard to popup.\")]),_c('li',[_vm._v(\"Follow the instructions in the wizard.\")]),_c('li',[_vm._v(\"Select \"),_c('em',[_vm._v(\"\\\"Web Setup\\\"\")]),_vm._v(\" when asked.\")])])])]),_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-sm-12 col-lg-8 img-container\"},[_c('img',{staticClass:\"mx-auto screenshot\",attrs:{\"src\":require('@static/img/octoprint-plugin-guide/plugin_wizard_websetup.png')},on:{\"click\":function($event){return _vm.zoomIn($event)}}})])])])]):_vm._e(),_c('tab-content',{attrs:{\"title\":\"Enter Code\"}},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-content-center pb-3\"},[_c('div',{staticClass:\"col-sm-12 col-lg-8 d-flex flex-column align-items-center\"},[_c('input',{ref:\"code\",staticClass:\"code-btn\",attrs:{\"disabled\":\"\"},domProps:{\"value\":`${_vm.verificationCode && _vm.verificationCode.code}`}}),_c('small',{staticClass:\"mx-auto py-1\",class:{ 'text-muted': !_vm.copied }},[_vm._v(_vm._s(_vm.copied ? 'Code copied to system clipboard' : 'Ctrl-C/Cmd-C to copy the code'))]),_c('div',{staticClass:\"mx-auto pt-1 pb-4\"},[_c('span',{staticClass:\"text-muted\"},[_vm._v(\"Code will expire in \")]),_vm._v(_vm._s(_vm.timeToExpire)+\" \")]),_c('div',{staticClass:\"lead\"},[_vm._v(\" Enter the \"),_c('strong',[_vm._v(\"6-digit verification code\")])])])]),_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-sm-12 col-lg-8 img-container\"},[(_vm.targetOctoPrint)?_c('img',{staticClass:\"screenshot\",attrs:{\"src\":require('@static/img/octoprint-plugin-guide/plugin_verification_code.png')},on:{\"click\":function($event){return _vm.zoomIn($event)}}}):_vm._e(),(_vm.targetMoonraker)?_c('img',{staticClass:\"screenshot\",attrs:{\"src\":require('@static/img/octoprint-plugin-guide/moonraker_verification_code.png')},on:{\"click\":function($event){return _vm.zoomIn($event)}}}):_vm._e(),_c('div',{staticClass:\"helper mx-auto py-2\"},[_c('a',{staticClass:\"link font-weight-bold\",on:{\"click\":_vm.showVerificationCodeHelpModal}},[_vm._v(\"Can't find the page to enter the 6-digit code?\")])])])])])])]],2),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"helper col-sm-12\"},[_vm._v(\" Need help? Check out the \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":_vm.targetMoonraker\n                            ? 'https://www.obico.io/docs/user-guides/klipper-setup/'\n                            : 'https://www.obico.io/docs/user-guides/octoprint-plugin-setup/'}},[_vm._v(\"step-by-step set up guide.\")])])])],1):_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('h3',{staticClass:\"col-sm-12 text-center p-3\"},[_vm._v(\"Which platform are you using?\")])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-12 col-lg-6 p-4\"},[_c('div',{staticClass:\"wizard-card\",on:{\"click\":function($event){return _vm.setTargetPlatform('octoprint')}}},[_c('img',{attrs:{\"src\":require('@static/img/octoprint_logo.png')}}),_c('h3',{staticClass:\"mt-4\"},[_vm._v(\"OctoPrint\")]),_c('div',[_vm._v(\"Including OctoPrint for Klipper such as OctoKlipper.\")])])]),_c('div',{staticClass:\"col-sm-12 col-lg-6 p-4\"},[_c('div',{staticClass:\"wizard-card\",on:{\"click\":function($event){return _vm.setTargetPlatform('moonraker')}}},[_c('div',[_c('img',{attrs:{\"src\":require('@static/img/klipper_logo.jpg')}}),_c('img',{attrs:{\"src\":require('@static/img/mainsail_logo.png')}}),_c('img',{attrs:{\"src\":require('@static/img/fluidd_logo.png')}})]),_c('h3',{staticClass:\"mt-4\"},[_vm._v(\"Klipper\")]),_c('h5',[_vm._v(\"with Mainsail/Fluidd/Moonraker\")])])])])])])])])],1)],1)]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"discovered-printers mt-4\"},[_c('div',{staticClass:\"flex-grow-0 pt-1 mr-2\"},[(_vm.discoveredPrinter.rpi_model)?_c('img',{staticClass:\"logo-img\",attrs:{\"src\":require('@static/img/raspberry_pi.png')}}):_c('img',{staticClass:\"logo-img\",attrs:{\"src\":require('@static/img/octoprint_logo.png')}})]),_c('div',{staticClass:\"row flex-grow-1 ml-1 link-action\"},[_c('div',{staticClass:\"col-sm-12 col-md-10 pb-2\"},[(_vm.discoveredPrinter.rpi_model)?_c('div',[_vm._v(\" \"+_vm._s(_vm.discoveredPrinter.rpi_model)+\" \")]):_vm._e(),(_vm.discoveredPrinter.machine_type)?_c('div',[_vm._v(\" \"+_vm._s(_vm.discoveredPrinter.machine_type)+\" \")]):_vm._e(),(_vm.discoveredPrinter.agent)?_c('div',{staticClass:\"text-muted small\"},[_vm._v(\" Platform: \"+_vm._s(_vm.discoveredPrinter.agent)+\" \")]):_vm._e(),(_vm.discoveredPrinter.host_or_ip)?_c('div',{staticClass:\"text-muted small\"},[_vm._v(\" IP address: \"+_vm._s(_vm.discoveredPrinter.host_or_ip)+\" \")]):_vm._e(),(_vm.discoveredPrinter.hostname)?_c('div',{staticClass:\"text-muted small\"},[_vm._v(\" Hostname: \"+_vm._s(_vm.discoveredPrinter.hostname)+\" \")]):_vm._e(),(_vm.discoveredPrinter.octopi_version)?_c('div',{staticClass:\"text-muted small\"},[_vm._v(\" OctoPi: \"+_vm._s(_vm.discoveredPrinter.octopi_version)+\" \")]):_vm._e(),(!_vm.discoveredPrinter.octopi_version && _vm.discoveredPrinter.os)?_c('div',{staticClass:\"text-muted small\"},[_vm._v(\" OS: \"+_vm._s(_vm.discoveredPrinter.os)+\" \")]):_vm._e()]),_c('div',{staticClass:\"col-sm-12 col-md-2 center px-3\"},[_c('button',{staticClass:\"btn btn-block btn-primary\",on:{\"click\":function($event){return _vm.$emit('auto-link-printer', { ..._vm.discoveredPrinter })}}},[_vm._v(\" Link \")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"discovered-printers mt-4\">\n    <div class=\"flex-grow-0 pt-1 mr-2\">\n      <img\n        v-if=\"discoveredPrinter.rpi_model\"\n        class=\"logo-img\"\n        :src=\"require('@static/img/raspberry_pi.png')\"\n      />\n      <img v-else class=\"logo-img\" :src=\"require('@static/img/octoprint_logo.png')\" />\n    </div>\n    <div class=\"row flex-grow-1 ml-1 link-action\">\n      <div class=\"col-sm-12 col-md-10 pb-2\">\n        <div v-if=\"discoveredPrinter.rpi_model\">\n          {{ discoveredPrinter.rpi_model }}\n        </div>\n        <div v-if=\"discoveredPrinter.machine_type\">\n          {{ discoveredPrinter.machine_type }}\n        </div>\n        <div v-if=\"discoveredPrinter.agent\" class=\"text-muted small\">\n          Platform: {{ discoveredPrinter.agent }}\n        </div>\n        <div v-if=\"discoveredPrinter.host_or_ip\" class=\"text-muted small\">\n          IP address: {{ discoveredPrinter.host_or_ip }}\n        </div>\n        <div v-if=\"discoveredPrinter.hostname\" class=\"text-muted small\">\n          Hostname: {{ discoveredPrinter.hostname }}\n        </div>\n        <div v-if=\"discoveredPrinter.octopi_version\" class=\"text-muted small\">\n          OctoPi: {{ discoveredPrinter.octopi_version }}\n        </div>\n        <div\n          v-if=\"!discoveredPrinter.octopi_version && discoveredPrinter.os\"\n          class=\"text-muted small\"\n        >\n          OS: {{ discoveredPrinter.os }}\n        </div>\n      </div>\n      <div class=\"col-sm-12 col-md-2 center px-3\">\n        <button\n          class=\"btn btn-block btn-primary\"\n          @click=\"$emit('auto-link-printer', { ...discoveredPrinter })\"\n        >\n          Link\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'DiscoveredPrinter',\n  props: {\n    discoveredPrinter: {\n      type: Object,\n      required: true,\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\">\n.discovered-printers\n  display: flex\n  flex-direction: columns\n\n  .logo-img\n    height: 3.5rem\n\n  .link-action\n    border-left: solid thin\n\n.center\n  display: flex\n  justify-content: center\n  align-items: center\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiscoveredPrinter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiscoveredPrinter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DiscoveredPrinter.vue?vue&type=template&id=4f696e27&\"\nimport script from \"./DiscoveredPrinter.vue?vue&type=script&lang=js&\"\nexport * from \"./DiscoveredPrinter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DiscoveredPrinter.vue?vue&type=style&index=0&id=4f696e27&prod&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"px-2\"},[_c('div',{staticClass:\"title-pic\"},[_c('img',{staticClass:\"pic-item\",attrs:{\"src\":require('@static/img/webpage-multiple.svg')}}),_vm._m(0),_c('img',{staticClass:\"pic-item\",attrs:{\"src\":require('@static/img/octoprint_logo.png')}})]),_vm._m(1),_c('div',[_c('div',{staticClass:\"row my-2\"},[_c('div',{staticClass:\"col-sm-6\"},[_c('button',{staticClass:\"btn btn-block btn-primary mt-2\",attrs:{\"disabled\":_vm.linking},on:{\"click\":_vm.autoLinkPrinter}},[(_vm.linking)?_c('b-spinner',{attrs:{\"small\":\"\"}}):_vm._e(),_vm._v(\"Link Now \"),_c('i',{staticClass:\"fas fa-external-link-alt\"})],1)]),_c('div',{staticClass:\"col-sm-6\"},[_c('button',{staticClass:\"btn btn-block btn-secondary mt-2\",on:{\"click\":_vm.cancel}},[_vm._v(\"Cancel\")])])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"pic-item\"},[_c('i',{staticClass:\"fas fa-ellipsis-h fa-2x\"}),_c('i',{staticClass:\"fas fa-ellipsis-h fa-2x\"})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"my-4\"},[_c('p',[_vm._v(\"The Obico app needs to make sure you have access to selected OctoPrint.\")]),_c('p',[_vm._v(\" When you press \\\"Link Now\\\" button below, a new browser window will pop up to finish a handshake with this OctoPrint. \")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"px-2\">\n    <div class=\"title-pic\">\n      <img class=\"pic-item\" :src=\"require('@static/img/webpage-multiple.svg')\" />\n      <div class=\"pic-item\">\n        <i class=\"fas fa-ellipsis-h fa-2x\"></i>\n        <i class=\"fas fa-ellipsis-h fa-2x\"></i>\n      </div>\n      <img class=\"pic-item\" :src=\"require('@static/img/octoprint_logo.png')\" />\n    </div>\n    <div class=\"my-4\">\n      <p>The Obico app needs to make sure you have access to selected OctoPrint.</p>\n      <p>\n        When you press \"Link Now\" button below, a new browser window will pop up to finish a\n        handshake with this OctoPrint.\n      </p>\n    </div>\n    <div>\n      <div class=\"row my-2\">\n        <div class=\"col-sm-6\">\n          <button\n            class=\"btn btn-block btn-primary mt-2\"\n            :disabled=\"linking\"\n            @click=\"autoLinkPrinter\"\n          >\n            <b-spinner v-if=\"linking\" small></b-spinner>Link Now&nbsp;<i\n              class=\"fas fa-external-link-alt\"\n            ></i>\n          </button>\n        </div>\n        <div class=\"col-sm-6\">\n          <button class=\"btn btn-block btn-secondary mt-2\" @click=\"cancel\">Cancel</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'AutoLinkPopup',\n  props: {\n    discoveredPrinter: {\n      type: Object,\n      required: true,\n    },\n    switchToManualLinking: {\n      type: Function,\n      required: true,\n    },\n    secretObtained: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      linking: false,\n    }\n  },\n\n  mounted() {\n    window.addEventListener('message', this.gotWindowMessage)\n  },\n\n  beforeDestroy() {\n    window.removeEventListener('message', this.gotWindowMessage)\n  },\n\n  methods: {\n    autoLinkPrinter() {\n      this.linking = true\n      this.gotSecret = null\n\n      this.obicoDiscoveryPopup = window.open(\n        this.destUrl(),\n        '_blank',\n        'toolbar=no,location=no,status=no,menubar=no,scrollbars=no,resizable=no,width=500,height=100'\n      )\n\n      if (!this.obicoDiscoveryPopup) {\n        this.cancel()\n        this.$swal.Prompt.fire({\n          icon: 'error',\n          title: 'Oops!',\n          html: '<p>Handshake failed because the pop-up was blcoked.</p><p>Please unblock the pop-up in your browser and try it again.</p>',\n          confirmButtonText: 'Okay!',\n          showCancelButton: true,\n          cancelButtonText: 'Switch to Manual Setup',\n        }).then((result) => {\n          if (result.isDismissed && result.dismiss === 'cancel') {\n            this.switchToManualLinking()\n          }\n        })\n        return\n      }\n\n      setTimeout(() => {\n        this.closeDiscoveryPopup()\n\n        if (!this.gotSecret) {\n          this.cancel()\n          this.$swal.Prompt.fire({\n            icon: 'error',\n            title: 'Handshake failed!',\n            html: `<p>Please make sure:</p>\n              <ul>\n                <li>The OctoPrint you want to link is at ${this.discoveredPrinter.host_or_ip}:${this.discoveredPrinter.port}, and it's connected to the same local network as your computer/phone.</li>\n                <li>The version of plugin is 1.8.0 or above.</li>\n              </ul>`,\n            confirmButtonText: 'Okay!',\n            showCancelButton: true,\n            cancelButtonText: 'Switch to Manual Setup',\n          }).then((result) => {\n            if (result.isDismissed && result.dismiss === 'cancel') {\n              this.switchToManualLinking()\n            }\n          })\n        }\n      }, 5000)\n    },\n\n    destUrl() {\n      const pluginName = this.discoveredPrinter.agent ? 'obico' : 'thespaghettidetective'\n      return `http://${this.discoveredPrinter.host_or_ip}:${\n        this.discoveredPrinter.port || '80'\n      }/plugin/${pluginName}/grab-discovery-secret?device_id=${this.discoveredPrinter.device_id}`\n    },\n\n    switchToManual() {\n      this.cancel()\n      this.switchToManualLinking()\n    },\n\n    closeDiscoveryPopup() {\n      if (this.obicoDiscoveryPopup) {\n        this.obicoDiscoveryPopup.close()\n        this.obicoDiscoveryPopup = null\n      }\n    },\n\n    gotWindowMessage(ev) {\n      const data = { ...(ev?.data || {}) }\n      if (this.gotSecret || !this.discoveredPrinter.device_id || !data.device_secret) {\n        console.log('Ignored message', ev)\n        return\n      }\n\n      this.gotSecret = data\n      this.secretObtained(this.discoveredPrinter.device_id, data.device_secret)\n      this.cancel()\n    },\n\n    cancel() {\n      this.closeDiscoveryPopup()\n      this.$swal.close()\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n\n.title-pic\n  display: flex\n  margin: 1.5rem 0\n  justify-content: center\n\n  .pic-item\n    height: 3rem\n    margin: 0 0.5rem\n\n  img\n    filter: grayscale(100%)\n  i\n    color: #888888\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AutoLinkPopup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AutoLinkPopup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AutoLinkPopup.vue?vue&type=template&id=7fccd11b&scoped=true&\"\nimport script from \"./AutoLinkPopup.vue?vue&type=script&lang=js&\"\nexport * from \"./AutoLinkPopup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AutoLinkPopup.vue?vue&type=style&index=0&id=7fccd11b&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7fccd11b\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <page-layout>\n    <template #content>\n      <b-container>\n        <b-row>\n          <b-col>\n            <div class=\"wizard-container form-container full-on-mobile\">\n              <div v-if=\"verifiedPrinter\" class=\"text-center py-5\">\n                <svg class=\"success-checkmark\">\n                  <use href=\"#svg-success-checkmark\" />\n                </svg>\n                <h3 class=\"pb-4\">Successfully linked to your account!</h3>\n                <div\n                  class=\"col-sm-12 col-md-8 offset-md-2 col-lg-6 offset-lg-3 d-flex flex-column align-center justify-content-center\"\n                >\n                  <saving-animation\n                    :errors=\"errorMessages.printer_name\"\n                    :saving=\"saving.printer_name\"\n                  >\n                    <div class=\"printer-name-input\">\n                      <div class=\"edit-icon\">\n                        <i class=\"fas fa-pen\"></i>\n                      </div>\n                      <input\n                        v-model=\"verifiedPrinter.name\"\n                        type=\"text\"\n                        class=\"dark\"\n                        placeholder=\"Printer name\"\n                        @input=\"updatePrinterName\"\n                      />\n                    </div>\n                  </saving-animation>\n                  <div>\n                    <div class=\"text-muted mx-auto text-center font-weight-light\">\n                      Give your printer a shiny name.\n                    </div>\n                  </div>\n                </div>\n                <br /><br />\n                <div\n                  class=\"col-sm-12 col-md-8 offset-md-2 col-lg-6 offset-lg-3 d-flex flex-column align-center justify-content-center\"\n                >\n                  <div v-if=\"redirectToTunnelCreation\" class=\"mt-4\">\n                    <a\n                      :href=\"redirectToTunnelCreation\"\n                      class=\"btn btn-primary btn-block mx-auto btn-lg\"\n                      >Authorize App Access</a\n                    >\n                  </div>\n                  <div v-else>\n                    <div class=\"mt-4\">\n                      <a href=\"/printers/\" class=\"btn btn-primary btn-block mx-auto btn-lg\"\n                        >Go Check Out Printer Feed!</a\n                      >\n                    </div>\n                    <div class=\"mt-5\">\n                      <a\n                        href=\"/user_preferences/notification_twilio/\"\n                        class=\"btn btn-outline-secondary btn-block mx-auto\"\n                        >Add Phone Number</a\n                      >\n                    </div>\n                    <div>\n                      <div class=\"text-muted mx-auto text-center font-weight-light\">\n                        Receive text (SMS) in case of print failures.\n                      </div>\n                    </div>\n                    <div class=\"mt-4\">\n                      <a :href=\"editPrinterUrl\" class=\"btn btn-outline-secondary btn-block mx-auto\"\n                        >Change Printer Settings</a\n                      >\n                    </div>\n                    <div>\n                      <div class=\"text-muted mx-auto text-center font-weight-light\">\n                        You can always change it later.\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div v-else>\n                <div v-if=\"$route.path === routes.printerWizardSetup\">\n                  <form-wizard color=\"var(--color-primary)\" step-size=\"sm\">\n                    <h3 slot=\"title\">\n                      {{ title }}\n                    </h3>\n\n                    <tab-content v-if=\"targetMoonraker\" title=\"Install Obico for Klipper\">\n                      <div class=\"container\">\n                        <div class=\"row justify-content-center pb-3\">\n                          <div class=\"col-sm-12 col-lg-8\">\n                            <ol>\n                              <li>SSH to the Raspberry Pi your Klipper runs on.</li>\n                              <li>\n                                <div>Run:</div>\n                                <pre class=\"mt-2\">\ncd ~\ngit clone https://github.com/TheSpaghettiDetective/moonraker-obico.git\ncd moonraker-obico\n./install.sh\n                              </pre\n                                >\n                              </li>\n                              <li>Follow the installation steps.</li>\n                              <li>\n                                At the end, you will be asked to enter a 6-digit verification code.\n                              </li>\n                            </ol>\n                          </div>\n                        </div>\n                      </div>\n                    </tab-content>\n                    <tab-content\n                      v-if=\"printerIdToLink && targetOctoPrint\"\n                      title=\"Open Plugin Settings\"\n                    >\n                      <div class=\"container\">\n                        <div class=\"row justify-content-center pb-3\">\n                          <div class=\"col-sm-12 col-lg-8\">\n                            <div class=\"text-warning\">\n                              Warning: Re-Linking OctoPrint should be your last resort to solve\n                              issues. Please make sure you have exhausted all options on\n                              <a href=\"https://www.obico.io/help/\">Obico's help website</a>.\n                            </div>\n                            <ol>\n                              <li>Open OctoPrint in another browser tab.</li>\n                              <li>\n                                Select <em>\"OctoPrint settings menu → Obico for OctoPrint\"</em>.\n                              </li>\n                              <li>Select <em>\"Troubleshooting → Re-run Wizard\"</em>.</li>\n                            </ol>\n                          </div>\n                        </div>\n                        <div class=\"row justify-content-center\">\n                          <div class=\"col-sm-12 col-lg-8 img-container\">\n                            <img\n                              class=\"mx-auto\"\n                              :src=\"\n                                require('@static/img/octoprint-plugin-guide/plugin_rerun_setup.png')\n                              \"\n                            />\n                          </div>\n                        </div>\n                      </div>\n                    </tab-content>\n                    <tab-content v-if=\"!printerIdToLink && targetOctoPrint\" title=\"Install Plugin\">\n                      <div class=\"container\">\n                        <div class=\"row justify-content-center pb-3\">\n                          <div class=\"col-sm-12 col-lg-8\">\n                            <ol>\n                              <li>Open OctoPrint in another browser tab.</li>\n                              <li>\n                                Select\n                                <em>\"OctoPrint settings menu → Plugin Manager → Get More...\"</em>.\n                              </li>\n                              <li>Enter \"Obico\" to locate the plugin. Click <em>\"Install\"</em>.</li>\n                              <li>Restart OctoPrint when prompted.</li>\n                            </ol>\n                          </div>\n                        </div>\n                        <div class=\"row justify-content-center\">\n                          <div class=\"col-sm-12 col-lg-8 img-container\">\n                            <img\n                              class=\"mx-auto screenshot\"\n                              :src=\"\n                                require('@static/img/octoprint-plugin-guide/install_plugin.png')\n                              \"\n                              @click=\"zoomIn($event)\"\n                            />\n                          </div>\n                        </div>\n                      </div>\n                    </tab-content>\n                    <template v-if=\"discoveryEnabled\">\n                      <tab-content v-if=\"targetOctoPrint\" title=\"Link It!\">\n                        <loading :active=\"chosenDeviceId != null\" :can-cancel=\"false\"> </loading>\n                        <div class=\"discover\">\n                          <div class=\"discover-body\">\n                            <div v-if=\"!canStartLinking\" style=\"text-align: center\">\n                              <div class=\"spinner-border big\" role=\"status\">\n                                <span class=\"sr-only\"></span>\n                              </div>\n                              <div class=\"lead\">Scanning...</div>\n                            </div>\n                            <div v-else>\n                              <div class=\"lead my-3\">\n                                <div class=\"spinner-border\" role=\"status\">\n                                  <span class=\"sr-only\"></span>\n                                </div>\n                                <span class=\"sr-only\"></span>Scanning...,\n                                {{ discoveredPrinters.length }} OctoPrint(s) found on your local\n                                network:\n                              </div>\n                              <discovered-printer\n                                v-for=\"discoveredPrinter in discoveredPrinters\"\n                                :key=\"discoveredPrinter.device_id\"\n                                :discovered-printer=\"discoveredPrinter\"\n                                @auto-link-printer=\"autoLinkPrinter\"\n                              />\n                            </div>\n                            <div class=\"mt-5 mb-3\">\n                              Can't find the OctoPrint you want to link? Switch to\n                              <a class=\"link\" @click=\"discoveryEnabled = false\">Manual Setup</a>\n                              instead.\n                            </div>\n                            <div v-if=\"discoveryCount >= 2\" class=\"text-muted\">\n                              <div>To link your OctoPrint, please make sure:</div>\n                              <ul>\n                                <li>The Raspberry Pi is powered on.</li>\n                                <li>\n                                  The Raspberry Pi is connected to the same local network as your\n                                  phone/computer.\n                                </li>\n                                <li>The Obico plugin version is 1.8.0 or above.</li>\n                              </ul>\n                            </div>\n                          </div>\n                        </div>\n                      </tab-content>\n                    </template>\n                    <template v-else>\n                      <tab-content v-if=\"targetOctoPrint\" title=\"Plugin Wizard\">\n                        <div class=\"container\">\n                          <div class=\"row justify-content-center pb-3\">\n                            <div class=\"col-sm-12 col-lg-8\">\n                              <ol>\n                                <li>Wait for <em>\"Obico for OctoPrint\"</em> wizard to popup.</li>\n                                <li>Follow the instructions in the wizard.</li>\n                                <li>Select <em>\"Web Setup\"</em> when asked.</li>\n                              </ol>\n                            </div>\n                          </div>\n                          <div class=\"row justify-content-center\">\n                            <div class=\"col-sm-12 col-lg-8 img-container\">\n                              <img\n                                class=\"mx-auto screenshot\"\n                                :src=\"\n                                  require('@static/img/octoprint-plugin-guide/plugin_wizard_websetup.png')\n                                \"\n                                @click=\"zoomIn($event)\"\n                              />\n                            </div>\n                          </div>\n                        </div>\n                      </tab-content>\n                      <tab-content title=\"Enter Code\">\n                        <div class=\"container\">\n                          <div class=\"row justify-content-center pb-3\">\n                            <div class=\"col-sm-12 col-lg-8 d-flex flex-column align-items-center\">\n                              <input\n                                ref=\"code\"\n                                disabled\n                                class=\"code-btn\"\n                                :value=\"`${verificationCode && verificationCode.code}`\"\n                              />\n                              <small class=\"mx-auto py-1\" :class=\"{ 'text-muted': !copied }\">{{\n                                copied\n                                  ? 'Code copied to system clipboard'\n                                  : 'Ctrl-C/Cmd-C to copy the code'\n                              }}</small>\n                              <div class=\"mx-auto pt-1 pb-4\">\n                                <span class=\"text-muted\">Code will expire in </span\n                                >{{ timeToExpire }}\n                              </div>\n                              <div class=\"lead\">\n                                Enter the <strong>6-digit verification code</strong>\n                              </div>\n                            </div>\n                          </div>\n                          <div class=\"row justify-content-center\">\n                            <div class=\"col-sm-12 col-lg-8 img-container\">\n                              <img\n                                v-if=\"targetOctoPrint\"\n                                class=\"screenshot\"\n                                :src=\"\n                                  require('@static/img/octoprint-plugin-guide/plugin_verification_code.png')\n                                \"\n                                @click=\"zoomIn($event)\"\n                              />\n                              <img\n                                v-if=\"targetMoonraker\"\n                                class=\"screenshot\"\n                                :src=\"\n                                  require('@static/img/octoprint-plugin-guide/moonraker_verification_code.png')\n                                \"\n                                @click=\"zoomIn($event)\"\n                              />\n                              <div class=\"helper mx-auto py-2\">\n                                <a\n                                  class=\"link font-weight-bold\"\n                                  @click=\"showVerificationCodeHelpModal\"\n                                  >Can't find the page to enter the 6-digit code?</a\n                                >\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </tab-content>\n                    </template>\n\n                    <template slot=\"footer\" slot-scope=\"props\">\n                      <div class=\"wizard-footer-left\">\n                        <wizard-button\n                          v-if=\"props.activeTabIndex > 0\"\n                          class=\"btn btn-link btn-back\"\n                          @click.native=\"\n                            props.prevTab()\n                            prevTab(props.activeTabIndex)\n                          \"\n                          >&lt; Back</wizard-button\n                        >\n                      </div>\n                      <div class=\"wizard-footer-right\">\n                        <wizard-button\n                          v-if=\"!props.isLastStep\"\n                          class=\"wizard-footer-right wizard-btn\"\n                          :style=\"{ ...props.fillButtonStyle, color: 'var(--color-on-primary)' }\"\n                          @click.native=\"\n                            props.nextTab()\n                            nextTab(props.activeTabIndex)\n                          \"\n                          >Next &gt;</wizard-button\n                        >\n                      </div>\n                    </template>\n                  </form-wizard>\n                  <div class=\"row\">\n                    <div class=\"helper col-sm-12\">\n                      Need help? Check out the\n                      <a\n                        target=\"_blank\"\n                        :href=\"\n                          targetMoonraker\n                            ? 'https://www.obico.io/docs/user-guides/klipper-setup/'\n                            : 'https://www.obico.io/docs/user-guides/octoprint-plugin-setup/'\n                        \"\n                        >step-by-step set up guide.</a\n                      >\n                    </div>\n                  </div>\n                </div>\n                <div v-else class=\"container\">\n                  <div class=\"row\">\n                    <h3 class=\"col-sm-12 text-center p-3\">Which platform are you using?</h3>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-sm-12 col-lg-6 p-4\">\n                      <div class=\"wizard-card\" @click=\"setTargetPlatform('octoprint')\">\n                        <img :src=\"require('@static/img/octoprint_logo.png')\" />\n                        <h3 class=\"mt-4\">OctoPrint</h3>\n                        <div>Including OctoPrint for Klipper such as OctoKlipper.</div>\n                      </div>\n                    </div>\n                    <div class=\"col-sm-12 col-lg-6 p-4\">\n                      <div class=\"wizard-card\" @click=\"setTargetPlatform('moonraker')\">\n                        <div>\n                          <img :src=\"require('@static/img/klipper_logo.jpg')\" />\n                          <img :src=\"require('@static/img/mainsail_logo.png')\" />\n                          <img :src=\"require('@static/img/fluidd_logo.png')\" />\n                        </div>\n                        <h3 class=\"mt-4\">Klipper</h3>\n                        <h5>with Mainsail/Fluidd/Moonraker</h5>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </b-col>\n        </b-row>\n      </b-container>\n    </template>\n  </page-layout>\n</template>\n\n<script>\nimport axios from 'axios'\nimport moment from 'moment'\nimport urls from '@config/server-urls'\nimport { onPrinterLinked } from '@config/event-handler'\nimport routes from '@src/views/printer-wizard/wizard-routes'\nimport { WizardButton, FormWizard, TabContent } from 'vue-form-wizard'\nimport 'vue-form-wizard/dist/vue-form-wizard.min.css'\n// TODO: this should be configured as global. But for some reason it doesn't work.\nimport Loading from 'vue-loading-overlay'\nimport 'vue-loading-overlay/dist/vue-loading.css'\nimport sortBy from 'lodash/sortBy'\nimport theme from '@src/styles/main.sass'\nimport PageLayout from '@src/components/PageLayout.vue'\nimport SavingAnimation from '@src/components/SavingAnimation.vue'\nimport DiscoveredPrinter from '@src/components/printers/DiscoveredPrinter.vue'\nimport AutoLinkPopup from '@src/components/printers/AutoLinkPopup.vue'\nconst MAX_DISCOVERY_CALLS = 60 // Scaning for up to 5 minutes\n\nexport default {\n  components: {\n    FormWizard,\n    TabContent,\n    WizardButton,\n    Loading,\n    PageLayout,\n    SavingAnimation,\n    DiscoveredPrinter,\n  },\n  data() {\n    return {\n      theme: theme,\n      verificationCode: null,\n      verifiedPrinter: null,\n      onVerificationStep: false,\n      copied: false,\n      saving: {},\n      errorMessages: {},\n      delayedSubmit: {\n        // Make pause before sending new value to API\n        printer_name: {\n          delay: 1000,\n          timeoutId: null,\n        },\n      },\n      discoveryEnabled: true, // To simplify the flow, this can only change from true -> false.\n      discoveryCount: 0,\n      discoveredPrinters: [],\n      chosenDeviceId: null,\n      gotSecret: null,\n      obicoDiscoveryPopup: null,\n      apiCallIntervalId: null,\n      targetPlatform: null,\n      routes,\n    }\n  },\n  computed: {\n    printerIdToLink() {\n      return new URLSearchParams(window.location.search.substring(1)).get('printerId')\n    },\n    title() {\n      return this.printerIdToLink ? 'Re-Link Printer' : 'Link Printer'\n    },\n    editPrinterUrl() {\n      return `/printers/${this.verifiedPrinter.id}/`\n    },\n    expiryMoment() {\n      if (this.verificationCode) {\n        return moment(this.verificationCode.expired_at)\n      } else {\n        return null\n      }\n    },\n    timeToExpire() {\n      if (this.expiryMoment) {\n        return moment.duration(this.expiryMoment.diff(moment())).humanize()\n      } else {\n        return '-'\n      }\n    },\n    canStartLinking() {\n      return this.verificationCode?.code && this.discoveredPrinters?.length > 0\n    },\n    redirectToTunnelCreation() {\n      return new URLSearchParams(window.location.search).get('redirectToTunnelCreation')\n    },\n    targetOctoPrint() {\n      return this.targetPlatform === 'octoprint'\n    },\n    targetMoonraker() {\n      return this.targetPlatform === 'moonraker'\n    },\n  },\n  created() {\n    if (this.printerIdToLink) {\n      // Re-link currently doesn't support auto-discovery on the plugin side\n      this.discoveryEnabled = false\n    }\n    this.getVerificationCode()\n\n    // Start from platform selection after page refresh\n    if (this.$route.path !== routes.printerWizard) {\n      this.$router.push(routes.printerWizard + `?${window.location.search}`)\n    }\n  },\n  methods: {\n    setTargetPlatform(platfrom) {\n      this.targetPlatform = platfrom\n      if (platfrom === 'moonraker') {\n        this.discoveryEnabled = false\n      }\n\n      this.$router.push(routes.printerWizardSetup + `?${window.location.search}`)\n    },\n    setSavingStatus(propName, status) {\n      if (status) {\n        delete this.errorMessages[propName]\n      }\n      this.$set(this.saving, propName, status)\n    },\n    updatePrinterName() {\n      if ('name' in this.verifiedPrinter && this.verifiedPrinter.name) {\n        const delayInfo = this.delayedSubmit['printer_name']\n        if (delayInfo['timeoutId']) {\n          clearTimeout(delayInfo['timeoutId'])\n        }\n        this.delayedSubmit['printer_name']['timeoutId'] = setTimeout(() => {\n          this.setSavingStatus('printer_name', true)\n          // Make request to API\n          return axios\n            .patch(urls.printer(this.verifiedPrinter.id), {\n              name: this.verifiedPrinter.name,\n            })\n            .then(() => {\n              this.setSavingStatus('printer_name', false)\n            })\n            .catch((error) => {\n              this._showErrorPopup(error, 'Failed to update printer name')\n            })\n        }, delayInfo['delay'])\n        return\n      } else {\n        const delayInfo = this.delayedSubmit['printer_name']\n        if (delayInfo['timeoutId']) {\n          clearTimeout(delayInfo['timeoutId'])\n        }\n      }\n    },\n    /**\n     * Functions prevTab() and nextTab() are used to remove .checked class from circle steps\n     * following current step (.checked class isn't removed by default after clicking Back\n     * button, which causes showiing logo inside furter steps, not only completed ones).\n     */\n    prevTab() {\n      document\n        .querySelector('.wizard-nav.wizard-nav-pills li.active .wizard-icon-circle')\n        .classList.remove('checked')\n      this.onVerificationStep = false\n    },\n    nextTab(activeStep) {\n      document\n        .querySelector('.wizard-nav.wizard-nav-pills li.active .wizard-icon-circle')\n        .classList.add('checked')\n      this.onVerificationStep = activeStep == 1 // nextTab is called before activeStep changes\n      if (activeStep == 0 && this.discoveryEnabled && this.discoveryCount == 0) {\n        this.discoverPrinter()\n      }\n      if (this.onVerificationStep) {\n        const copyFunc = this.copyCode\n        let ctrlDown = false,\n          ctrlKey = 17,\n          cmdKey = 91,\n          cKey = 67\n        document.addEventListener('keydown', function (e) {\n          if (e.keyCode == ctrlKey || e.keyCode == cmdKey) ctrlDown = true\n        })\n        document.addEventListener('keyup', function (e) {\n          if (e.keyCode == ctrlKey || e.keyCode == cmdKey) ctrlDown = false\n        })\n        document.addEventListener('keydown', function (e) {\n          if (ctrlDown && e.keyCode == cKey) {\n            copyFunc()\n          }\n        })\n      }\n    },\n    verificationCodeUrl() {\n      const baseUrl = urls.verificationCode()\n      if (!this.verificationCode) {\n        // Never retrieved veification code. Get one.\n        if (this.printerIdToLink) {\n          return `${baseUrl}?printer_id=${this.printerIdToLink}`\n        } else {\n          return baseUrl\n        }\n      }\n      if (this.verificationCode.verified_at) {\n        // Code is verified successfully, keep on polling to get update on the printer name if any\n        return `${baseUrl}${this.verificationCode.id}/`\n      }\n      if (moment().isBefore(this.expiryMoment)) {\n        // Not verified, and not expired\n        return `${baseUrl}${this.verificationCode.id}/`\n      }\n      // Not verified, but expired.\n      return baseUrl\n    },\n    /**\n     * Copy verification code to clipboard (on appropriate step)\n     */\n    copyCode() {\n      if (this.onVerificationStep && this.verificationCode) {\n        let textArea = document.createElement('textarea')\n        textArea.value = this.verificationCode.code\n        // Avoid scrolling to bottom\n        textArea.style.top = '0'\n        textArea.style.left = '0'\n        textArea.style.position = 'fixed'\n        document.body.appendChild(textArea)\n        textArea.focus()\n        textArea.select()\n        try {\n          document.execCommand('copy')\n          this.copied = true\n        } catch (err) {\n          console.error('Fallback: Oops, unable to copy', err)\n        }\n        document.body.removeChild(textArea)\n      }\n    },\n    callVerificationCodeApi() {\n      axios.get(this.verificationCodeUrl()).then((resp) => {\n        if (resp.data) {\n          this.verificationCode = resp.data\n          if (this.verificationCode.verified_at) {\n            this.verifiedPrinter = resp.data.printer\n            if (onPrinterLinked) {\n              onPrinterLinked()\n            }\n          }\n        }\n      })\n    },\n    getVerificationCode() {\n      this.callVerificationCodeApi()\n      this.apiCallIntervalId = setInterval(() => {\n        if (this.verifiedPrinter) {\n          clearInterval(this.apiCallIntervalId)\n        } else {\n          this.callVerificationCodeApi()\n        }\n      }, 5000)\n    },\n    showVerificationCodeHelpModal() {\n      let html = `<p>The 6-digit code needs to be entered in the Obico plugin in OctoPrint. There are a few reasons why you can't find this page:</p>\n        <p><ul>\n        <li style=\"margin: 10px 0;\">You don't have the plugin installed or you haven't restarted OctoPrint after installation. Click <a href=\"/printers/wizard/\">here</a> to walk through the process again.</li>\n        <li style=\"margin: 10px 0;\">The installed plugin is on a version earlier than 1.5.0. You need to upgrade the plugin to <b>1.5.0</b> or later.</li>\n        <li style=\"margin: 10px 0;\">Still no dice? Check out the step-by-step <a target=\"_blank\" href=\"https://www.obico.io/docs/user-guides/octoprint-plugin-setup/\">set up guide</a>.</li>\n        </ul></p>`\n\n      if (!this.targetOctoPrint) {\n        html = `<p>The 6-digit code needs to be entered to the <em>Obico for OctoPrint</em> installation script.</p>\n        <p>Check <a target=\"_blank\" href=\"https://www.obico.io/docs/user-guides/klipper-setup/\">this set up guide</a> for detailed instructions.</p>`\n      }\n\n      this.$swal.fire({\n        title: \"Can't find the page to enter the 6-digit code?\",\n        html,\n        customClass: {\n          container: 'dark-backdrop',\n        },\n      })\n    },\n    zoomIn(event) {\n      event.target.classList.toggle('zoomedIn')\n    },\n    callPrinterDiscoveryApi() {\n      if (!this.discoveryEnabled) {\n        return\n      }\n      if (this.discoveryCount >= MAX_DISCOVERY_CALLS && this.discoveredPrinters.length === 0) {\n        this.discoveryEnabled = false\n        this.$swal.Toast.fire({\n          title: 'No OctoPrint discovered on your local network. Switched to manual linking.',\n        })\n      }\n      this.discoveryCount += 1\n      axios.get(urls.printerDiscovery()).then((resp) => {\n        this.discoveredPrinters = sortBy(resp.data, (p) => p.device_id)\n      })\n    },\n    discoverPrinter() {\n      if (!this.discoveryEnabled || this.verifiedPrinter) {\n        return\n      }\n      this.callPrinterDiscoveryApi()\n      setTimeout(() => {\n        this.discoverPrinter()\n      }, 5000)\n    },\n    autoLinkPrinter(discoveredPrinter) {\n      this.$swal.openModalWithComponent(\n        AutoLinkPopup,\n        {\n          discoveredPrinter,\n          switchToManualLinking: () => (this.discoveryEnabled = false),\n          secretObtained: (chosenDeviceId, secret) => this.secretObtained(chosenDeviceId, secret),\n        },\n        {\n          title: 'Browser Pop-up',\n          showConfirmButton: false,\n          allowOutsideClick: false,\n        }\n      )\n    },\n    secretObtained(chosenDeviceId, secret) {\n      this.chosenDeviceId = chosenDeviceId\n      axios.post(urls.printerDiscovery(), {\n        code: this.verificationCode.code,\n        device_id: this.chosenDeviceId,\n        device_secret: secret,\n      })\n      // Declare failure if nothing is linked after 20s\n      setTimeout(() => {\n        if (this.chosenDeviceId && !this.verifiedPrinter) {\n          this.chosenDeviceId = null\n          this.$swal.Toast.fire({\n            icon: 'error',\n            title: 'Something went wrong. Switched to using 6-digit code to link OctoPrint.',\n          })\n          this.discoveryEnabled = false\n        }\n        this.chosenDeviceId = null\n      }, 20000)\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n\n.wizard-card\n  background-color: var(--color-surface-primary)\n  border-radius: var(--border-radius-lg)\n  padding: 1em\n  display: flex\n  flex-direction: column\n  align-items: center\n  min-height: 24em\n  justify-content: center\n  text-align: center\n  &:hover\n    cursor: pointer\n    color: var(--color-primary)\n    background-color: var(--color-hover)\n.wizard-card img\n  height: 3em\n  margin: 1em\n\n.wizard-btn\n  border-radius: 300px\n.wizard-container\n  padding: 1em\n  background: var(--color-surface-secondary)\n  -webkit-box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.3) !important\n  box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.3) !important\n  border: none !important\n  border-radius: var(--border-radius-lg)\n.btn-back\n  color: var(--color-text-primary)\n  min-width: auto\n.header-img\n  width: 1em\n  height: 1em\n  margin-right: 12px\n  margin-bottom: 8px\n.img-container\n  padding: 1rem\n  text-align: center\nimg\n  max-height: 30vh\n.spacer\n width: 200px\n.code-btn\n  border-radius: var(--border-radius-sm)\n  text-align: center\n  width: 21rem\n  height: 60px\n  background-color: var(--color-input-background)\n  color: var(--color-text-primary)\n  font-size: 2rem\n  font-weight: 500\n  letter-spacing: 0.5em\n  border: none\n.helper\n  text-align: center\n  padding: 0 36px\nli\n  margin: 2px -35px\n.screenshot\n  max-width: 100%\n  transition: transform .3s\n  &:hover\n    cursor: pointer\n  &.zoomedIn\n    transform: scale(2)\n    position: relative\n    z-index: 9\n\npre\n  color: var(--color-text-secondary)\n  font-size: 0.9em\n</style>\n\n<style lang=\"sass\">\n// Unscoped styles to style plugin elements\n// TODO merge 2 style blocks\n\n// Step label (not active)\n.wizard-container .vue-form-wizard .wizard-nav-pills > li:not(.active) > a > span\n  color: var(--color-text-primary)\n// Adjust numbers in the circles (form steps)\n.wizard-nav.wizard-nav-pills .wizard-icon-circle i\n  position: relative\n  right: 2px\n// Show logo inside completed sorm step circles\n.wizard-nav.wizard-nav-pills li:not(.active)\n  .wizard-icon-circle.checked i\n    display: none\n  .wizard-icon-circle.checked\n    background-color: var(--color-primary)\n    &:before\n      $size: 20px\n      content: \"\"\n      display: block\n      width: $size\n      height: $size\n      background-image: url('/static/img/tick_dark.svg')\n      background-size: $size $size\n      position: absolute\n      top: calc(50% - #{$size / 2})\n      left: calc(50% - #{$size / 2})\n      bottom: calc(50% - #{$size / 2})\n      right: calc(50% - #{$size / 2})\n.success-checkmark\n  width: 6rem\n  height: 6rem\n  margin-bottom: 1.5rem\n.printer-name-input\n  position: relative\n  .edit-icon\n    height: 100%\n    display: flex\n    flex-direction: column\n    justify-content: center\n    position: absolute\n    top: 0\n    left: 1em\n    opacity: .5\n  input\n    padding: .4em 2.4em\n    width: 100%\n    font-size: 20px\n    text-align: center\n.discover\n  .discover-body\n    min-height: 25rem\n    display: flex\n    flex-direction: column\n    justify-content: center\n    .spinner-border\n      width: 1.2em\n      height: 1.2em\n      margin-right: 0.2em\n      &.big\n        width: 5rem\n        height: 5rem\n        margin-bottom: 0.8rem\n  li\n    margin: initial\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterWizardPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterWizardPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrinterWizardPage.vue?vue&type=template&id=c54b55ac&scoped=true&\"\nimport script from \"./PrinterWizardPage.vue?vue&type=script&lang=js&\"\nexport * from \"./PrinterWizardPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrinterWizardPage.vue?vue&type=style&index=0&id=c54b55ac&prod&lang=sass&scoped=true&\"\nimport style1 from \"./PrinterWizardPage.vue?vue&type=style&index=1&id=c54b55ac&prod&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c54b55ac\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('page-layout',{scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('b-container',[_c('b-row',{staticClass:\"justify-content-center\"},[_c('b-col',{attrs:{\"lg\":\"8\"}},[(_vm.printer)?_c('div',{staticClass:\"printer-card m-0\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('div',{staticClass:\"title-box\"},[_c('div',{staticClass:\"printer-name\"},[_vm._v(_vm._s(_vm.printer.name))])])]),_c('streaming-box',{attrs:{\"printer\":_vm.printer,\"webrtc\":_vm.webrtc,\"autoplay\":_vm.user.is_pro}}),_c('div',{staticClass:\"card-body\",class:{ overlay: _vm.printer.isActive() }},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.printer.isActive()),expression:\"printer.isActive()\"}],staticClass:\"overlay-top text-center\",staticStyle:{\"left\":\"0\",\"width\":\"100%\",\"top\":\"50%\",\"margin-top\":\"-85px\"}},[_c('div',[_vm._v(\"Printer controls are disabled\")]),_c('div',[_vm._v(\"because the printer is not idle.\")])]),_c('div',{staticClass:\"printer-controls\"},[_c('div',{staticClass:\"xy-controls\"},[_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\",\"data-axis\":\"y\",\"data-dir\":\"up\"},on:{\"click\":function($event){return _vm.control(_vm.axis.y, _vm.directions.up)}}},[_c('i',{staticClass:\"fas fa-angle-up fa-lg\"})]),_c('div',{staticClass:\"x-controls\"},[_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\",\"data-axis\":\"x\",\"data-dir\":\"down\"},on:{\"click\":function($event){return _vm.control(_vm.axis.x, _vm.directions.down)}}},[_c('i',{staticClass:\"fas fa-angle-left fa-lg\"})]),_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\",\"data-axis\":\"xy\",\"data-dir\":\"home\"},on:{\"click\":function($event){return _vm.control(_vm.axis.xy, _vm.directions.home)}}},[_c('i',{staticClass:\"fas fa-home fa-lg\"})]),_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\",\"data-axis\":\"x\",\"data-dir\":\"up\"},on:{\"click\":function($event){return _vm.control(_vm.axis.x, _vm.directions.up)}}},[_c('i',{staticClass:\"fas fa-angle-right fa-lg\"})])]),_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\",\"data-axis\":\"y\",\"data-dir\":\"down\"},on:{\"click\":function($event){return _vm.control(_vm.axis.y, _vm.directions.down)}}},[_c('i',{staticClass:\"fas fa-angle-down fa-lg\"})])]),_c('div',{staticClass:\"z-controls\"},[_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\",\"data-axis\":\"z\",\"data-dir\":\"up\"},on:{\"click\":function($event){return _vm.control(_vm.axis.z, _vm.directions.up)}}},[_c('i',{staticClass:\"fas fa-angle-up fa-lg\"})]),_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\",\"data-axis\":\"z\",\"data-dir\":\"home\"},on:{\"click\":function($event){return _vm.control(_vm.axis.z, _vm.directions.home)}}},[_c('i',{staticClass:\"fas fa-home fa-lg\"})]),_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\",\"data-axis\":\"z\",\"data-dir\":\"down\"},on:{\"click\":function($event){return _vm.control(_vm.axis.z, _vm.directions.down)}}},[_c('i',{staticClass:\"fas fa-angle-down fa-lg\"})])])]),_c('br'),_c('div',{staticClass:\"control-options\"},[_c('b-form-group',{scopedSlots:_vm._u([{key:\"default\",fn:function({ ariaDescribedby }){return [_c('b-form-radio-group',{attrs:{\"options\":_vm.jogDistanceOptions.map((val) => {\n                          return { text: val + 'mm', value: val }\n                        }),\"name\":\"jogDistance\",\"button-variant\":\"default\",\"aria-describedby\":ariaDescribedby,\"buttons\":\"\"},model:{value:(_vm.jogDistance),callback:function ($$v) {_vm.jogDistance=$$v},expression:\"jogDistance\"}})]}}],null,false,3268279119)})],1)])],1)]):_vm._e()])],1)],1)]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <page-layout>\n    <template #content>\n      <b-container>\n        <b-row class=\"justify-content-center\">\n          <b-col lg=\"8\">\n            <div v-if=\"printer\" class=\"printer-card m-0\">\n              <div class=\"card\">\n                <div class=\"card-header\">\n                  <div class=\"title-box\">\n                    <div class=\"printer-name\">{{ printer.name }}</div>\n                  </div>\n                </div>\n                <streaming-box :printer=\"printer\" :webrtc=\"webrtc\" :autoplay=\"user.is_pro\" />\n                <div class=\"card-body\" :class=\"{ overlay: printer.isActive() }\">\n                  <div\n                    v-show=\"printer.isActive()\"\n                    class=\"overlay-top text-center\"\n                    style=\"left: 0; width: 100%; top: 50%; margin-top: -85px\"\n                  >\n                    <div>Printer controls are disabled</div>\n                    <div>because the printer is not idle.</div>\n                  </div>\n                  <div class=\"printer-controls\">\n                    <div class=\"xy-controls\">\n                      <button\n                        class=\"btn\"\n                        type=\"button\"\n                        data-axis=\"y\"\n                        data-dir=\"up\"\n                        @click=\"control(axis.y, directions.up)\"\n                      >\n                        <i class=\"fas fa-angle-up fa-lg\"></i>\n                      </button>\n                      <div class=\"x-controls\">\n                        <button\n                          class=\"btn\"\n                          type=\"button\"\n                          data-axis=\"x\"\n                          data-dir=\"down\"\n                          @click=\"control(axis.x, directions.down)\"\n                        >\n                          <i class=\"fas fa-angle-left fa-lg\"></i>\n                        </button>\n                        <button\n                          class=\"btn\"\n                          type=\"button\"\n                          data-axis=\"xy\"\n                          data-dir=\"home\"\n                          @click=\"control(axis.xy, directions.home)\"\n                        >\n                          <i class=\"fas fa-home fa-lg\"></i>\n                        </button>\n                        <button\n                          class=\"btn\"\n                          type=\"button\"\n                          data-axis=\"x\"\n                          data-dir=\"up\"\n                          @click=\"control(axis.x, directions.up)\"\n                        >\n                          <i class=\"fas fa-angle-right fa-lg\"></i>\n                        </button>\n                      </div>\n                      <button\n                        class=\"btn\"\n                        type=\"button\"\n                        data-axis=\"y\"\n                        data-dir=\"down\"\n                        @click=\"control(axis.y, directions.down)\"\n                      >\n                        <i class=\"fas fa-angle-down fa-lg\"></i>\n                      </button>\n                    </div>\n                    <div class=\"z-controls\">\n                      <button\n                        class=\"btn\"\n                        type=\"button\"\n                        data-axis=\"z\"\n                        data-dir=\"up\"\n                        @click=\"control(axis.z, directions.up)\"\n                      >\n                        <i class=\"fas fa-angle-up fa-lg\"></i>\n                      </button>\n                      <button\n                        class=\"btn\"\n                        type=\"button\"\n                        data-axis=\"z\"\n                        data-dir=\"home\"\n                        @click=\"control(axis.z, directions.home)\"\n                      >\n                        <i class=\"fas fa-home fa-lg\"></i>\n                      </button>\n                      <button\n                        class=\"btn\"\n                        type=\"button\"\n                        data-axis=\"z\"\n                        data-dir=\"down\"\n                        @click=\"control(axis.z, directions.down)\"\n                      >\n                        <i class=\"fas fa-angle-down fa-lg\"></i>\n                      </button>\n                    </div>\n                  </div>\n                  <br />\n                  <div class=\"control-options\">\n                    <b-form-group v-slot=\"{ ariaDescribedby }\">\n                      <b-form-radio-group\n                        v-model=\"jogDistance\"\n                        :options=\"\n                          jogDistanceOptions.map((val) => {\n                            return { text: val + 'mm', value: val }\n                          })\n                        \"\n                        name=\"jogDistance\"\n                        button-variant=\"default\"\n                        :aria-describedby=\"ariaDescribedby\"\n                        buttons\n                      ></b-form-radio-group>\n                    </b-form-group>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </b-col>\n        </b-row>\n      </b-container>\n    </template>\n  </page-layout>\n</template>\n\n<script>\nimport split from 'lodash/split'\nimport urls from '@config/server-urls'\nimport { normalizedPrinter } from '@src/lib/normalizers'\nimport StreamingBox from '@src/components/StreamingBox'\nimport PrinterComm from '@src/lib/printer-comm'\nimport WebRTCConnection from '@src/lib/webrtc'\nimport PageLayout from '@src/components/PageLayout.vue'\nimport { isLocalStorageSupported } from '@static/js/utils'\nimport { user } from '@src/lib/page-context'\n\nconst AXIS = {\n  x: 'x',\n  y: 'y',\n  z: 'z',\n  xy: ['x', 'y'],\n}\n\nconst DIRECTIONS = {\n  up: 1,\n  down: -1,\n  home: 0,\n}\n\nexport default {\n  name: 'PrinterControlPage',\n\n  components: {\n    StreamingBox,\n    PageLayout,\n  },\n\n  data() {\n    return {\n      axis: AXIS,\n      directions: DIRECTIONS,\n\n      user: null,\n      printerId: null,\n      printer: null,\n      webrtc: null,\n\n      // Current distance and possible options\n      jogDistance: 10,\n      jogDistanceOptions: [0.1, 1, 10, 100],\n    }\n  },\n\n  watch: {\n    jogDistance: function (newValue) {\n      if (isLocalStorageSupported()) {\n        localStorage.setItem(`mm-per-step-${this.printerId}`, newValue)\n      }\n    },\n  },\n\n  created() {\n    this.user = user()\n    this.printerId = split(window.location.pathname, '/').slice(-3, -2).pop()\n\n    // Get jogDistance from localStorage or set default value\n    const storageValue = isLocalStorageSupported()\n      ? localStorage.getItem(`mm-per-step-${this.printerId}`)\n      : null\n    this.jogDistance = storageValue ? storageValue : this.jogDistance\n\n    this.webrtc = WebRTCConnection()\n\n    this.printerComm = PrinterComm(\n      this.printerId,\n      urls.printerWebSocket(this.printerId),\n      (data) => {\n        this.printer = normalizedPrinter(data, this.printer)\n        if (this.webrtc && !this.webrtc.initialized) {\n          this.webrtc.openForPrinter(this.printer.id, this.printer.auth_token)\n          this.printerComm.setWebRTC(this.webrtc)\n        }\n      }\n    )\n    this.printerComm.connect()\n  },\n\n  methods: {\n    // Control request after button click\n    control(axis, direction) {\n      let args = []\n      let func = 'jog'\n\n      if (direction === this.directions.home) {\n        args.push(axis)\n        func = 'home'\n      } else {\n        args.push({ [axis]: direction * this.jogDistance })\n      }\n\n      const payload = { func: func, target: '_printer', args: args }\n      this.printerComm.passThruToPrinter(payload, (err, ret) => {\n        if (ret?.error) {\n          this.$swal.Toast.fire({\n            icon: 'error',\n            title: ret.error,\n          })\n        }\n      })\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n::v-deep .control-options .btn\n  color: var(--color-primary)\n  &.active span\n    color: var(--color-on-primary)\n\n.card\n  border-radius: var(--border-radius-lg)\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterControlPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterControlPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrinterControlPage.vue?vue&type=template&id=5e1abd22&scoped=true&\"\nimport script from \"./PrinterControlPage.vue?vue&type=script&lang=js&\"\nexport * from \"./PrinterControlPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrinterControlPage.vue?vue&type=style&index=0&id=5e1abd22&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e1abd22\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('page-layout',{scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('b-container',{staticClass:\"flex-full-size\",class:{ 'is-in-mobile': _vm.useMobileLayout },attrs:{\"fluid\":\"xl\"}},[_c('b-row',{staticClass:\"flex-full-size\"},[_c('b-col',{staticClass:\"flex-full-size\"},[(_vm.user)?_c('div',{staticClass:\"flex-full-size\"},[(_vm.useMobileLayout)?_c('div',{staticClass:\"mobile-settings-wrapper full-on-mobile\"},[(_vm.$route.path === '/user_preferences/')?_c('div',{staticClass:\"mobile-settings-categories\"},[_c('h2',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.onlyNotifications()),expression:\"!onlyNotifications()\"}],staticClass:\"categories-title section-title\"},[_vm._v(\" Account \")]),_vm._l((_vm.sections),function(value,name){return [(!value.isHidden)?_c('router-link',{key:name,class:value.isSubcategory ? 'subcategory' : '',attrs:{\"to\":value.route}},[_c('span',[(value.faIcon)?_c('i',{class:[value.faIcon, 'mr-2'],staticStyle:{\"font-size\":\"1.125rem\"}}):_vm._e(),_c('span',[_vm._v(_vm._s(value.title))])]),_c('i',{staticClass:\"fas fa-arrow-right\"})]):_vm._e()]}),(!_vm.onlyNotifications())?_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.logout.apply(null, arguments)}}},[_c('span',[_c('i',{class:['fas fa-sign-out-alt', 'mr-2'],staticStyle:{\"font-size\":\"1.125rem\"}}),_vm._v(\" Logout \")])]):_vm._e()],2):_c('div',{staticClass:\"mobile-settings-content\",class:{ 'is-in-mobile': _vm.useMobileLayout }},[(\n                    _vm.currentSection &&\n                    (!_vm.currentSection.isNotificationChannel || _vm.availableNotificationPlugins)\n                  )?_c(_vm.currentRouteComponent,{tag:\"component\",attrs:{\"user\":_vm.user,\"error-messages\":_vm.errorMessages,\"saving\":_vm.saving,\"config\":_vm.config,\"notification-channel\":_vm.currentSection && _vm.currentSection.isNotificationChannel ? _vm.currentSection : {}},on:{\"createNotificationChannel\":_vm.createNotificationChannel,\"updateNotificationChannel\":_vm.patchNotificationChannel,\"deleteNotificationChannel\":_vm.deleteNotificationChannel,\"clearErrorMessages\":_vm.clearErrorMessages,\"addErrorMessage\":_vm.addErrorMessage,\"updateSetting\":_vm.updateSetting,\"errorAlert\":function($event){return _vm._showErrorPopup({ message: $event })}}}):_vm._e()],1)]):_c('b-tabs',{staticClass:\"desktop-settings-wrapper\",attrs:{\"vertical\":true,\"nav-wrapper-class\":\"settings-nav\",\"active-nav-item-class\":\"\",\"content-class\":\"desktop-settings-content\"},on:{\"activate-tab\":_vm.updateRoute},scopedSlots:_vm._u([{key:\"tabs-end\",fn:function(){return [_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.logout.apply(null, arguments)}}},[_c('i',{class:['fas fa-sign-out-alt', 'mr-2']}),_vm._v(\" Logout \")])])]},proxy:true}],null,false,1810625595)},[_vm._l((_vm.sections),function(value,name){return [(!value.isHidden)?_c('b-tab',{key:name,attrs:{\"title-item-class\":value.isSubcategory ? 'subcategory' : '',\"active\":_vm.$route.path === value.route,\"disabled\":value.isNotificationChannel && !_vm.user.notification_enabled},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [(value.faIcon)?_c('i',{class:[value.faIcon, 'mr-2']}):_vm._e(),_vm._v(\" \"+_vm._s(value.title)+\" \")]},proxy:true}],null,true)},[(!value.isNotificationChannel || _vm.availableNotificationPlugins)?_c(name,{tag:\"component\",attrs:{\"user\":_vm.user,\"error-messages\":_vm.errorMessages,\"saving\":_vm.saving,\"config\":_vm.config,\"notification-channel\":value.isNotificationChannel ? value : {}},on:{\"createNotificationChannel\":_vm.createNotificationChannel,\"updateNotificationChannel\":_vm.patchNotificationChannel,\"deleteNotificationChannel\":_vm.deleteNotificationChannel,\"clearErrorMessages\":_vm.clearErrorMessages,\"addErrorMessage\":_vm.addErrorMessage,\"updateSetting\":_vm.updateSetting,\"errorAlert\":function($event){return _vm._showErrorPopup({ message: $event })}}}):_vm._e()],1):_vm._e()]})],2)],1):_c('div',{staticClass:\"text-center\"},[_c('b-spinner',{staticClass:\"mt-5\",attrs:{\"label\":\"Loading...\"}})],1)])],1)],1)]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import routes from '@config/user-preferences/routes'\nimport notificationPlugins from '@src/notifications/plugins'\nimport { inMobileWebView, onlyNotifications } from '@src/lib/page-context'\n\nconst defaultSections = {\n  ThemePreferences: {\n    title: 'Appearance',\n    faIcon: 'fas fa-magic',\n    importComponent: () => import('@src/components/user-preferences/ThemePreferences'),\n    route: routes.ThemePreferences,\n    isHidden:\n      (inMobileWebView() &&\n        !(new URLSearchParams(window.location.search).get('themeable') === 'true')) ||\n      onlyNotifications(),\n  },\n  ProfilePreferences: {\n    title: 'Profile',\n    faIcon: 'fas fa-user-edit',\n    importComponent: () => import('@src/components/user-preferences/ProfilePreferences'),\n    route: routes.ProfilePreferences,\n    isHidden: onlyNotifications(),\n  },\n  AuthorizedApps: {\n    title: 'Authorized Apps',\n    faIcon: 'fas fa-check-circle',\n    importComponent: () => import('@src/components/user-preferences/AuthorizedApps'),\n    route: routes.AuthorizedApps,\n    isHidden: onlyNotifications(),\n  },\n\n  // Notifications\n  GeneralNotifications: {\n    title: 'Notifications',\n    faIcon: 'fas fa-bell',\n    importComponent: () =>\n      import('@src/components/user-preferences/notifications/GeneralNotifications'),\n    route: routes.GeneralNotifications,\n  },\n  PushNotifications: {\n    title: 'Push Notification',\n    isSubcategory: true,\n    isNotificationChannel: true,\n    importComponent: () => ({}),\n    route: routes.PushNotifications,\n    isHidden: !inMobileWebView(),\n  },\n}\n\nconst notificationSections = Object.keys(notificationPlugins).reduce((obj, name) => {\n  return Object.assign(obj, {\n    [name]: {\n      title: notificationPlugins[name].displayName,\n      channelName: name,\n      isSubcategory: true,\n      isNotificationChannel: true,\n      route: routes[name],\n      importComponent: () =>\n        import('@src/notifications/plugins/' + notificationPlugins[name].componentName),\n    },\n  })\n}, {})\n\nexport default {\n  ...defaultSections,\n  ...notificationSections,\n}\n","<template>\n  <page-layout>\n    <template #content>\n      <b-container fluid=\"xl\" :class=\"{ 'is-in-mobile': useMobileLayout }\" class=\"flex-full-size\">\n        <b-row class=\"flex-full-size\">\n          <b-col class=\"flex-full-size\">\n            <div v-if=\"user\" class=\"flex-full-size\">\n              <!-- Mobile (web / app) -->\n              <div v-if=\"useMobileLayout\" class=\"mobile-settings-wrapper full-on-mobile\">\n                <div v-if=\"$route.path === '/user_preferences/'\" class=\"mobile-settings-categories\">\n                  <h2 v-show=\"!onlyNotifications()\" class=\"categories-title section-title\">\n                    Account\n                  </h2>\n                  <template v-for=\"(value, name) in sections\">\n                    <router-link\n                      v-if=\"!value.isHidden\"\n                      :key=\"name\"\n                      :to=\"value.route\"\n                      :class=\"value.isSubcategory ? 'subcategory' : ''\"\n                    >\n                      <span>\n                        <i\n                          v-if=\"value.faIcon\"\n                          :class=\"[value.faIcon, 'mr-2']\"\n                          style=\"font-size: 1.125rem\"\n                        ></i>\n                        <span>{{ value.title }}</span>\n                      </span>\n                      <i class=\"fas fa-arrow-right\"></i>\n                    </router-link>\n                  </template>\n\n                  <a v-if=\"!onlyNotifications()\" href=\"#\" @click.prevent=\"logout\">\n                    <span>\n                      <i :class=\"['fas fa-sign-out-alt', 'mr-2']\" style=\"font-size: 1.125rem\"></i>\n                      Logout\n                    </span>\n                  </a>\n                </div>\n                <div\n                  v-else\n                  class=\"mobile-settings-content\"\n                  :class=\"{ 'is-in-mobile': useMobileLayout }\"\n                >\n                  <component\n                    :is=\"currentRouteComponent\"\n                    v-if=\"\n                      currentSection &&\n                      (!currentSection.isNotificationChannel || availableNotificationPlugins)\n                    \"\n                    :user=\"user\"\n                    :error-messages=\"errorMessages\"\n                    :saving=\"saving\"\n                    :config=\"config\"\n                    :notification-channel=\"\n                      currentSection && currentSection.isNotificationChannel ? currentSection : {}\n                    \"\n                    @createNotificationChannel=\"createNotificationChannel\"\n                    @updateNotificationChannel=\"patchNotificationChannel\"\n                    @deleteNotificationChannel=\"deleteNotificationChannel\"\n                    @clearErrorMessages=\"clearErrorMessages\"\n                    @addErrorMessage=\"addErrorMessage\"\n                    @updateSetting=\"updateSetting\"\n                    @errorAlert=\"_showErrorPopup({ message: $event })\"\n                  ></component>\n                </div>\n              </div>\n              <!-- Desktop -->\n              <b-tabs\n                v-else\n                :vertical=\"true\"\n                class=\"desktop-settings-wrapper\"\n                nav-wrapper-class=\"settings-nav\"\n                active-nav-item-class=\"\"\n                content-class=\"desktop-settings-content\"\n                @activate-tab=\"updateRoute\"\n              >\n                <template v-for=\"(value, name) in sections\">\n                  <b-tab\n                    v-if=\"!value.isHidden\"\n                    :key=\"name\"\n                    :title-item-class=\"value.isSubcategory ? 'subcategory' : ''\"\n                    :active=\"$route.path === value.route\"\n                    :disabled=\"value.isNotificationChannel && !user.notification_enabled\"\n                  >\n                    <template #title>\n                      <i v-if=\"value.faIcon\" :class=\"[value.faIcon, 'mr-2']\"></i>\n                      {{ value.title }}\n                    </template>\n                    <component\n                      :is=\"name\"\n                      v-if=\"!value.isNotificationChannel || availableNotificationPlugins\"\n                      :user=\"user\"\n                      :error-messages=\"errorMessages\"\n                      :saving=\"saving\"\n                      :config=\"config\"\n                      :notification-channel=\"value.isNotificationChannel ? value : {}\"\n                      @createNotificationChannel=\"createNotificationChannel\"\n                      @updateNotificationChannel=\"patchNotificationChannel\"\n                      @deleteNotificationChannel=\"deleteNotificationChannel\"\n                      @clearErrorMessages=\"clearErrorMessages\"\n                      @addErrorMessage=\"addErrorMessage\"\n                      @updateSetting=\"updateSetting\"\n                      @errorAlert=\"_showErrorPopup({ message: $event })\"\n                    ></component>\n                  </b-tab>\n                </template>\n                <template #tabs-end>\n                  <li class=\"nav-item\">\n                    <a class=\"nav-link\" href=\"#\" @click.prevent=\"logout\">\n                      <i :class=\"['fas fa-sign-out-alt', 'mr-2']\"></i>\n                      Logout\n                    </a>\n                  </li>\n                </template>\n              </b-tabs>\n            </div>\n            <div v-else class=\"text-center\">\n              <b-spinner class=\"mt-5\" label=\"Loading...\"></b-spinner>\n            </div>\n          </b-col>\n        </b-row>\n      </b-container>\n    </template>\n  </page-layout>\n</template>\n\n<script>\nimport axios from 'axios'\nimport urls from '@config/server-urls'\nimport PageLayout from '@src/components/PageLayout.vue'\nimport { inMobileWebView, onlyNotifications } from '@src/lib/page-context'\nimport sections from '@config/user-preferences/sections'\nimport routes from '@config/user-preferences/routes'\nimport { getNotificationSettingKey } from '@src/lib/utils'\n\nexport default {\n  name: 'UserPreferencesPage',\n\n  components: {\n    PageLayout,\n    ...Object.keys(sections).reduce((obj, name) => {\n      return Object.assign(obj, { [name]: sections[name].importComponent })\n    }, {}),\n  },\n\n  props: {\n    config: {\n      default() {\n        return {}\n      },\n      type: Object,\n    },\n  },\n\n  data() {\n    return {\n      sections,\n      availableNotificationPlugins: null,\n      configuredNotificationChannels: null,\n      onlyNotifications,\n      user: null,\n      saving: {},\n      errorMessages: {},\n      delayedSubmit: {\n        // Make pause before sending new value to API\n        first_name: {\n          delay: 1000,\n          timeoutId: null,\n        },\n        last_name: {\n          delay: 1000,\n          timeoutId: null,\n        },\n      },\n      combinedInputs: {}, // Send changes to API only if all the other values in the array have data\n      useMobileLayout: false,\n    }\n  },\n\n  computed: {\n    visibleSections() {\n      return Object.values(sections).filter((item) => !item.isHidden)\n    },\n    currentRouteComponent() {\n      for (const [component, route] of Object.entries(routes)) {\n        if (this.$route.path === route) {\n          return component\n        }\n      }\n      return null\n    },\n    currentSection() {\n      for (const section of Object.values(this.sections)) {\n        if (section.route === this.$route.path) {\n          return section\n        }\n      }\n      return null\n    },\n    inMobileWebView() {\n      return inMobileWebView()\n    },\n    clientIsThemeable() {\n      return (\n        !inMobileWebView() ||\n        new URLSearchParams(window.location.search).get('themeable') === 'true'\n      )\n    },\n  },\n\n  created() {\n    this.fetchNotificationPlugins()\n    this.fetchNotificationChannels()\n    this.fetchUser()\n  },\n\n  mounted() {\n    this.checkMobileLayout()\n    window.onresize = this.checkMobileLayout\n    if (this.useMobileLayout) {\n      document.querySelector('body').style.paddingTop = '0px'\n    }\n  },\n\n  methods: {\n    updateRoute(newTabIndex) {\n      const section = Object.values(this.visibleSections)[newTabIndex]\n      this.$router.replace({ path: section.route })\n    },\n    logout() {\n      this.$swal.Confirm.fire({\n        title: 'Confirmation',\n        html: '<p class=\"text-center\">You a going to logout from your account</p>',\n        confirmButtonText: 'Logout',\n        cancelButtonText: 'Cancel',\n      }).then((result) => {\n        if (result.isConfirmed) {\n          window.location.replace('/accounts/logout/')\n        }\n      })\n    },\n    checkMobileLayout() {\n      const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)\n      this.useMobileLayout = inMobileWebView() || vw < 1140\n    },\n    fetchUser() {\n      return axios.get(urls.user()).then((response) => {\n        this.user = response.data\n      })\n    },\n    fetchNotificationPlugins() {\n      return axios.get(urls.notificationPlugins()).then((response) => {\n        const plugins = response.data.plugins || {}\n        this.availableNotificationPlugins = plugins\n        for (const [key, val] of Object.entries(this.sections)) {\n          if (val.isNotificationChannel) {\n            this.sections[key].pluginInfo = plugins[val.channelName]\n          }\n        }\n      })\n    },\n    fetchNotificationChannels() {\n      return axios.get(urls.notificationChannels()).then((response) => {\n        const channels = response.data\n        this.configuredNotificationChannels = channels\n        for (const [key, val] of Object.entries(this.sections)) {\n          if (val.isNotificationChannel) {\n            this.sections[key].channelInfo = channels.find(\n              (channel) => channel.name === val.channelName\n            )\n          }\n        }\n      })\n    },\n    createNotificationChannel({ section, config, opts = {} }) {\n      const data = {\n        user: this.user.id,\n        name: section.channelName,\n        config,\n        ...opts,\n      }\n\n      const key = getNotificationSettingKey(section, 'config')\n      this.setSavingStatus(key, true)\n\n      return axios\n        .post(urls.notificationChannels(), data)\n        .then(() => {\n          this.setSavingStatus(key, false)\n          this.$router.go()\n        })\n        .catch((err) => {\n          this.setSavingStatus(key, false)\n          if (err.response && err.response.data && typeof err.response.data === 'object') {\n            let errors = []\n            for (const error of Object.values(err.response.data)) {\n              if (typeof error === 'object') {\n                for (const innnerError of Object.values(error)) {\n                  errors.push(innnerError)\n                }\n              } else if (typeof error === 'string') {\n                errors.push(error)\n              } else {\n                console.warn('Undefined error object structure')\n                console.log(err.response)\n              }\n            }\n            const key = getNotificationSettingKey(section, 'config')\n            this.$set(this.errorMessages, key, errors)\n          } else {\n            this._showErrorPopup(err, 'Can not update your preferences')\n          }\n        })\n    },\n    patchNotificationChannel({ section, propNames, propValues }) {\n      if (propValues !== undefined) {\n        // assuming propNames.length and propValues.lenth are equal\n        propValues.forEach((value, index) => {\n          const propName = propNames[index]\n          this.sections[section.channelName].channelInfo[propName] = value\n        })\n      }\n\n      let data = {\n        name: section.channelName,\n      }\n\n      for (const prop of propNames) {\n        data[prop] = section.channelInfo[prop]\n      }\n\n      for (const prop of propNames) {\n        const key = getNotificationSettingKey(section, prop)\n        this.setSavingStatus(key, true)\n      }\n\n      return axios\n        .patch(urls.updateNotificationChannel(section.channelInfo.id), data)\n        .then(() => {\n          for (const prop of propNames) {\n            const key = getNotificationSettingKey(section, prop)\n            this.setSavingStatus(key, false)\n          }\n        })\n        .catch((err) => {\n          for (const prop of propNames) {\n            const key = getNotificationSettingKey(section, prop)\n            this.setSavingStatus(key, false)\n          }\n          if (err.response && err.response.data && typeof err.response.data === 'object') {\n            let errors = []\n            for (const error of Object.values(err.response.data)) {\n              if (typeof error === 'object') {\n                for (const innnerError of Object.values(error)) {\n                  errors.push(innnerError)\n                }\n              } else if (typeof error === 'string') {\n                errors.push(error)\n              } else {\n                console.warn('Undefined error object structure')\n                console.log(err.response)\n              }\n            }\n            for (const prop of propNames) {\n              const key = getNotificationSettingKey(section, prop)\n              this.$set(this.errorMessages, key, errors)\n            }\n          } else {\n            this._showErrorPopup(err, 'Can not update your preferences')\n          }\n        })\n    },\n    deleteNotificationChannel(section) {\n      return axios\n        .delete(urls.updateNotificationChannel(section.channelInfo.id))\n        .then(() => {\n          this.$router.go()\n        })\n        .catch((err) => {\n          this._showErrorPopup(err, 'Can not update your preferences')\n        })\n    },\n    clearErrorMessages(propName) {\n      this.errorMessages[propName] = []\n    },\n    addErrorMessage(propName, message) {\n      this.errorMessages[propName]\n        ? this.errorMessages[propName].push(message)\n        : (this.errorMessages[propName] = [message])\n    },\n    patchUser(propName, propValue) {\n      let data = {}\n      let key = propName\n      const combinedInputs = this.checkForCombinedValues(propName)\n      if (combinedInputs) {\n        // Must include all the inputs from the array\n        // or don't send if some of them have no data\n        for (const input of combinedInputs.inputs) {\n          key = combinedInputs.key\n          const value = this.user[input]\n          data[input] = value\n        }\n        // Allow either completely empty or completely filled data\n        const values = Object.values(data)\n        const emptyValues = values.filter((val) => !val)\n        if (emptyValues.length !== values.length && emptyValues.length !== 0) {\n          return\n        }\n      } else {\n        data = { [propName]: propValue }\n      }\n      this.setSavingStatus(key, true)\n      // Make request to API\n      return axios\n        .patch(urls.user(), data)\n        .catch((err) => {\n          if (err.response && err.response.data && typeof err.response.data === 'object') {\n            if (err.response.data.non_field_errors) {\n              this._showErrorPopup(err, err.response.data.non_field_errors)\n            } else {\n              for (const error in err.response.data) {\n                this.errorMessages[key] = err.response.data[error]\n              }\n            }\n          } else {\n            this._showErrorPopup(err, 'Can not update your preferences')\n          }\n        })\n        .then(() => {\n          // send to mobile app to update it's state\n          if (window.ReactNativeWebView) {\n            if (key === 'first_name') {\n              window.ReactNativeWebView.postMessage(\n                JSON.stringify({ firstName: this.user.first_name })\n              )\n            } else if (key === 'last_name') {\n              window.ReactNativeWebView.postMessage(\n                JSON.stringify({ lastName: this.user.last_name })\n              )\n            }\n          }\n\n          this.setSavingStatus(key, false)\n        })\n    },\n    checkForCombinedValues(propName) {\n      for (const [key, inputs] of Object.entries(this.combinedInputs)) {\n        if (inputs.includes(propName)) {\n          return { inputs, key }\n        }\n      }\n      return null\n    },\n    setSavingStatus(propName, status) {\n      if (status) {\n        delete this.errorMessages[propName]\n      }\n      this.$set(this.saving, propName, status)\n    },\n    updateSetting(settingsItem, value) {\n      if (value !== undefined) {\n        this.user[settingsItem] = value\n      }\n\n      if (settingsItem in this.delayedSubmit) {\n        const delayInfo = this.delayedSubmit[settingsItem]\n        if (delayInfo['timeoutId']) {\n          clearTimeout(delayInfo['timeoutId'])\n        }\n        this.delayedSubmit[settingsItem]['timeoutId'] = setTimeout(() => {\n          this.patchUser(settingsItem, this.user[settingsItem])\n        }, delayInfo['delay'])\n        return\n      }\n      this.patchUser(settingsItem, this.user[settingsItem])\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.flex-full-size\n  display: flex\n  flex-direction: column\n  flex: 1\n.desktop-settings-wrapper\n  margin: 0\n  background-color: var(--color-surface-secondary)\n  border-radius: var(--border-radius-lg)\n  ::v-deep .desktop-settings-content\n    padding: 2rem\n    padding-right: 3rem\n.mobile-settings-wrapper\n  flex: 1\n  background-color: var(--color-surface-secondary)\n  padding: 1.5rem\n  .mobile-settings-content\n    padding-right: 1rem\n  .mobile-settings-categories\n    .categories-title\n      font-weight: bold\n      font-size: 1.5rem\n      margin-bottom: 1rem\n    a\n      color: var(--text-primary)\n      display: flex\n      justify-content: space-between\n      align-items: center\n      padding: .8rem 0\n      border-bottom: 1px solid var(--color-divider)\n      font-size: 1.2em\n      &.subcategory\n        font-size: 1em\n        padding-left: 1.625em\n      i\n        font-size: .8rem\n::v-deep section:not(:first-child) .section-title\n  margin-top: 2rem\n::v-deep .section-title\n  font-weight: bold\n  font-size: 1.5rem\n  padding-bottom: .25rem\n  border-bottom: 1px solid var(--color-text-primary)\n  margin-bottom: 1.5rem\n::v-deep .settings-nav\n  width: 25%\n  background-color: var(--color-surface-primary)\n  min-height: 80vh\n  padding: 1.5rem 1rem\n  border-radius: var(--border-radius-lg) 0 0 var(--border-radius-lg)\n  .subcategory\n    a\n      padding-left: 3.125em\n      font-size: 0.9em\n  .active\n    border-radius: 6px\n  a\n    border: initial\n::v-deep .nav-tabs\n  border-bottom: none\n\n::v-deep .inactive\n  opacity: .3\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPreferencesPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPreferencesPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserPreferencesPage.vue?vue&type=template&id=2b214f19&scoped=true&\"\nimport script from \"./UserPreferencesPage.vue?vue&type=script&lang=js&\"\nexport * from \"./UserPreferencesPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserPreferencesPage.vue?vue&type=style&index=0&id=2b214f19&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b214f19\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('page-layout',{scopedSlots:_vm._u([{key:\"topBarRight\",fn:function(){return [_c('div',[_c('b-dropdown',{attrs:{\"right\":\"\",\"no-caret\":\"\",\"toggle-class\":\"icon-btn\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('i',{staticClass:\"fas fa-filter\"})]},proxy:true}])},[_vm._l((_vm.eventClassFiltering),function(eventClass){return _c('b-dropdown-item',{key:eventClass.key,on:{\"click\":function($event){return _vm.toggleEventFiltering('eventClassFiltering', eventClass.key)}}},[_c('i',{staticClass:\"fas fa-check text-primary\",style:({ visibility: eventClass.selected ? 'visible' : 'hidden' })}),_c('span',{class:_vm.cssClassFromEventClass(eventClass.key)},[_vm._v(_vm._s(eventClass.title))])])}),_c('b-dropdown-divider'),_vm._l((_vm.eventTypeFiltering),function(eventType){return _c('b-dropdown-item',{key:eventType.key,on:{\"click\":function($event){return _vm.toggleEventFiltering('eventTypeFiltering', eventType.key)}}},[_c('i',{staticClass:\"fas fa-check text-primary\",style:({ visibility: eventType.selected ? 'visible' : 'hidden' })}),_vm._v(_vm._s(eventType.title)+\" \")])})],2)],1)]},proxy:true},{key:\"content\",fn:function(){return [_c('b-container',[_c('b-row',{staticClass:\"justify-content-center\"},[_c('div',{staticClass:\"col-sm-12 col-md-10 col-lg-8\"},[(!_vm.loading && _vm.printerEvents.length === 0)?_c('div',{staticClass:\"text-center\"},[_c('img',{staticClass:\"w-25 my-4\",attrs:{\"src\":require('@static/img/vacation.gif')}}),_c('h5',{staticClass:\"text-primary\"},[_vm._v(\"Nothing to look here. Enjoy your vacation!\")])]):_c('div',[_vm._l((_vm.printerEvents),function(item){return _c('printer-event-card',{key:item.id,attrs:{\"printer-event\":item}})}),_c('mugen-scroll',{staticClass:\"text-center p-4\",attrs:{\"handler\":_vm.fetchMoreData,\"should-handle\":!_vm.loading}},[(_vm.noMoreData)?_c('div',{staticClass:\"text-center p-2\"},[_vm._v(\"No more notifications.\")]):_vm._e(),(!_vm.noMoreData)?_c('b-spinner',{attrs:{\"label\":\"Loading...\"}}):_vm._e()],1)],2)])])],1)]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"printer-event-card my-3\",class:_vm.tintBorderClass},[_c('div',{staticClass:\"printer-event-text\",class:{ link: _vm.printerEvent.info_url },on:{\"click\":_vm.onTextClick}},[_c('div',{staticClass:\"title font-weight-bold my-2\",class:_vm.tintClass},[_vm._v(\" \"+_vm._s(_vm.eventTitle)+\" \"),(_vm.printerEvent.info_url)?_c('i',{staticClass:\"fas fa-external-link-alt\"}):_vm._e()]),_c('div',{staticClass:\"description\",domProps:{\"innerHTML\":_vm._s(_vm.printerEvent.event_text)}}),_c('div',{staticClass:\"my-2 text-muted font-weight-light small\"},[_vm._v(\" \"+_vm._s(_vm.printerEvent.created_at.format('LLLL'))+\" \")])]),(_vm.printerEvent.image_url)?_c('div',{staticClass:\"printer-event-snapshot\",style:({ backgroundImage: `url(${_vm.printerEvent.image_url})` })}):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"printer-event-card my-3\" :class=\"tintBorderClass\">\n    <div class=\"printer-event-text\" :class=\"{ link: printerEvent.info_url }\" @click=\"onTextClick\">\n      <div class=\"title font-weight-bold my-2\" :class=\"tintClass\">\n        {{ eventTitle }}\n        <i v-if=\"printerEvent.info_url\" class=\"fas fa-external-link-alt\"></i>\n      </div>\n      <div class=\"description\" v-html=\"printerEvent.event_text\"></div>\n      <div class=\"my-2 text-muted font-weight-light small\">\n        {{ printerEvent.created_at.format('LLLL') }}\n      </div>\n    </div>\n    <div\n      v-if=\"printerEvent.image_url\"\n      :style=\"{ backgroundImage: `url(${printerEvent.image_url})` }\"\n      class=\"printer-event-snapshot\"\n    ></div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'PrinterEventCard',\n\n  components: {},\n\n  props: {\n    printerEvent: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  computed: {\n    eventTitle() {\n      return this.printerEvent.event_title || 'Unknown event'\n    },\n    tintClass() {\n      switch (this.printerEvent.event_class) {\n        case 'ERROR':\n          return 'text-danger'\n        case 'WARNING':\n          return 'text-warning'\n        case 'SUCCESS':\n          return 'text-success'\n        default:\n          return ''\n      }\n    },\n    tintBorderClass() {\n      switch (this.printerEvent.event_class) {\n        case 'ERROR':\n          return 'border-danger'\n        case 'WARNING':\n          return 'border-warning'\n        case 'SUCCESS':\n          return 'border-success'\n        default:\n          return ''\n      }\n    },\n  },\n\n  methods: {\n    onTextClick() {\n      if (this.printerEvent.info_url) {\n        window.open(this.printerEvent.info_url, '_blank')\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.printer-event-card\n  display: flex\n  justify-content: space-between\n  border-radius: var(--border-radius-sm)\n  background-color: var(--color-surface-secondary)\n  border-left: solid thick\n\n  >:last-child\n    border-top-right-radius: inherit\n    border-bottom-right-radius: inherit\n\n.printer-event-text\n  flex: 1\n  padding: 0px 14px\n  overflow: hidden\n\n  .title\n    display: flex\n    justify-content: space-between\n\n  &.link\n    &:hover\n      cursor: pointer\n      opacity: .9\n\n  .description ::v-deep div\n    text-overflow: ellipsis\n    overflow: hidden\n    white-space: nowrap\n\n.printer-event-snapshot\n  flex: 0 0 120px\n  background-size: cover\n  background-repeat: no-repeat\n  background-position: center center\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterEventCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterEventCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrinterEventCard.vue?vue&type=template&id=0f7e8e5e&scoped=true&\"\nimport script from \"./PrinterEventCard.vue?vue&type=script&lang=js&\"\nexport * from \"./PrinterEventCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrinterEventCard.vue?vue&type=style&index=0&id=0f7e8e5e&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f7e8e5e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <page-layout>\n    <template #topBarRight>\n      <div>\n        <b-dropdown right no-caret toggle-class=\"icon-btn\">\n          <template #button-content>\n            <i class=\"fas fa-filter\"></i>\n          </template>\n          <b-dropdown-item\n            v-for=\"eventClass in eventClassFiltering\"\n            :key=\"eventClass.key\"\n            @click=\"toggleEventFiltering('eventClassFiltering', eventClass.key)\"\n          >\n            <i\n              class=\"fas fa-check text-primary\"\n              :style=\"{ visibility: eventClass.selected ? 'visible' : 'hidden' }\"\n            ></i\n            ><span :class=\"cssClassFromEventClass(eventClass.key)\">{{ eventClass.title }}</span>\n          </b-dropdown-item>\n          <b-dropdown-divider />\n          <b-dropdown-item\n            v-for=\"eventType in eventTypeFiltering\"\n            :key=\"eventType.key\"\n            @click=\"toggleEventFiltering('eventTypeFiltering', eventType.key)\"\n          >\n            <i\n              class=\"fas fa-check text-primary\"\n              :style=\"{ visibility: eventType.selected ? 'visible' : 'hidden' }\"\n            ></i\n            >{{ eventType.title }}\n          </b-dropdown-item>\n        </b-dropdown>\n      </div>\n    </template>\n    <template #content>\n      <b-container>\n        <b-row class=\"justify-content-center\">\n          <div class=\"col-sm-12 col-md-10 col-lg-8\">\n            <div v-if=\"!loading && printerEvents.length === 0\" class=\"text-center\">\n              <img :src=\"require('@static/img/vacation.gif')\" class=\"w-25 my-4\" />\n              <h5 class=\"text-primary\">Nothing to look here. Enjoy your vacation!</h5>\n            </div>\n            <div v-else>\n              <printer-event-card\n                v-for=\"item in printerEvents\"\n                :key=\"item.id\"\n                :printer-event=\"item\"\n              />\n              <mugen-scroll\n                :handler=\"fetchMoreData\"\n                :should-handle=\"!loading\"\n                class=\"text-center p-4\"\n              >\n                <div v-if=\"noMoreData\" class=\"text-center p-2\">No more notifications.</div>\n                <b-spinner v-if=\"!noMoreData\" label=\"Loading...\"></b-spinner>\n              </mugen-scroll>\n            </div>\n          </div>\n        </b-row>\n      </b-container>\n    </template>\n  </page-layout>\n</template>\n\n<script>\nimport filter from 'lodash/filter'\nimport map from 'lodash/map'\nimport axios from 'axios'\nimport MugenScroll from 'vue-mugen-scroll'\n\nimport urls from '@config/server-urls'\nimport PageLayout from '@src/components/PageLayout.vue'\nimport PrinterEventCard from '@src/components/printer-events/PrinterEventCard.vue'\nimport { getLocalPref, setLocalPref } from '@src/lib/pref'\nimport { normalizedPrinterEvent } from '@src/lib/normalizers'\nimport findIndex from 'lodash/findIndex'\n\nconst LOCAL_PREF_NAMES = {\n  eventClassFiltering: 'printer-event-class-filtering',\n  eventTypeFiltering: 'printer-event-type-filtering',\n}\n\nconst localPrefKey = (prefix, key) => {\n  return `${LOCAL_PREF_NAMES['prefix']}.${key}`\n}\n\nconst localPref = (prefix, key, defaultValue) => {\n  return getLocalPref(localPrefKey(prefix, key), defaultValue)\n}\n\nconst PAGE_SIZE = 12\n\nexport default {\n  name: 'PrinterEventsPage',\n\n  components: {\n    MugenScroll,\n    PageLayout,\n    PrinterEventCard,\n  },\n\n  props: {},\n\n  data() {\n    return {\n      printerEvents: [],\n      loading: false,\n      noMoreData: false,\n      eventClassFiltering: [\n        { key: 'ERROR', title: 'Error', selected: localPref('eventClassFiltering', 'ERROR', true) },\n        {\n          key: 'WARNING',\n          title: 'Warning',\n          selected: localPref('eventClassFiltering', 'WARNING', true),\n        },\n        {\n          key: 'SUCCESS',\n          title: 'Successs',\n          selected: localPref('eventClassFiltering', 'SUCCESS', true),\n        },\n        { key: 'INFO', title: 'Other', selected: localPref('eventClassFiltering', 'INFO', true) },\n      ],\n      eventTypeFiltering: [\n        {\n          key: 'ALERT',\n          title: 'Failure Detection',\n          selected: localPref('eventTypeFiltering', 'ALERT', true),\n        },\n        {\n          key: 'ENDED',\n          title: 'Print Job Ended',\n          selected: localPref('eventTypeFiltering', 'ENDED', true),\n        },\n        {\n          key: 'STARTED',\n          title: 'Print Job Started',\n          selected: localPref('eventTypeFiltering', 'STARTED', true),\n        },\n        {\n          key: 'PAUSE_RESUME',\n          title: 'Print Job Paused/Resumed',\n          selected: localPref('eventTypeFiltering', 'PAUSE_RESUME', true),\n        },\n        {\n          key: 'FILAMENT_CHANGE',\n          title: 'Filament Change',\n          selected: localPref('eventTypeFiltering', 'FILAMENT_CHANGE', true),\n        },\n        {\n          key: 'PRINTER_ERROR',\n          title: 'Printer Error',\n          selected: localPref('eventTypeFiltering', 'PRINTER_ERROR', true),\n        },\n      ],\n    }\n  },\n\n  created() {\n    this.refetchData()\n  },\n\n  methods: {\n    fetchMoreData() {\n      if (this.noMoreData) {\n        return\n      }\n\n      this.loading = true\n      const filter_by_classes = map(filter(this.eventClassFiltering, 'selected'), 'key')\n      const filter_by_types = map(filter(this.eventTypeFiltering, 'selected'), 'key')\n      axios\n        .get(urls.printerEvents(), {\n          params: {\n            start: this.printerEvents.length,\n            limit: PAGE_SIZE,\n            filter_by_classes,\n            filter_by_types,\n          },\n        })\n        .then((response) => {\n          this.loading = false\n          this.noMoreData = response.data.length < PAGE_SIZE\n          this.printerEvents.push(...response.data.map((data) => normalizedPrinterEvent(data)))\n        })\n    },\n    refetchData() {\n      this.printerEvents = []\n      this.noMoreData = false\n      this.fetchMoreData()\n    },\n    cssClassFromEventClass(eventClass) {\n      switch (eventClass) {\n        case 'ERROR':\n          return 'text-danger'\n        case 'INFO':\n          return ''\n        default:\n          return `text-${eventClass.toLowerCase()}`\n      }\n    },\n    toggleEventFiltering(filter, key) {\n      const i = findIndex(this[filter], (f) => f.key == key)\n      const original = this[filter][i]\n      this.$set(this[filter], i, { ...original, selected: !original.selected })\n      setLocalPref(localPrefKey('eventClassFiltering', filter.key), !original.selected)\n      this.refetchData()\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterEventsPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterEventsPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrinterEventsPage.vue?vue&type=template&id=170eef32&scoped=true&\"\nimport script from \"./PrinterEventsPage.vue?vue&type=script&lang=js&\"\nexport * from \"./PrinterEventsPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"170eef32\",\n  null\n  \n)\n\nexport default component.exports","import VueRouter from 'vue-router'\nimport routes from '@config/user-preferences/routes'\nimport wizardRoutes from '@src/views/printer-wizard/wizard-routes'\n\nimport NewOctoPrintTunnelPage from '@src/views/NewOctoPrintTunnelPage.vue'\nimport OctoPrintTunnelPage from '@src/views/OctoPrintTunnelPage.vue'\nimport PrintShotFeedbackApp from '@src/views/PrintShotFeedbackApp.vue'\nimport PrintHistoryPage from '@src/views/PrintHistoryPage.vue'\nimport PrintsPage from '@src/views/PrintsPage.vue'\nimport PrintPage from '@src/views/PrintPage.vue'\nimport UploadPrintPage from '@src/views/UploadPrintPage.vue'\nimport PrinterListPage from '@src/views/PrinterListPage.vue'\nimport SharedPrinterPage from '@src/views/SharedPrinterPage.vue'\nimport PrinterSettingsPage from '@src/views/PrinterSettingsPage.vue'\nimport PrinterWizardPage from '@src/views/printer-wizard/PrinterWizardPage.vue'\nimport PrinterControlPage from '@src/views/PrinterControlPage.vue'\nimport GCodeFoldersPage from '@src/views/GCodeFoldersPage.vue'\nimport GCodeFilePage from '@src/views/GCodeFilePage.vue'\nimport UserPreferencesPage from '@src/views/UserPreferencesPage.vue'\nimport PrinterEventsPage from '@src/views/PrinterEventsPage.vue'\n\nconst router = new VueRouter({\n  mode: 'history',\n  routes: [\n    {\n      path: '/g_code_folders/cloud/:parentFolder',\n      component: GCodeFoldersPage,\n    },\n    {\n      path: '/g_code_folders/local/:printerId/:parentFolder?',\n      component: GCodeFoldersPage,\n    },\n    {\n      path: '/g_code_files/cloud/:fileId',\n      component: GCodeFilePage,\n    },\n    {\n      path: '/g_code_files/local/:printerId/:fileId',\n      component: GCodeFilePage,\n    },\n    {\n      path: '/user_preferences',\n      component: UserPreferencesPage,\n    },\n    ...Object.values(routes).map((route) => ({\n      path: route,\n      component: UserPreferencesPage,\n    })),\n\n    ...Object.values(wizardRoutes).map((route) => ({\n      path: route,\n      component: PrinterWizardPage,\n    })),\n  ],\n})\n\nconst components = {\n  NewOctoPrintTunnelPage,\n  OctoPrintTunnelPage,\n  PrintShotFeedbackApp,\n  PrinterListPage,\n  SharedPrinterPage,\n  PrinterSettingsPage,\n  PrinterWizardPage,\n  PrinterControlPage,\n  GCodeFoldersPage,\n  GCodeFilePage,\n  PrintsPage,\n  PrintPage,\n  PrintHistoryPage,\n  UploadPrintPage,\n  UserPreferencesPage,\n  PrinterEventsPage,\n}\n\nexport { router, components }\n","import mountVue from '@src/mount'\nimport { router, components } from '@src/pages'\n\nmountVue(router, components)\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NumberInput.vue?vue&type=style&index=0&id=66233dc0&prod&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoBox.vue?vue&type=style&index=0&id=10df198e&prod&lang=sass&scoped=true&\"","import { isLocalStorageSupported } from './utils.js'\n\n\nconst Themes = {\n  Light: 'Light',\n  Dark: 'Dark',\n  System: 'System',\n}\n\nconst defaultTheme = (isLocalStorageSupported() ? localStorage.getItem('colorTheme') : Themes.Dark) || Themes.Dark\n\n\n// CSS Vars\n\nconst colors = [\n  {\n    name: 'primary',\n    values: {[Themes.Light]: '#01A299', [Themes.Dark]: '#03DAC5'},\n  },\n  {\n    name: 'primary-hover',\n    values: {[Themes.Light]: '#019592', [Themes.Dark]: '#70EFDE'},\n  },\n  {\n    name: 'primary-muted',\n    values: {[Themes.Light]: '#03DAC5', [Themes.Dark]: '#018786'},\n  },\n  {\n    name: 'on-primary',\n    values: {[Themes.Light]: '#FFFFFF', [Themes.Dark]: '#001210'},\n  },\n  {\n    name: 'secondary',\n    values: {[Themes.Light]: '#28303A', [Themes.Dark]: '#EBEBEB'},\n  },\n  {\n    name: 'secondary-hover',\n    values: {[Themes.Light]: '#424A54', [Themes.Dark]: '#D0D0D0'},\n  },\n  {\n    name: 'on-secondary',\n    values: {[Themes.Light]: '#EBEBEB', [Themes.Dark]: '#28303A'},\n  },\n  {\n    name: 'success',\n    values: {[Themes.Light]: '#5CB85C', [Themes.Dark]: '#5CB85C'},\n  },\n  {\n    name: 'success-hover',\n    values: {[Themes.Light]: '#4CAE4C', [Themes.Dark]: '#4CAE4C'},\n  },\n  {\n    name: 'on-success',\n    values: {[Themes.Light]: '#ffffff', [Themes.Dark]: '#ffffff'},\n  },\n  {\n    name: 'danger',\n    values: {[Themes.Light]: '#D9534F', [Themes.Dark]: '#D9534F'},\n  },\n  {\n    name: 'danger-hover',\n    values: {[Themes.Light]: '#C2413D', [Themes.Dark]: '#C2413D'},\n  },\n  {\n    name: 'on-danger',\n    values: {[Themes.Light]: '#ffffff', [Themes.Dark]: '#ffffff'},\n  },\n  {\n    name: 'warning',\n    values: {[Themes.Light]: '#F0AD4E', [Themes.Dark]: '#F0AD4E'},\n  },\n  {\n    name: 'warning-hover',\n    values: {[Themes.Light]: '#DB9A3F', [Themes.Dark]: '#DB9A3F'},\n  },\n  {\n    name: 'on-warning',\n    values: {[Themes.Light]: '#ffffff', [Themes.Dark]: '#ffffff'},\n  },\n  {\n    name: 'on-warning-2',\n    values: {[Themes.Light]: '#000000', [Themes.Dark]: '#000000'},\n  },\n  {\n    name: 'background',\n    values: {[Themes.Light]: '#EBEBEB', [Themes.Dark]: '#233141'},\n  },\n  {\n    name: 'surface-primary',\n    values: {[Themes.Light]: '#ffffff', [Themes.Dark]: '#485B71'},\n  },\n  {\n    name: 'surface-secondary',\n    values: {[Themes.Light]: '#F5F5F5', [Themes.Dark]: '#2D3E4F'},\n  },\n  {\n    name: 'overlay',\n    values: {[Themes.Light]: '#F5F5F5CC', [Themes.Dark]: '#000000CC'},\n  },\n  {\n    name: 'hover',\n    values: {[Themes.Light]: '#66666613', [Themes.Dark]: '#FFFFFF13'},\n  },\n  {\n    name: 'hover-accent',\n    values: {[Themes.Light]: '#66666626', [Themes.Dark]: '#C9E0FA26'},\n  },\n  {\n    name: 'divider',\n    values: {[Themes.Light]: '#ABB6C2', [Themes.Dark]: '#6A7B8A'},\n  },\n  {\n    name: 'divider-muted',\n    values: {[Themes.Light]: '#ABB6C266', [Themes.Dark]: '#6A7B8A66'},\n  },\n  {\n    name: 'text-primary',\n    values: {[Themes.Light]: '#28303A', [Themes.Dark]: '#EBEBEB'},\n  },\n  {\n    name: 'text-secondary',\n    values: {[Themes.Light]: '#8A94A2', [Themes.Dark]: '#AAACB0'},\n  },\n  {\n    name: 'text-help',\n    values: {[Themes.Light]: '#4C9BE8', [Themes.Dark]: '#4C9BE8'},\n  },\n\n  {\n    name: 'input-background',\n    values: {[Themes.Light]: '#E2E8ED', [Themes.Dark]: '#42566B'},\n  },\n  {\n    name: 'input-placeholder',\n    values: {[Themes.Light]: '#28303A80', [Themes.Dark]: '#EBEBEB80'},\n  },\n\n  {\n    name: 'table-accent',\n    values: {[Themes.Light]: '#E3E3E3', [Themes.Dark]: '#283848'},\n  },\n\n  // Icon colors\n  {\n    name: 'icon-tunneling-1',\n    values: {[Themes.Light]: '#4E5D6C', [Themes.Dark]: '#EAEAEA'},\n  },\n  {\n    name: 'icon-tunneling-2',\n    values: {[Themes.Light]: '#1D2935', [Themes.Dark]: '#CDCDCD'},\n  },\n]\n\nconst urls = [\n  {\n    name: 'loader',\n    values: {[Themes.Light]: 'url(\"/static/img/loader/loader_light-scheme.svg\")', [Themes.Dark]: 'url(\"/static/img/loader/loader_dark-scheme.svg\")'},\n  },\n]\n\nconst shadows = [\n  {\n    name: 'top-nav',\n    values: {[Themes.Light]: '0px 2px 10px rgb(0 0 0 / .1)', [Themes.Dark]: '0px 2px 10px rgb(0 0 0 / .3)'},\n  },\n]\n\n\n// Get theme value (exclude \"System\")\nfunction currentThemeValue(theme) {\n  // Get system settings\n  if (theme.value === Themes.System) {\n    if (window.matchMedia('(prefers-color-scheme)').media !== 'not all' && window.matchMedia('(prefers-color-scheme: light)').matches) {\n      return Themes.Light\n    } else {\n      return Themes.Dark\n    }\n  }\n  // Return saved value since it's not \"System\"\n  return theme.value\n}\n\n\nfunction initTheme(themeValue) {\n  colors.forEach(function(color) {\n    document.documentElement.style.setProperty(`--color-${color.name}`, color.values[themeValue])\n\n    if (color.name === 'surface-secondary') {\n      // Set the <meta name=\"theme-color\"> tag to theme the browser nav bar (Safari)\n      let meta = document.querySelector('meta[name=\"theme-color\"]')\n      meta.content = color.values[themeValue]\n    }\n  })\n\n  urls.forEach(function(url) {\n    document.documentElement.style.setProperty(`--url-${url.name}`, url.values[themeValue])\n  })\n\n  shadows.forEach(function(shadow) {\n    document.documentElement.style.setProperty(`--shadow-${shadow.name}`, shadow.values[themeValue])\n  })\n}\n\n\nexport {\n  Themes,\n  defaultTheme,\n\n  colors,\n  urls,\n  shadows,\n\n  currentThemeValue,\n  initTheme,\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadPrintPage.vue?vue&type=style&index=0&id=7c2ff1dc&prod&lang=sass&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileStructureItem.vue?vue&type=style&index=0&id=6c461261&prod&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GCodeFilePage.vue?vue&type=style&index=0&id=0e8ada94&prod&lang=sass&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DiscoveredPrinter.vue?vue&type=style&index=0&id=4f696e27&prod&lang=sass&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterControlPage.vue?vue&type=style&index=0&id=5e1abd22&prod&lang=sass&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FullScreenPrintCard.vue?vue&type=style&index=0&id=749e3f52&prod&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamingBox.vue?vue&type=style&index=0&id=15d3ba01&prod&lang=sass&scoped=true&\"","// Check if localStorage available\nexport function isLocalStorageSupported() {\n  try {\n    const key = '__random_key_we_are_not_going_to_use__'\n    localStorage.setItem(key, key)\n    localStorage.removeItem(key)\n    return true\n  } catch (e) {\n    return false\n  }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primary\":\"#00c4b4\",\"white\":\"#fff\"};","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterListPage.vue?vue&type=style&index=1&id=0f0bbe55&prod&lang=sass&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintsPage.vue?vue&type=style&index=0&id=542d3cfc&prod&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OctoPrintTunnelPage.vue?vue&type=style&index=1&id=6f68f84f&prod&lang=sass&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{class:{\n      'saving-in-progress': _vm.savingClass,\n      'successfully-saved': _vm.savingDoneClass,\n      'failed-to-save': _vm.savingFailedClass,\n      'small-height': _vm.smallHeightClass,\n    }},[_vm._t(\"default\")],2),(_vm.errors && _vm.errors.length > 0)?_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.errorMsg))]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div\n      :class=\"{\n        'saving-in-progress': savingClass,\n        'successfully-saved': savingDoneClass,\n        'failed-to-save': savingFailedClass,\n        'small-height': smallHeightClass,\n      }\"\n    >\n      <slot></slot>\n    </div>\n    <small v-if=\"errors && errors.length > 0\" class=\"text-danger\">{{ errorMsg }}</small>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'SavingAnimation',\n\n  props: {\n    saving: {\n      default() {\n        return false\n      },\n      type: Boolean,\n    },\n    errors: {\n      type: Array,\n      default: null,\n    },\n    height: {\n      default() {\n        return 'normal'\n      }, // normal, small\n      type: String,\n    },\n  },\n\n  data() {\n    return {\n      savingTimeout: null,\n      savingDoneTimeout: null,\n    }\n  },\n\n  computed: {\n    savingClass() {\n      return this.saving && this.savingTimeout\n    },\n    savingDoneClass() {\n      return !this.saving && this.savingDoneTimeout && !this.errors\n    },\n    savingFailedClass() {\n      return !this.saving && this.savingDoneTimeout && this.errors && this.errors.length > 0\n    },\n    smallHeightClass() {\n      return this.height === 'small'\n    },\n    errorMsg() {\n      return this.errors ? this.errors.join(' ') : ''\n    },\n  },\n\n  watch: {\n    saving: function (nowSaving, prevSaving) {\n      // watch it\n      if (!prevSaving && nowSaving) {\n        this.clearSavingTimeout()\n        this.savingTimeout = setTimeout(this.clearSavingTimeout, 15 * 1000)\n      } else if (prevSaving && !nowSaving) {\n        this.clearSavingTimeout()\n        this.savingDoneTimeout = setTimeout(() => {\n          clearTimeout(this.savingDoneTimeout)\n          this.savingDoneTimeout = null\n        }, 2 * 1000)\n      }\n    },\n  },\n\n  methods: {\n    clearSavingTimeout() {\n      if (this.savingTimeout) {\n        clearTimeout(this.savingTimeout)\n        this.savingTimeout = null\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.saving-in-progress, .successfully-saved, .failed-to-save\n  $indicatorSize: 16px\n\n  &:before\n    content: \"\"\n    background-size: $indicatorSize $indicatorSize\n    width: $indicatorSize\n    height: $indicatorSize\n    display: block\n    position: absolute\n    top: 0\n    bottom: 0\n    right: -#{$indicatorSize + 12px}\n    margin: auto\n    z-index: 9\n\n  &.saving-in-progress\n    position: relative\n\n    &:before\n      background-image: var(--url-loader)\n\n  &.successfully-saved\n    position: relative\n\n    &:before\n      background-image: url('/static/img/tick.svg')\n\n  &.failed-to-save\n    position: relative\n\n    &:before\n      background-image: url('/static/img/cross.svg')\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavingAnimation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavingAnimation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SavingAnimation.vue?vue&type=template&id=2e4df370&scoped=true&\"\nimport script from \"./SavingAnimation.vue?vue&type=script&lang=js&\"\nexport * from \"./SavingAnimation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SavingAnimation.vue?vue&type=style&index=0&id=2e4df370&prod&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e4df370\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterEventCard.vue?vue&type=style&index=0&id=0f7e8e5e&prod&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/klipper_logo.jpg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavingAnimation.vue?vue&type=style&index=0&id=2e4df370&prod&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/raspberry_pi.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetectiveWorking.vue?vue&type=style&index=0&id=f48a916e&prod&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GCodeFoldersPage.vue?vue&type=style&index=0&id=4cd13ac3&prod&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/fluidd_logo.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchInput.vue?vue&type=style&index=0&id=46c9927d&prod&lang=sass&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GCodeFileStructure.vue?vue&type=style&index=0&id=46d7264c&prod&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/plugin_rerun_setup.png\";","import startCase from 'lodash/startCase'\nimport toLower from 'lodash/toLower'\nimport replace from 'lodash/replace'\nimport get from 'lodash/get'\n\nexport function getNotificationSettingKey(notificationChannel, key) {\n  return `${notificationChannel.channelName}_${key}`\n}\n\nexport function temperatureDisplayName(name) {\n  return startCase(toLower(replace(name, /_/g, ' ')))\n}\n\nexport const getNormalizedP = (predictions, currentPosition, isPublic) => {\n  const num = Math.round(predictions.length * currentPosition)\n  const propName = isPublic ? 'p' : 'fields.normalized_p'\n  return get(predictions[num], `${propName}`, 0)\n}\n\nexport const toArrayBuffer = (maybeBin, onData) => {\n  if (!maybeBin) {\n    return\n  }\n\n  if (maybeBin instanceof Blob) {\n    const reader = new FileReader()\n    reader.addEventListener('loadend', (e) => {\n      if (!e.srcElement) {\n        return\n      }\n      onData(e.srcElement.result)\n    })\n    reader.readAsArrayBuffer(maybeBin)\n  } else {\n    onData(maybeBin)\n  }\n}\n\nexport const getCsrfFromDocument = () => {\n  return document.getElementsByName('csrfmiddlewaretoken')[0]?.value\n}\n\nexport const downloadFile = (url, filename) => {\n  fetch(url)\n    .then((res) => res.blob())\n    .then((res) => {\n      const aElement = document.createElement('a')\n      aElement.setAttribute('download', filename)\n      const href = URL.createObjectURL(res)\n      aElement.href = href\n      aElement.setAttribute('target', '_blank')\n      aElement.click()\n      URL.revokeObjectURL(href)\n    })\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AvailablePrinters.vue?vue&type=style&index=0&id=5ba635dc&prod&lang=sass&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterWizardPage.vue?vue&type=style&index=1&id=c54b55ac&prod&lang=sass&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AutoLinkPopup.vue?vue&type=style&index=0&id=7fccd11b&prod&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageLayout.vue?vue&type=style&index=1&id=64388595&prod&lang=sass&scoped=true&\"","import entries from 'lodash/entries'\nimport map from 'lodash/map'\n\nexport default {\n  // APIs\n  printShotFeedback: (shotId, printId) =>\n    `/api/v1/printshotfeedbacks/${shotId}/?print_id=${printId}`,\n  print: (printId) => `/api/v1/prints/${printId}/`,\n  prints: () => '/api/v1/prints/',\n  printsBulkDelete: () => '/api/v1/prints/bulk_delete/',\n\n  printers: () => '/api/v1/printers/',\n  printer: (printerId) => `/api/v1/printers/${printerId}/`,\n  printerAction: (printerId, path) => `/api/v1/printers/${printerId}${path}`,\n  pubPrinter: () => '/api/v1p/printer/',\n\n  tunnels: () => '/api/v1/tunnels/',\n  tunnel: (id) => `/api/v1/tunnels/${id}/`,\n  tunnelUsage: () => '/api/v1/tunnelusage/',\n  verificationCode: () => '/api/v1/onetimeverificationcodes/',\n  user: () => '/api/v1/users/me/',\n  sharedResources: (paramsObj) =>\n    '/api/v1/sharedresources/?' + map(entries(paramsObj), (entry) => entry.join('=')).join('&'),\n  sharedResource: (resourceId) => `/api/v1/sharedresources/${resourceId}/`,\n  printerDiscovery: () => '/api/v1/printer_discovery/',\n  printerEvents: () => '/api/v1/printer_events/',\n\n  // Notifications\n  notificationPlugins: () => '/api/v1/notification_settings/available_plugins/',\n  notificationChannels: () => '/api/v1/notification_settings/',\n  updateNotificationChannel: (id) => `/api/v1/notification_settings/${id}/`,\n  testNotificationChannel: (id) => `/api/v1/notification_settings/${id}/send_test_message/`,\n\n  // App urls\n  printerControl: (printerId) => `/printers/${printerId}/control/`,\n  printerWebSocket: (printerId) => `/ws/web/${printerId}/`,\n  printerSharedWebSocket: (token) => `/ws/share_token/web/${token}/`,\n  printerWizard: (printerId) => `/printers/wizard/?printerId=${printerId}`,\n\n  // Gcodes\n  gcodeFile: (id) => `/api/v1/g_code_files/${id}/`,\n  gcodeFiles: () => '/api/v1/g_code_files/',\n  gcodeFolder: (id) => `/api/v1/g_code_folders/${id}/`,\n  gcodeFolders: () => '/api/v1/g_code_folders/',\n  gcode: (gcodeId) => `/api/v1/g_code_files/${gcodeId}/`,\n}\n","module.exports = __webpack_public_path__ + \"img/octoapp.webp\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintCard.vue?vue&type=style&index=0&id=1567a6cd&prod&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/generic-app.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageLayout.vue?vue&type=style&index=0&id=64388595&prod&lang=sass&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharedPrinterPage.vue?vue&type=style&index=0&id=2caa3a64&prod&lang=sass&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharePrinter.vue?vue&type=style&index=0&id=6f5a9b6b&prod&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterSettingsPage.vue?vue&type=style&index=0&id=4081d699&prod&lang=sass&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintPage.vue?vue&type=style&index=0&id=af8ca750&prod&lang=sass&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrinterWizardPage.vue?vue&type=style&index=0&id=c54b55ac&prod&lang=sass&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/plugin_verification_code.png\";","module.exports = __webpack_public_path__ + \"img/vacation.gif\";"],"sourceRoot":""}